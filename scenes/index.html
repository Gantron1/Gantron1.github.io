<!DOCTYPE html>
<html>
<!--
Copyright 2010 by Dan Fabulich.

Dan Fabulich licenses this file to you under the
ChoiceScript License, Version 1.0 (the "License"); you may
not use this file except in compliance with the License. 
You may obtain a copy of the License at

 http://www.choiceofgames.com/LICENSE-1.0.txt

See the License for the specific language governing
permissions and limitations under the License.

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
either express or implied.
-->
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name = "viewport" content = "width = device-width, initial-scale = 1.0, maximum-scale = 1.0">
<!-- INSERT correct meta values -->
<title>SeductQuest: The Dragon and the Princess</title>

<script>window.version="UNKNOWN"</script>










<!--[if IE 6]><style>.alertify-logs { position: absolute; }</style><![endif]-->

<meta name="apple-mobile-web-app-capable" content="yes" />
<link rel="apple-touch-icon-precomposed" href="mobile-icon.png"/>

<script>
// INSERT store name; disabled by default because it's confusing for newbie authors
window.storeName = null;
//Scene.generatedFast = true;
var rootDir = "../";
</script><script> allScenes = {"startup":{"crc":-1865884011,"labels":{"sm_top":361,"load":366,"delete":407,"sm_done":448,"startchoice":493,"listen":506,"investigate":514,"camp":533,"eat":539,"watch":544,"stepout":563},"lines":["*comment *********************","*comment **     HEADER      **","*comment *********************","","*title SeductQuest: The Dragon and the Princess","*author Frankie Lee","","*scene_list","\tstartup","\tcheck_achievements","\tadj_respect","\tadj_esteem","\tpiglist","\tmeet_tamara","\tintro","\tagreement","\tchardell","\tchardell_alone","\tlilypad","\thoneypot","\toldman","\tlilypad2","\thill_duel","\tcamp1","\tsugar","\tmorning_alone","\tjuliette","","*create debug true","","*comment *********************","*comment **  ACHIEVEMENTS   **","*comment *********************","","*achievement dragonname visible 2 Name of the Dragon","\tLearn the dragon's name.","\tYou learn the dragon's name is Myrristicor.","\t","*achievement weakness visible 2 Secret Weakness","\tLearn the dragon's secret weakness.","\tThe dragon has no secret weakness.","\t","*achievement holygrail visible 5 Holy Grail\t","\tFind the Holy Grail.","\tYou found the Holy Grail... inside Tamara.","*achievement contest hidden 1 Sit-in","\thidden","\tYou engaged in a stupid sitting contest.","\t","*achievement woncontest hidden 1 Won Sit-in","\thidden","\tYou actually \"won\" the stupid sitting contest.","\t","*achievement angrykiss visible 3 Angry Kiss","\tShare an angry kiss with Tamara.","\tYou shared an angry kiss with Tamara.","\t","*achievement soulkiss visible 6 Soul Kiss","\tKiss Tamara long and passionately.","\tYou kissed Tamara long and passionately.","","*achievement dragoneye visible 4 DragonEye","\tUse the DragonEye.","\tYou peered into the DragonEye.","\t","*achievement honey visible 3 Honey","\tHarvest some honey.","\tYou harvested honey.","","*achievement honeypot visible 7 Honeypot","\tDrink from Tamara's honeypot.","\tYou drank from Tamara's honeypot.","\t","*achievement sugarhoney hidden 7 Second Honeypot","\thidden","\tYou drank from Tamara's honeypot. (Second time.)","\t","*achievement sugar hidden 7 Sugar","\thidden","\tYou gave Tamara some sugar.","\t","*achievement beg visible 5 Begging","\tMake Tamara beg.","\tTamara begged on her knees.","\t","*achievement quid hidden 1 Begging #2","\thidden","\tTamara made you beg.","","*achievement blow visible 10 The Dive","\tMake Tamara take the dive.","\tTamara gave you a blowjob to show her sincerity.","\t","*achievement height visible 5 Height Advantage","\tGain the height advantage in a duel with Tamara.","\tYou gained the height advantage... briefly.","\t","*achievement duelsex visible 10 Duel Sex","\tNo, Tamara is not a hermaphrodite.","\tYou had sex with Tamara during a duel.","\t","*achievement backrub visible 4 Backrub","\tGive Tamara a long backrub.","\tYou gave Tamara a backrub with more than just your hands.","\t","*achievement deepthroat visible 10 Deepthroat","\tDeepthroat Tamara.","\tYou deepthroated Tamara.","\t","*achievement doggie visible 10 Doggie Style","\tDo Tamara doggie style.","\tYou did Tamara doggie style.","\t","*achievement twotimes visible 10 Multiple Orgasms","\tGive Tamara multiple orgasms.","\tYou gave Tamara two orgasms in a row.","\t","*achievement twotimes2 visible 10 Multiple Orgasms #2","\tLove me two times.","\tYou loved Tamara twice today.","","*achievement threetimes visible 10 Multiple Orgasms #3","\tGive Tamara multiple orgasms.","\tTamara had three orgasms in a row.","\t","*achievement straingasm visible 10 Squat-gasm","\tTensing her leg muscles can give Tamara an orgasm.","\tTamara brought herself to orgasm doing squats.","","*achievement shrine visible 10 Shrine to Hotness","\tWorship at the Shrine to Hotness.","\tYou worshipped Tamara's shrine to hotness.","","*achievement deadrise visible 5 Rise From the Dead","\tLet Tamara reawaken your spark.","\tTamara helped your cock rise again.","\t","*achievement treespring visible 10 Tree Spring","\tTurn Tamara's body into a spring.","\tYou turned Tamara's body into a spring.","","*achievement rtreespring visible 10 Reverse Tree Spring","\tBend Tamara over backwards against a tree.","\tYou turned Tamara's body into a spring, upside-down and backwards.","\t","*achievement horseplay visible 10 Horseplay","\tLet Tamara ride you like a horse.","\tTamara rode you like a horse.","\t","*achievement horserider visible 10 Riders on the Storm","\tRide Tamara like a horse.","\tYou rode Tamara like a horse.","\t","*achievement horsebreaker visible 5 Horsebreaker","\tWin the horse-breaking game.","\tSometimes when you win, you lose.","","*achievement comeface visible 10 Facial","\tCome on Tamara's face.","\tYou came on Tamara's face.","\t","*achievement comeface2 visible 10 Reverse Facial","\tCome on Tamara's face.","\tYou gave Tamara a cum facial.","\t","*achievement comeface3 visible 10 Another Facial","\tCome on Tamara's face.","\tYou covered Tamara's face with hot cum.","\t","*achievement cumriver visible 10 Come Me a River","\tCome a river down Tamara's body.","\tYour cum was like a river on Tamara's body.","\t","*achievement masturtoo visible 8 Double-handed","\tMasturbate Tamara while she masturbates you.","\tYou and Tamara masturbated each other to orgasm.","\t","*achievement assist visible 8 Assistant","\tBe Tamara's assistant while she masturbates.","\tYou helped Tamara masturbate... with your cock.","\t","*achievement sixtynine visible 10 69","\tGet Tamara in a 69.","\tYou and Tamara did a 69 with you on top.","\t","*achievement ttop69 visible 10 69 #2","\tLet Tamara get you in a 69.","\tYou and Tamara did a 69 with her on top.","\t","*achievement pound visible 10 Pounding","\tGive Tamara a good pounding.","\tYou pounded Tamara.","\t","*achievement bb69dt visible 10 Back-bend 69","\tGet Tamara to show you her contortionist skills.","\tTamara deepthroated you in a back-bend 69.","","*achievement asscome visible 10 Anal Sex","\tCome in Tamara's ass.","\tYou came in Tamara's ass.","\t","*achievement jumpbones visible 10 Jump Tamara's Bones","\tThrow Tamara down and jump her bones.","\tYou threw Tamara down and jumped her bones.","\t","*achievement fingertrap visible 10 Chinese Fingertrap","\tPenetrate Tamara from both ends.","\tYou filled Tamara both front and back.","\t","*achievement fingertrap2 visible 10 Fingertrap #2","\tPenetrate Tamara from both ends.","\tTamara got fucked on both ends simultaneously.","\t","*achievement fingertrap3 visible 10 Fingertrap 69","\tPenetrate Tamara from both ends in a 69 position.","\tYou fucked Tamara on both ends simultaneously and licked her too.","\t","*achievement doublepene visible 10 Double Penetration","\tFill both of Tamara's holes at once.","\tYou filled both of Tamara's holes, with help from her sword.","\t","*achievement vortex visible 6 Pulsating Vortex of Indescribable Sensations","\tLearn what the \"Pulsating Vortex of Indescribable Sensations\" is.","\tYou learned about (and experienced!) the Pulsating Vortex of Indescribable Sensations.","\t","*achievement instanto visible 10 One-Thrust Orgasm","\tMake Tamara come with a single powerful thrust.","\tYou made Tamara come with a single powerful thrust.","\t","*achievement volcano visible 10 Volcano Sex","\tErupt like a volcano inside Tamara.","\tYou erupted like a volcano inside Tamara.","","*achievement potionvictim visible 5 Up Against a Tree","\tFuck Tamara up against a tree.","\tYou fucked Tamara up against a tree... or was it the other way around?","\t","*achievement strip visible 3 Striptease","\tWatch Tamara do a striptease for you.","\tTamara danced just for you!","\t","*achievement slave visible 1 Slavery","\tBecome Tamara's slave.","\tYou are now Tamara's slave.","\t","*achievement cumbath visible 10 Cumbath","\tMake Tamara take a cumbath.","\tTamara rolled in puddles of cum.","","*achievement fulltamara visible 50 Full Carnal Knowledge of Tamara","\tIt will take several playthroughs.","\tYou possess full carnal knowledge of Tamara.","","*achievement nosex hidden 1 No Sex","\thidden","\tYou somehow managed to get no sex from Tamara despite all her hints.","\t","*achievement money visible 10 \"Show me the money!\"","\tWhat movie is that from?","\tFrom \"Jerry Mcguire.\"","\t","*achievement mango visible 10 \"I'm going to lick your cock like the inside of a ripe mango.\"","\tWhat movie is that from?","\tFrom \"The Opening of Misty Beethoven.\"","","*achievement eddiemurphy visible 10 \"That's not iiiiiit.\"","\tWhat comedian said this?","\tEddie Murphy, Delirious.","\t","*achievement changesame visible 10 \"The more things change, the more they stay the same.\"","\tWhat movie was that from?","\tFrom \"Escape From L.A.\"","\t","*achievement mash visible 10 \"...it brings on many changes, and I can take or leave it if you please.\"","\tWhat movie featured a song with these lyrics?","\tFrom \"M.A.S.H.\"","\t","*achievement ampie visible 10 \"I have reserves!\"","\tWhat movie features this phrase?","\tFrom \"American Pie.\"","","*achievement heavenandhell visible 10 \"The moon is just a sun at night.\"","\tWhat song is this from?","\tFrom \"Heaven and Hell\" by Black Sabbath.","\t","*achievement ending5 hidden 1 Ending #5: Meaningless Duel","\thidden","\tYou died in a meaningless duel.","","*achievement ending6 hidden 1 Ending #6: Over-Confident","\thidden","\tYou gave up on your quest after a particular embarrassing incident.","\t","*achievement ending7 hidden 1 Ending #7: Utter Exhaustion","\thidden","\tYou died from way, way too much masturbation.","","*comment *********************","*comment **      STATS      **","*comment *********************","\t","*create fname \"Warrior\"","*create lname \"\"","*create esteem 80","*create cur_health 40","*create max_health 40","","*comment *********************","*comment **  RELATIONSHIPS  **","*comment *********************","","*comment REL: 0 to 100, 50 being neutral","*comment tamara_respect: Starts at 0. Above X, and she starts to actually like him.","","*create met_tamara false","*create rel_tamara 50","*create tamara_respect 0","","*comment *********************","*comment **  SITUATIONALS   **","*comment *********************","","*create learned_dragon_sense false","*create had_pro_talk false","*create has_honey true","*create tamara_spat false","*create with_tamara false","*create tamara_laughed false","*create lilypad1_followed false","*create looked_in_dragoneye false","*create looked_ass false","*create was_polite false","*create past_path false","*create tracking_speech false","*create honey_breeches false","*create bee_sex false","*create banes_love_talk false","*create banes_sex_talk false","*create tamara_enemy false","*create hill_duel_outcome \"nothing\"","*create pommelpummeled false","*create tamara_begged false","*create deepthroat false","*create anal false","*create butterfly false","*create butterfly2 false","*create sleep_sex false","*create rise_vortex false","*create left_crying false","*create camp1_no_sex false","*create slave_deal false","*create tamaras_slave false","","*comment *************************","*comment *************************","*comment ****    TEST GOTO    ****","*comment *************************","*comment *************************","","*if debug","\t*sm_init dragonprincess | 11","\t*label sm_top","\t*choice","\t\t#Play from the beginning.","\t\t\t*goto sm_done","\t\t#Load","\t\t\t*label load","\t\t\t*choice","\t\t\t\t#${savemod_slot_0}","\t\t\t\t\t*sm_load 0 | false","\t\t\t\t\t*goto sm_done","\t\t\t\t#${savemod_slot_1}","\t\t\t\t\t*sm_load 1 | false","\t\t\t\t\t*goto sm_done","\t\t\t\t#${savemod_slot_2}","\t\t\t\t\t*sm_load 2 | false","\t\t\t\t\t*goto sm_done","\t\t\t\t#${savemod_slot_3}","\t\t\t\t\t*sm_load 3 | false","\t\t\t\t\t*goto sm_done","\t\t\t\t#${savemod_slot_4}","\t\t\t\t\t*sm_load 4 | false","\t\t\t\t\t*goto sm_done","\t\t\t\t#${savemod_slot_5}","\t\t\t\t\t*sm_load 5 | false","\t\t\t\t\t*goto sm_done","\t\t\t\t#${savemod_slot_6}","\t\t\t\t\t*sm_load 6 | false","\t\t\t\t\t*goto sm_done","\t\t\t\t#${savemod_slot_7}","\t\t\t\t\t*sm_load 7 | false","\t\t\t\t\t*goto sm_done","\t\t\t\t#${savemod_slot_8}","\t\t\t\t\t*sm_load 8 | false","\t\t\t\t\t*goto sm_done","\t\t\t\t#${savemod_slot_9}","\t\t\t\t\t*sm_load 9 | false","\t\t\t\t\t*goto sm_done","\t\t\t\t#${savemod_slot_10}","\t\t\t\t\t*sm_load 10 | false","\t\t\t\t\t*goto sm_done","\t\t\t\t#${savemod_slot_11}","\t\t\t\t\t*sm_load 11 | false","\t\t\t\t\t*goto sm_done","\t\t\t\t#Return","\t\t\t\t\t*goto sm_top","\t\t#Delete","\t\t\t*label delete","\t\t\t*choice","\t\t\t\t#${savemod_slot_0}","\t\t\t\t\t*sm_delete 0","\t\t\t\t\t*goto delete","\t\t\t\t#${savemod_slot_1}","\t\t\t\t\t*sm_delete 1","\t\t\t\t\t*goto delete","\t\t\t\t#${savemod_slot_2}","\t\t\t\t\t*sm_delete 2","\t\t\t\t\t*goto delete","\t\t\t\t#${savemod_slot_3}","\t\t\t\t\t*sm_delete 3","\t\t\t\t\t*goto delete","\t\t\t\t#${savemod_slot_4}","\t\t\t\t\t*sm_delete 4","\t\t\t\t\t*goto delete","\t\t\t\t#${savemod_slot_5}","\t\t\t\t\t*sm_delete 5","\t\t\t\t\t*goto delete","\t\t\t\t#${savemod_slot_6}","\t\t\t\t\t*sm_delete 6","\t\t\t\t\t*goto delete","\t\t\t\t#${savemod_slot_7}","\t\t\t\t\t*sm_delete 7","\t\t\t\t\t*goto delete","\t\t\t\t#${savemod_slot_8}","\t\t\t\t\t*sm_delete 8","\t\t\t\t\t*goto delete","\t\t\t\t#${savemod_slot_9}","\t\t\t\t\t*sm_delete 9","\t\t\t\t\t*goto delete","\t\t\t\t#${savemod_slot_10}","\t\t\t\t\t*sm_delete 10","\t\t\t\t\t*goto delete","\t\t\t\t#${savemod_slot_11}","\t\t\t\t\t*sm_delete 11","\t\t\t\t\t*goto delete","\t\t\t\t#Return","\t\t\t\t\t*goto sm_top","","*label sm_done","","*comment *********************","*comment **    THE GAME!    **","*comment *********************","","*image http://herbaloutfitters.com/textimage/text_image.php?font=MervaleScript-Regular&fontsize=40&text=SeductQuest:&color=000000&matte=F0D6AD&shadow=inv","*image http://herbaloutfitters.com/textimage/text_image.php?font=MervaleScript-Regular&fontsize=30&text=The%20Dragon%20and%20the%20Princess&color=000000&matte=F0D6AD&shadow=inv","*image http://herbaloutfitters.com/textimage/text_image.php?font=MervaleScript-Regular&fontsize=25&text=by&color=000000&matte=F0D6AD&shadow=inv","*image http://herbaloutfitters.com/textimage/text_image.php?font=MervaleScript-Regular&fontsize=25&text=Frankie%20Lee&color=000000&matte=F0D6AD&shadow=inv","","[b]WARNING: [/b]This game is a work of erotica and contains explicit sexual content. Reader discretion is advised. ","","Do not play this game if you are a minor.","","[b]Features: [/b]","","[b]*[/b] Hot sex scenes!","","[b]*[/b] Realistic female characters with different personalities.","","[b]*[/b] An interesting plot that could stand on its own. (Because of this, the really juicy sex scenes might come later on. I guarantee the wait will be worth it!)","","[b]*[/b] Target Audience: Male, Straight.","","[b]*[/b] Fetish Level: Very light if any.","","*page_break","*image http://herbaloutfitters.com/textimage/text_image.php?font=MervaleScript-Regular&fontsize=30&text=Prologue&color=000000&matte=F0D6AD&shadow=inv","","You remember well the moment your life changed forever. You were crossing the Corkish Mountains and just cresting the summit of Mt. Everhorn when the entire valley below became visible. You could see the walled capital city of the Kingdom of Zhan sitting in the middle of the plain, its magnificent spires thrusting skyward.","","Then, from the northeast, the dragon came. ","*page_break","Even from afar, it's terrible magnificence was dreadfully clear, and you saw its fiery breath, bright in your eyes, even in broad daylight. The knights who rode out to meet it looked like tiny ants from your vantage point, and they were just as feeble against the dragon's might.","","The dragon then rose to the highest tower, the one you knew housed the chambers of the princess Elsbeth, and with a sweep of its tail sundered with ease the stone wall capable of withstanding one hundred sieges. You watched in horror as it reached in with its claw and extracted the princess, dressed in all her finery, and then the dragon was gone, returning to its aerie atop the far mountain range, DragonKeep.","*page_break","*image http://herbaloutfitters.com/textimage/text_image.php?font=MervaleScript-Regular&fontsize=30&text=Chapter%20One:&color=000000&matte=F0D6AD&shadow=inv","*image http://herbaloutfitters.com/textimage/text_image.php?font=MervaleScript-Regular&fontsize=25&text=Chance%20Encounters&color=000000&matte=F0D6AD&shadow=inv","Since that day, you made it your sole mission in life to rescue Princess Elsbeth, to succeed where so many have failed, and you now find yourself in the wooded foothills below the great DragonKeep itself, having already braved much hardship and difficulty, though the final test lies ahead. ","","It's sunrise, and you've left last night's campsite to scout ahead a bit as your breakfast cooks. You've been following the known path leading toward the dragon's lair, but your habit has been to camp a little ways off the path. Now that you're quite close to the lair (perhaps fifteen miles, as the crow flies), you feel it prudent to look around a bit before returning to the path.","*page_break","You stroll for approximately ten minutes, enjoying the cool morning air, not really expecting to find anything. The ground is rocky and uneven, and there are many trees, boulders, and outcroppings. You find nothing of note and are about to head back when you hear a faint female voice from somewhere up ahead, perhaps just over a fairly steep ridge fifty feet ahead.","*label startchoice","*choice","\t*disable_reuse #Stop and listen.","\t\t*goto listen","\t#Quietly move forward to investigate.","\t\tYou move forward as quickly as you can while remaining quiet, and you carefully climb to the top of the ridge until just your head is peeking over the top.","\t\t","\t\t*goto investigate","\t#Quickly move forward to investigate.","\t\tYou move forward as quickly as you can, not worrying about stepping on any twigs or rustling any leaves. Most likely, whoever or whatever is on the other side of the ridge wouldn't hear such noises anyway, but it's still definitely possible that they could. You reach the ridge and climb to the top until just your head is peeking over.","\t\t","\t\t*goto investigate","\t","*label listen","You pause for a moment but hear nothing more. The voice didn't seem distressed, but from the inflection, it sounded like perhaps it was making a request to another person. However, it was too faint to be sure even of that.","","You wonder if it could be a trap. Perhaps a faerie's prank? It's odd for a woman to be found this close to the dragon's lair, lest it kidnap her too.","","Despite these concerns, you decide you must investigate, for isn't it better to know what you're dealing with? Besides, you're confident you could handle whatever comes your way. Afterall, compared to a dragon's might, how bad could it really be? Also, it's a woman--maybe you could get lucky!","*goto startchoice","","*label investigate","On the other side of the ridge is a small ravine with a gentle wooded slope leading down to a dry creekbed. There are small trees here that provide you with some cover, but you can still see the ravine bottom perhaps fifty feet ahead.","","The other side of the dry creekbed is the base of a small cliff, and there are many jagged boulders of various size littering the area. Someone seems to have camped here last night, and you can see the still smoking remains of a campfire, two bedrolls, and other equipment.","","A woman is leaning against a three-foot tall, square-ish boulder, and her plate armor dazzles you in the early morning sunlight. It's incredibly finely wrought and probably covered with silver veneer to make it glitter as it does, and you marvel at how it conforms to her body's curves, maintaining her femininity while sacrificing nothing in the way of protection in combat. Her helm is silver too, with little golden wings on each side. She has a royal blue cape, and next to her, leaning against the boulder is a fine broadsword in an embroidered leather scabbard and a metal shield bearing the crest of a noble family.","","Next to her is an elderly man in old gray robes who looks like he must be her manservant.","","The woman is working at something just below waist-level and then removes the part of her armor covering the crotch area, revealing her naked sex. She spreads her legs to shoulder width, and the man kneels, placing his head between her legs. You see her body stiffen just then, and she puts her mailed but still dainty hand on the back of his head, closes her eyes.","","*choice","\t#It's probably a good idea not to disturb them, and your breakfast is definitely overcooked by now. Go back to your camp.","\t\t*goto camp","\t#You can't help yourself and watch a bit longer, even if it risks being discovered and burning your breakfast.","\t\t*goto watch","\t#Step out and say hello. (WARNING: Great self-esteem risk if this goes badly.)","\t\t*goto stepout","","*label camp","*set has_honey false","You ease yourself up, preparing to go back down the ridge, and though doing so causes a small avalanche of dirt and stones, the couple below is so absorbed in what they're doing that they don't notice.","","You carefully climb down the ridge, and in perhaps ten minutes, you are back in your camp. The oatmeal you left cooking is burned on the bottom but otherwise edible, and you use the last of your honey to sweeten it.","","*label eat","You eat quickly, hoping to catch up with the two strangers, and are packing your supplies when...","*page_break","*goto_scene meet_tamara","","*label watch","You see the man's head undulate rhythmically between the female knight's legs while she remains stock still as if resisting the impulse to show any sign of the pleasure so obviously coursing through her body. She doesn't even move to spread her legs further apart.","","In a few moments, however, her back arches slightly, and she emits a tiny, half-stifled gasp. The hand on the back of the man's head pulls him closer, and her other hand is grasping frantically at the edge of the boulder she's leaning/half-sitting against.","","\"Faster...\" she gasps. \"I'm close!\"","","The man grabs the knight by the hips and redoubles his efforts, and she begins to emit a few more moans and soft cries despite her attempts to suppress them. She's close, but it's not orgasm yet.","","You tear yourself away, knowing that this is the best time to leave. If you wait any longer, the act will be finished, and, resting in the aftermath, they'd likely hear any sound you make.","","As you climb down the ridge, you cause a small avalanche of dirt and small stones, but the woman's cries of mounting orgasm tell you they have remained oblivious to your presence.","","Having descended the ridge, you begin to return to your camp, listening as the woman's ecstasy finally spills over into orgasm. You've been traveling by yourself a long time, and this makes you long desperately for the company of a woman. Oh well. You think of how wonderful it will be after you rescue the princess and how grateful she will be.","","Back in camp, you find the oatmeal mostly burned, and you scrape the small amount that's still edible from the top. It's not a full breakfast, but it'll have to do.","","*goto eat","","*label stepout","You climb over the ridge and emerge from the trees.","","\"Hello,\" you say, hoping maybe the female knight will find you more attractive than her elderly companion.","","The man tries to spring to his feet, but his weak legs cause him to fall to his hands and knees.","","The knight grabs for her sword and cries, \"Begone, you lecher! I'll teach you to interrupt private moments.\"","","She advances upon you, her sex still exposed, but as beautiful as it may be, all you can see is the hatred in her eyes and the point of her broadsword.","","*set esteem 20","Your self-esteem crumbles:","*stat_chart","\tpercent esteem Self-Esteem","\t","*line_break","Your self-esteem is now too low to fight or even to remain where you are, for that matter. You flee and now must give up your quest, lacking the self-confidence to continue.","","THE END.","","You have reached Ending #6: Over-confident.","*page_break","*achieve ending6","*ending",""]},"choicescript_stats":{"crc":-1487546513,"labels":{"top":0,"tamara":26,"tamaradesc":44},"lines":["*label top","*temp dragon \"\"","*check_achievements","*if choice_achieved_dragonname","\t*set dragon \"Myrristicor,\"","","*if not((fname = \"Warrior\") and (lname = \"\"))","\t[b]Name:[/b] ${fname} ${lname}","","You are on a quest to rescue Princess Elsbeth from ${dragon} the ancient dragon who lives atop Mt. DragonKeep.","","[b]Health:[/b] ${cur_health}/${max_health}","","[b]Self-Esteem[/b]","*stat_chart","\tpercent esteem Self-Esteem","","*if esteem > 79","\tYour high self-esteem gives you the confidence you need to undertake your nearly impossible quest.","\t*goto tamara","*elseif (esteem < 80) and (esteem > 39)","\tYou still have enough self-esteem to continue your quest, but if it ever falls below 40, you cannot continue and lose the game.","\t*goto tamara","*else","\tYou lack the self-confidence to continue your quest.","\t","*label tamara","*line_break","*line_break","*temp tamara_desc \"\"","*set tamara_desc tamara_desc & \"a master thief\"","*if tracking_speech","\t*set tamara_desc tamara_desc & \" and tracker\"","*set tamara_desc tamara_desc & \", expert on dragonlore.\"","*if with_tamara","\t*set tamara_desc tamara_desc & \" You are currently traveling together.\"","\t*goto tamaradesc","*elseif tamara_enemy","\t*set tamara_desc tamara_desc & \" You are currently enemies.\"","\t*goto tamaradesc","*else","\t*set tamara_desc tamara_desc & \" She seems to be following you.\"","\t*goto tamaradesc","","*label tamaradesc","*if met_tamara","\t[b]Tamara[/b]","\t*line_break ","\tYou have met Tamara, ${tamara_desc}","\t*stat_chart","\t\tpercent tamara_respect Tamara's Respect","\t","","","\t",""]},"check_achievements":{"crc":1956812760,"labels":{},"lines":["*check_achievements","*if (((((choice_achieved_angrykiss and choice_achieved_honeypot) and choice_achieved_sugarhoney) and choice_achieved_sugar) and choice_achieved_blow) and choice_achieved_duelsex)","\t*achieve fulltamara","\t","*return"]},"adj_respect":{"crc":1227262863,"labels":{"5":3,"10":11,"20":19,"30":27,"40":35,"-5":43,"-10":51,"-20":59,"-30":67,"-40":75},"lines":["*bug adj_respect subroutine called without parameter.","*return","","*label 5","*set tamara_respect %+5","Tamara's respect for you rises very slightly:","*stat_chart","\tpercent tamara_respect Tamara's Respect","*line_break","*return","","*label 10","*set tamara_respect %+10","Tamara's respect for you rises slightly:","*stat_chart","\tpercent tamara_respect Tamara's Respect","*line_break","*return","","*label 20","*set tamara_respect %+20","Tamara's respect for you rises.","*stat_chart","\tpercent tamara_respect Tamara's Respect","*line_break","*return","","*label 30","*set tamara_respect %+30","Tamara's respect for you rises significantly.","*stat_chart","\tpercent tamara_respect Tamara's Respect","*line_break","*return","","*label 40","*set tamara_respect %+40","Tamara's respect for you rises greatly!","*stat_chart","\tpercent tamara_respect Tamara's Respect","*line_break","*return","","*label -5","*set tamara_respect %-5","Tamara's respect for you falls very slightly:","*stat_chart","\tpercent tamara_respect Tamara's Respect","*line_break","*return","","*label -10","*set tamara_respect %-10","Tamara's respect for you falls slightly:","*stat_chart","\tpercent tamara_respect Tamara's Respect","*line_break","*return","","*label -20","*set tamara_respect %-20","Tamara's respect for you falls.","*stat_chart","\tpercent tamara_respect Tamara's Respect","*line_break","*return","","*label -30","*set tamara_respect %-30","Tamara's respect for you falls significantly.","*stat_chart","\tpercent tamara_respect Tamara's Respect","*line_break","*return","","*label -40","*set tamara_respect %-40","Tamara's respect for you falls greatly.","*stat_chart","\tpercent tamara_respect Tamara's Respect","*line_break","*return","",""]},"adj_esteem":{"crc":-1260768814,"labels":{"5":3,"10":11,"20":19,"30":27,"40":35,"-5":43,"-10":51,"-20":59,"-30":67,"-40":75,"checkesteem":83},"lines":["*bug adj_esteem subroutine called without parameter.","*return","","*label 5","*set esteem %+5","Self-Esteem rises very slightly:","*stat_chart","\tpercent esteem Self-Esteem","*line_break","*goto checkesteem","","*label 10","*set esteem %+10","Self-Esteem rises slightly:","*stat_chart","\tpercent esteem Self-Esteem","*line_break","*goto checkesteem","","*label 20","*set esteem %+20","Self-Esteem rises.","*stat_chart","\tpercent esteem Self-Esteem","*line_break","*goto checkesteem","","*label 30","*set esteem %+30","Self-Esteem rises significantly.","*stat_chart","\tpercent esteem Self-Esteem","*line_break","*goto checkesteem","","*label 40","*set esteem %+40","Self-Esteem rises greatly!","*stat_chart","\tpercent esteem Self-Esteem","*line_break","*goto checkesteem","","*label -5","*set esteem %-5","Self-Esteem falls very slightly:","*stat_chart","\tpercent esteem Self-Esteem","*line_break","*goto checkesteem","","*label -10","*set esteem %-10","Self-Esteem falls slightly:","*stat_chart","\tpercent esteem Self-Esteem","*line_break","*goto checkesteem","","*label -20","*set esteem %-20","Self-Esteem falls.","*stat_chart","\tpercent esteem Self-Esteem","*line_break","*goto checkesteem","","*label -30","*set esteem %-30","Self-Esteem falls significantly.","*stat_chart","\tpercent esteem Self-Esteem","*line_break","*goto checkesteem","","*label -40","*set esteem %-40","Self-Esteem falls greatly.","*stat_chart","\tpercent esteem Self-Esteem","*line_break","*goto checkesteem","","*label checkesteem","*if esteem > 39","\t*return","","Your self-esteem has fallen too low, and you must give up your quest.","","THE END.","","You have reached Ending #7: Not Confident Enough.","*page_break","*achieve ending7","*ending","\t"]},"piglist":{"crc":392805886,"labels":{},"lines":["*if lilypad1_followed ","\tYou followed me to secretly watch me pee.","*if looked_ass ","\tYou glued your eyes to my ass all day while I was climbing in front of you.","*if bee_sex ","\tYou snuck up on me and put honey on my chest.","*if hill_duel_outcome = \"dragon\"","\tYou held me down and had sex with me instead of fighting fair.","*return"]},"meet_tamara":{"crc":-998673998,"labels":{"startchoice":5,"look":16,"handweapon":28,"draw":38,"willingsafe":48,"attack":57,"tryfind":82,"callout":87,"continue":92,"guarded":99,"friendly":107,"tellrescue":118,"disdain":121,"ownreasons":128,"reverie":133,"continuereverie":145,"ceasereverie":156,"honestignorance":164,"ignorance2":170,"agree":188,"thepath":191,"caveats":202,"nodeal":215,"proposal":226,"continuequest":239,"walk":242,"walkoff":247,"lieignorance":252,"ignorance":260,"pause":263,"lie2":268,"lie3":283,"howknows":299,"dragonname":308,"secretname":317,"weakness":326,"noweakness":331},"lines":["*set met_tamara true","\"Are you here to slay the dragon?\" says a voice, making you whirl around in surprise.","","Before you, you see yet another woman, and how she managed to get so close to you without your hearing is a mystery. ","","*label startchoice","*choice","\t*disable_reuse #Look her over.","\t\t*goto look","\t#Put a hand on your weapon and tell her to step back.","\t\t*goto handweapon","\t#Guardedly ask what she wants.","\t\t*goto guarded","\t#Be friendly.","\t\t*goto friendly","\t","*label look","This woman is very different from the knight, for the knight was tall, perhaps close to six feet, and everything about her positively glittered. This woman stands perhaps five feet six inches, slender but muscular, and dressed in earth-tones, she looks as if she could easily fade into the underbrush and disappear. ","","She's wearing tan, skin-tight leather breeches that do well to show off her figure. Her boots are knee-high, fashioned from expensive leather, and she seems to have a custom-made leather vest inlaid with an intricate pattern in silver and a beautiful deep red color. It must've cost a fortune, but it's also practical, affording more than a small amount of protection in battle.","","Her breasts are a small, shapely pair, showing just a hint of cleavage in the vest's neckline. Her arms are bare, but she's wearing doe-skin gloves that go up to her elbows.","","She has a backpack and belt pouch, and by her side is a slender, wicked-looking sword. A crossbow is draped over her back with quarrels at the ready.","","Her hair's a deep reddish-brown and falls to her shoulders. Her eyes are a piercing green, and when she looks at you, her intensity makes you nervous. You don't know if she's going to snap at you or simply turn away in disdain.","*goto startchoice","","*label handweapon","\"Go ahead and draw,\" the woman says. \"I could've killed you already.\" She taps the crossbow on her back.","","\"Besides,\" she goes on. \"I'm not in sword range, so I shouldn't have to step back. This is normal talking range.\"","*choice","\t#Draw!","\t\t*goto draw","\t#Ask her what she wants.","\t\t*goto guarded","\t","*label draw","As soon as you begin to draw, the woman leaps backwards into a back handspring that takes her even further out of range. She draws her weapon, a wicked-looking scimitar.","","\"I just wanted to talk, but if you want to fight, bring it,\" she says.","*choice","\t#Tell her you're willing to talk, just didn't feel safe after she snuck so close to you.","\t\t*goto willingsafe","\t#Attack.","\t\t*goto attack","\t","*label willingsafe","*set tamara_respect %+20","\"Fair enough,\" the woman says. \"Now, am I right to assume you're here to slay the dragon?\"","*choice","\t#\"I'm here to rescue the princess.\"","\t\t*goto tellrescue","\t#\"My reasons are my own.\"","\t\t*goto ownreasons","","*label attack","*set tamara_enemy true","The woman stands her ground as you advance upon her and meets your attack sword to sword. You find that she's a skilled fighter, and though you're stronger and have the reach advantage, her speed makes her an even match for you. The duel could go either way.","","\"You're a better swordsman than you look,\" the woman laughs. \"You might even be better than I am.\" She continues to fence with you, unconcerned.","","\"Shouldn't you be more worried?\" you ask.","","\"I would be, except...\" ","","She makes an especially strong attack which puts you on the defensive for a split-second, and then she springs backwards.","","\"I'm a thief,\" she says, \"Not a warrior. Sleep with one eye open tonight.\"","","She bounds off into the forest, and you know you won't be able to catch her.","","\"The name's Tamara, by the way,\" her voice comes from somewhere beyond the veil of leaves, and then, silence. She's gone.","*choice","\t#Try to find her.","\t\t*goto tryfind","\t#Call out to her.","\t\t*goto callout","\t#Continue your journey.","\t\t*goto continue","\t","*label tryfind","You hurry forward in the direction she ran, but there's no sign of her. You have no choice but to continue your journey.","","*goto continue","","*label callout","Only silence answers your call. You have no choice but to continue your journey.","","*goto continue","","*label continue","You gather your belongings, extinguish the campfire, and resume walking along the path that leads toward the dragon's lair.","","You walk for awhile, always wondering if Tamara's not trailing you just out of sight. You turn around from time to time but see nothing.","","*goto_scene chardell_alone","","*label guarded","\"Like I just asked,\" the woman says. \"I want to know what you're doing here. I'm here to plunder the dragon's hoard, and a stupid adventurer bumbling in could get me killed. Is that why you're here?\"","*choice","\t#\"I'm here to rescue the princess.\"","\t\t*goto tellrescue","\t#\"My reasons are my own.\"","\t\t*goto ownreasons","\t","*label friendly","\"Oh, hello,\" you say. \"Fancy meeting you out here in the middle of nowhere. May I ask what you are doing so far from civilization and so near to the dragon's lair?\"","","\"You can ask,\" the woman responds, not returning your friendliness but not hostile either. \"The dragon's lair is exactly why I'm here. What of yourself?\"","","*choice","\t#\"I'm here to rescue the princess.\"","\t\t*goto tellrescue","\t#\"My reasons are my own.\"","\t\t*goto ownreasons","\t","*label tellrescue","\"How noble of you,\" the woman says. \"Do you expect me to be impressed?\"","","*label disdain","She looks you up and down disdainfully.","","\"Well, at least you have a rope, so you must know the climb is difficult. However, do you know that the dragon can hear each stroke of your hammer when you're pounding in your mountain-climbing stakes? Do you know how it's watching all the time, and even now, from so far away, through tons of rock, it can probably sense us to at least some extent?\"","","*goto reverie","","*label ownreasons","\"Are they now?\" the woman smirks. \"Not really. No one comes here but for the dragon, so I can safely assume that's why you're here.\" ","","*goto disdain","","*label reverie","In the days following the dragon sighting, you attempted to garner aid, both in the form of companions and information, to help you on your quest, but very little was forthcoming. Everyone with whom you spoke told you were crazy, and almost none had any helpful information. A ranger told you about the mountain and the need for ropes to climb it, and though he taught you the rudiments of mountain climbing, he too attempted to dissuade you from your quest. So far, even the most skilled knights have not been able to best this particular dragon.","","You heard it's a very old one, has roosted in DragonKeep for as long as anyone can remember, and over time, the kings learned that they could appease the dragon by offering it maidens, gold, and jewels. Each spring, a maiden and a large chest of treasure is brought to a special place for the dragon to collect, and this has reduced but not eliminated its depredations of the countryside.","","Continue your reverie?","*choice","\t#Yes.","\t\t*goto continuereverie","\t#No.","\t\t*goto ceasereverie","","*label continuereverie","Because of this evil pact, the royal court felt secure, so it was a great horror when the dragon attacked the capital city itself, for that had not happened since the very first offering, 150 years ago.","","It was surmised (by the sages who studied dragonlore) that the dragon was incensed by the audacity of the princess's high tower, a magnificent structure twice as tall as any ever built before. ","","A tradition had developed in Zhan where the higher a lady's bower, the more desired she was purported to be, and thus all ladies, when the became of age, lived in the highest one their family could afford to build. The princesses had the highest of all, and the king, who loved this particular daughter to an unusually great extent, undertook the task of building an impossibly tall tower to match her peerless beauty--and in so doing, unintentionally brought about the greatest tragedy the kingdom had ever known.","","Such is the price of arrogance... a warning that you too, it could be said, have not heeded.","","*goto ceasereverie","","*label ceasereverie","So, what is your answer to the woman's question? Did you know that dragons can sense things around their lair?","*choice","\t#\"No,\" you admit.","\t\t*goto honestignorance","\t#\"Of course, I do,\" you lie.","\t\t*goto lieignorance","\t","*label honestignorance","*set learned_dragon_sense true","\"Well, you may be a fool, but at least you're an honest fool,\" the woman says. \"Then can. Sounds. Smells. Their senses are extraordinarily powerful, but they also extend into the psychic realm. They can sense magic, so if you're carrying any magic items, they will give you away once you're close. They can also sense our very emotions, but only the negative ones. Greed. Anger. Jealousy. These a dragon can sense even miles away.\"","","She pauses as if mulling something over.","","*label ignorance2","\"My name's Tamara,\" she says finally, \"And unlike you, I have no silly notions about rescuing the princess. I'm here for the treasure plain and simple. I'm a thief, master-class, my quest under sanction by the thieves guild, for imagine the glory--the thief who robbed a dragon!\"","","Speaking thusly, she raises a clenched fist mightly before her and gazes purposefully off into the distance in imitation of a knight in victory. She smiles sheepishly at her own overenthusiasm and then continues, \"I, in the noble tradition of thieves everywhere, plan to sneak in, and I know the location of the hidden entrance. I can't have you alerting the dragon to our presence, so I propose we work together. I will get you in without the dragon knowing, but after that, you're on your own. I steal the treasure, and you, if you're truly serious about your silly quest, can go rescue the princess, if she's even still alive. Is it a deal?\"","","*set tamara_respect %+10","Tamara's respect for you rises slightly:","*stat_chart","\tpercent tamara_respect Tamara's Respect","","*choice","\t#\"Okay, deal.\"","\t\t*goto agree","\t#\"Okay, but do you think you could stop insulting me all the time?\"","\t\t*goto caveats","\t#\"No deal.\"","\t\t*goto nodeal","\t","*label agree","*gosub_scene agreement","\t","*label thepath","\"Well, you already know my name,\" Tamara says. \"What's yours?\"","","*gosub_scene intro","","\"Ok, come on then,\" Tamara says without so much as a handshake.","","The two of you continue to walk down the path together in silence for a good bit. ","","*goto_scene chardell","","*label caveats","*set tamara_respect %+5","Tamara's respect for you rises very slightly:","*stat_chart","\tpercent tamara_respect Tamara's Respect","*line_break","\"Yes,\" Tamara says. \"I will certainly stop 'insulting you,' because I never have. Speaking honestly, that's another matter.\" She laughs. \"Well, I'm glad we have a deal. Right? We have a deal?\"","*fake_choice","\t#Right.","*gosub_scene agreement","","*goto thepath","","*label nodeal","Tamara exhales loudly in frustration. \"Look,\" she says, \"You're going to get yourself killed, and while I normally laugh at fools getting their comeupance, in this case, your blunder will interfere with my plans. Only the gods know why, but I'm offering to help you. If you refuse, you will have to wait until I'm finished before making your own approach, but I don't trust you enough for that. You might race ahead or do some other stupid thing to get me killed. Unless we work together, I'll have to kill you, but that would alert the dragon. There's no choice. We MUST agree to work together. Now, IS IT A DEAL?\"","","*choice","\t#\"Okay, deal.\"","\t\t*goto agree","\t#Propose that you go first. That'll distract the dragon and make it easier for Tamara to steal the treasure.","\t\t*goto proposal","\t#\"No deal.\" You're tired of Tamara's nonsense and walk off.","\t\t*goto walkoff","\t","*label proposal","\"Okay, fine,\" Tamara says. \"You can go first if you want. That also works if that's what you really want to do.\"","","She looks at you and waits.","","\"Well? Go on then. Go rescue your princess.\"","","*choice","\t#Continue your quest.","\t\t*goto continuequest","\t#Change your mind and agree to work together.","\t\t*goto agree","\t","*label continuequest","Tamara shrugs. \"Fool,\" you hear her say just before losing sight of her among the trees.","","*label walk","You walk for awhile, always wondering if Tamara's not trailing you just out of sight. You turn around from time to time but see nothing.","","*goto_scene chardell_alone","","*label walkoff","Surprisingly, Tamara doesn't protest, and the last you see of her is her shaking her head at your foolishness.","","*goto walk","","*label lieignorance","\"Yeah?\" the woman says, her eyes narrowing suspiciously. \"Well, then, do you know that it can smell you from a hundred yards off?\"","*choice","\t#Admit you didn't know that.","\t\t*goto ignorance","\t#Lie and say you knew that too.","\t\t*goto lie2","\t","*label ignorance","\"As you can see,\" the woman says, \"I have done my preparations. There are other things I know too, secrets greater even than these.\" ","","*label pause","She pauses for a moment, and you wonder if she's going to tell you more. Instead, she looks at you a moment as if coming to a decision.","","*goto ignorance2","","*label lie2","\"Then I hope you've brought something to mask your scent,\" the woman says, and you frantically start to think what you have that might work.","","If she's noticed the consernation she's caused, she shows no sign.","","\"Do you know that they can sense our very emotions, but only bad ones?\" she asks, continuing her grilling of you.","","*choice","\t#Admit you didn't know that.","\t\t*goto ignorance","\t#Lie and say you knew that too.","\t\t*goto lie3","\t#Ask how she knows all this stuff.","\t\t*goto howknows","","*label lie3","\"I'm sure you do,\" the woman says, but it's obvious she doesn't believe you. ","","\"Do you know this dragon's name?\"","","*choice","\t#Claim you do.","\t\t*goto dragonname","\t#Admit you don't know it.","\t\t*achieve dragonname","\t\t\"It's Myrristicor,\" the woman says dramatically. \"I might be the only one who's not a sage who knows that.\"","\t\t","\t\tShe smiles proudly but then feels vulnerable and shrugs instead.","\t\t","\t\t*goto ignorance","","*label howknows","\"How did YOU learn all this stuff?\" she asks, turning the tables.","","You hesitate, trying to think of how to answer, and she laughs. ","","\"I know you don't really know all this stuff,\" she smiles. \"Suffice it to say, I've done my preparations.\"","","*goto pause","","*label dragonname","\"What is it, then?\" the woman asks.","","*choice","\t#\"I can't say. It's a secret.\"","\t\t*goto secretname","\t#Admit you don't know.","\t\t*goto ignorance","\t","*label secretname","\"Of course it is,\" the woman says. \"I can't tell you what it is either. Well, since you know that secret, do you know the dragon's secret weakness?\"","","*choice","\t#Claim you do.","\t\t*goto weakness","\t#Admit you don't know.","\t\t*goto noweakness","\t","*label weakness","\"Then I don't have to tell you what it is, do I?\" the woman says and winks. \"Look, I can tell when someone's lying. I know a lot more secrets than these.\"","","*goto pause","","*label noweakness","*achieve weakness","\"I don't know its secret weakness either. Was hoping you could tell me,\" the woman laughs.","","*goto pause",""]},"intro":{"crc":-403973688,"labels":{"input_name":26,"input_name2":35,"lname":45,"input_lname":65,"input_lname2":74,"donename":87},"lines":["*temp namecount 0","","Your first name is:","*choice","\t#Den.","\t\t*set fname \"Den\"","\t\t*goto lname","\t#Torral.","\t\t*set fname \"Torral\"","\t\t*goto lname","\t#Glus.","\t\t*set fname \"Glus\"","\t\t*goto lname","\t#Conan the (Lady) Conquerer. (No last name required.)","\t\t*set fname \"Conan\"","\t\t*goto donename ","\t#Alexander the Great (in Bed). (No last name required.)","\t\t*set fname \"Alexander\"","\t\t*goto donename ","\t#Richard the Lion-donged. (No last name required.)","\t\t*set fname \"Richard\"","\t\t*goto donename ","\t#Frankie.","\t\t*set fname \"Frankie\"","\t\t*goto lname","\t#I'd like to enter a different name than any of these","\t\t*label input_name","\t\t*if namecount = 22","\t\t\tThere are no other easter eggs in this game.","\t\t\t","\t\t\t*goto input_name2","\t\t*elseif namecount = 11","\t\t\tWhy are you changing your name so much? What's wrong with you?","\t\t\t","\t\t*set namecount +1","\t\t*label input_name2","\t\tPlease enter the first name of your character in this story:","\t\t*input_text fname ","\t\tYour name is $!{fname}. Is that right?","\t\t*choice","\t\t\t#Yes","\t\t\t\t*goto lname","\t\t\t#No","\t\t\t\t*goto input_name","","*label lname","What is your last name?","*choice","\t#Hawkclaw","\t\t*set lname \"Hawkclaw\"","\t\t*goto donename","\t#Grimoire","\t\t*set lname \"Grimoire\"","\t\t*goto donename","\t#Greystone","\t\t*set lname \"Greystone\"","\t\t*goto donename","\t#Silverway\t","\t\t*set lname \"Silverway\"","\t\t*goto donename","\t#Lee\t","\t\t*set lname \"Lee\"","\t\t*goto donename","\t#I'd like to enter a different name than any of these","\t\t*set namecount 0","\t\t*label input_lname","\t\t*if namecount = 11","\t\t\tWhy are you changing your name so much? What's wrong with you?","\t\t\t","\t\t\t*goto input_lname2","\t\t*elseif namecount = 22","\t\t\tThere are no other easter eggs in this game.","\t\t\t","\t\t*set namecount +1","\t\t*label input_lname2","\t\tPlease enter the last name of your character in this story:","\t\t*input_text lname ","\t\tYour last name is $!{lname}. Is that right?","\t\t*choice","\t\t\t#Yes","\t\t\t\tGood. On with the game!","\t\t\t\t*goto donename ","\t\t\t#No","\t\t\t\t*goto input_lname","\t#No last name needed.","\t\tAh, you must be a great warrior if you don't need a last name. Like Conan, Gilgamesh, Samson, Heracles, Odysseus, and so on. Let's see if you can live up to it!","","*label donename","*return",""]},"agreement":{"crc":-1189969322,"labels":{"agree":0,"followchoice":29},"lines":["*label agree","\"Good,\" Tamara says. \"Oh, but now that I'm supposed to help you, I'll need you to agree to do everything I say, no questions asked, got it? If I say to step where I step, you do it. If I say to be quiet, even if you don't know why, you do it without a word. Understand? This is very important.\"","","*fake_choice","\t#Agree.","\t\t","\"Good,\" Tamara says and holds out her hand for you to shake.","","*fake_choice","\t#Shake it.","\t\t","\"There, now the deal is sealed,\" Tamara says, trying to hide a smirk. \"There's no going back on your word once you've shaken on it, right?\"","","*fake_choice","\t#Right.","\t\t","\"Good,\" Tamara says. \"Well, let's be off then. Time is not of the essence to me, but it is to you. I'd hate for us to get there one minute after the dragon tires of Elsbeth and eats her, wouldn't you?\"","","*fake_choice","\t#Agree.","\t\t","\"See,\" Tamara says. \"I look out for you. We're a team now, and that means IMPLICIT TRUST.\"","","*if past_path","\tShe resumes climbing the slope, seeming unusually happy. In fact, she's nearly bounding up like a little girl.","\t*goto followchoice","*else","\tShe turns and hurries down the path, seeming unusually happy. In fact, she's almost skipping along like a little girl.","","*label followchoice","*fake_choice","\t#Follow.","\t\t","*set with_tamara true","By the time you catch up to her, she's back to her sullen self.","","\"You walk too loud, you know that?\" she says, barely glancing at you in acknowledgement. \"I could track you blindfolded, and that's the first thing we need to change. Walk softly. ","*if learned_dragon_sense","\tRemember, the dragon senses things.\"","\t","\tYou sigh, but figure learning to walk softly will help sneaking around the dragon's lair.","\t*return","*else","\t*temp distance \"fifteen miles\"","\t*if past_path","\t\t*set distance \"six miles\"","\tThe dragon is watching all the time, and even now, from perhaps ${distance} away, through tons of rock, it can probably sense us to at least some extent. Did you know that? Sounds. Smells. Their senses are extraordinarily powerful, but they also extend into the psychic realm. They can sense the negative emotions of all who approach from miles away. Greed. Anger. Jealousy. This is only one of the many things I know about dragons, and I know many secrets about this one in particular.\"","\t","\t*choice","\t\t#Ask her what else she knows.","\t\t\t\"You're supposed to be working on your silent walking,\" Tamara says. \"Be silent. Talking is not silence.\"","\t\t\t","\t\t\tYou sigh, but figure learning to walk softly will help sneaking around the dragon's lair.","\t\t\t*return","\t\t#Just walk silently.","\t\t\t*return",""]},"chardell":{"crc":1814409676,"labels":{"tell":11,"tellcun":35,"juicy":39,"agreeflirt":54,"noagreeflirt":59,"not":76,"disdain":91,"sit":100,"keepsitting":117,"keepsittingchoice":122,"what":131,"whatchoice":139,"staysilent":152,"staysilent2":156,"staysilent3":182,"givein":186,"getup":202,"ignore":211,"smirk":219,"nosmirk":224,"walkoff":232,"winstupidity":244,"staysilent4":254,"onown":262,"quitstupidity":271,"agreeflirt2":276,"agreeflirt3":279,"sarcasm":296,"notellcun":305,"details":318,"chardell":322,"aghast":345,"speculation":360,"cross":369,"eats":374,"leavechardell":379,"steep":411,"hoist":422,"polite":428,"slight":429},"lines":["*temp told_about_knight false","","The knight and old man will probably be just ahead on this path, as it's the only one in the area. ","","*choice","\t#Take this opportunity to tell Tamara about the two people you saw.","\t\t*set told_about_knight true","\t\t*goto tell","\t#Keep quiet about it and say nothing about having seen them earlier if you do catch up with them.","\t\t*goto chardell","\t","*label tell","*set tracking_speech true","\"By the way, you say, \"Perhaps it would be good for me to tell you that just before I met you, while scouting, I saw from a distance two people and their campsite. We will likely catch up with them soon.\"","","\"Was one a woman in armor and the other an old man?\" Tamara asks, her tone of voice making it sound like she already knows all about them.","","\"Why yes! How did you know?\" you exclaim.","","\"I've been tracking them the same as I've been tracking you, of course, dummy. How could I know about you but not them?\"","","\"You saw them already, then? Have you talked to them?\"","","\"No, of course not. They're ahead of you.\"","","\"But how then did you know what they look like?\"","","\"By the gods, how stupid can one person be?\" she spats. \"Women's feet are smaller proportioned than men's, but hers leave a heavy indention in the earth. The way the man shuffles along tells me he's elderly. I can tell a lot of other things about them from the sign they leave as well, and... I know what they do every morning. What did you see?\"","","*choice","\t#Tell her you saw the man perform cunnilingus on the knight.","\t\t*goto tellcun","\t#Be discreet. ","\t\t*goto notellcun","","*label tellcun","\"Well, since you already know, I suppose there's no reason not to tell,\" you say. \"It seems the old man pleasures the woman.\"","","\"It must be nice having that service available at your beck and call, isn't it?\" Tamara laughs. ","*label juicy","\"It's always the same. She leans up on something, and he kneels before her. It takes, maybe, three minutes, and she tries not to move or cry out very much.\"","","\"How in the world do you know all that?\" What she described is exactly what you saw!","","\"I told you,\" Tamara says. \"I read the signs. It's all there if you know how to look. Anyway...\"","","Tamara signs dejectedly. \"I'm going to have to help them as well, for a knight will certainly bungle a stealthy approach if left on her own. She seems to like a man's touch, so it'd be nice if you flirt with her and otherwise do what you can to make a good impression.\"","","*choice","\t#\"Sure!\" You would anyway.","\t\t*goto agreeflirt","\t#Tell Tamara you will do as you see fit.","\t\t*goto noagreeflirt","\t","*label agreeflirt","\"I see we make a good team when you do everything I say,\" Tamara says, pleased with herself.","","*goto chardell","","*label noagreeflirt","\"What?\" Tamara says and punches you on the arm. It wasn't hard enough to injure you, but it did hurt. \"Didn't we agree you'd do everything I asked? I even asked nicely. That's the last time I'm ever doing THAT! ","","\"Some people... show any kindness, any kindness at all, and they see it as weakness. ","","\"Iron hand... that's what my mother always used to tell me, 'Rule with an iron hand.' ","","Look, we HAVE TO get them to cooperate. I know the area. I know this dragon. I have devised an intricate strategy that covers all contingencies, and the presence of bumbling fools, which it seems I just had to have the misfortune to encounter, requires... REQUIRES their cooperation. It's IN THE PLAN. It's the only way. Will you do it or not?\"","","*choice","\t#Not.","\t\t*goto not","\t#\"Fine, fine, if it means that much to you, I will, but no guarantees.\"","\t\t*goto agreeflirt2","\t#\"So in this great,all-mighty plan of yours, does it say that when you meet 'bumbling fool #1' you are to cajole him and demand that he get 'bumbling fool #2' to also agree to become a subservient slave subject to endless abuse and do anything you say?\"","\t\t*goto sarcasm","\t","*label not","\"Not?!?\" Tamara cries, eyes bulging out in disbelief. \"Okay, that's it. I'm not helping you anymore. You and the idiot knight can go get yourselves killed, and I'll be sitting there laughing. This is actually in my plan too. If the bumbling fools become even bigger fools by not accepting my help, I let them distract the dragon, which makes things even better for me. See how masterfully crafted my plan is? I just be a little snarky, and it's like pulling a puppet's strings--you go and do exactly what I really wanted all along. Muhahahahahahahaha!\"","","Tamara erupts into maniacal laughter and can't stop for several minutes.","","*choice","\t#Announce that you'll never let her snarkiness affect you again.","\t\t*goto disdain","\t#Sit down and tell her you're now waiting for HER to go first and distract the dragon for YOU.","\t\t*goto sit","\t#Just ignore her when she gets like this.","\t\t*goto ignore","\t#Walk off. She said she won't help you anymore, and you're holding her to it.","\t\t*goto walkoff","","*label disdain","\"I guess I'll have to stop being snarky, then,\" Tamara says.","","\"And sarcastic,\" you add.","","\"That too!\" she says.","","*goto chardell","","*label sit","You sit down.","","Tamara turns around, confused. \"What are you doing?\" ","","\"I am sitting here, and I won't get up until YOU go first. Is THAT in your plan?\"","","\"What?!?\" Tamara says, aghast. \"Wait, no, yes. It actually IS in the plan. See?\"","","She walks off, and soon, you're by yourself.","","*choice","\t#Just wait.","\t\t*goto keepsitting","\t#Ok, this is silly. Get up and follow her.","\t\t*goto getup","","*label keepsitting","It feels like a long time, but it's probably only a minute or two before Tamara comes back. You suppress a smile, thinking you've won, but then you see that she herself is barely suppressing a grin. Oh, no... What is she up to now?","","She sits in front of you and just stares at you.","","*label keepsittingchoice","*choice","\t#\"What?\"","\t\t*goto what","\t#Stay silent.","\t\t*goto staysilent","\t#Give in and agree to flirt with the stupid knight.","\t\t*goto givein","\t","*label what","\"What?\" you say after the silence gets unbearable.","","\"Oh, nothing,\" Tamara says. \"I was just sitting here thinking about what might be happening to the princess.\"","","She stops talking, and it's silent again, except now you are worrying about the princess. Tamara stares at you, doing nothing, saying nothing, her face expressionless.","","*temp silentcount 1","*label whatchoice","*choice","\t*if (silentcount = 2) #Fight fire with fire: \"If the knight sees me as a big baby, I guess my flirting chances are ruined, huh?\"","\t\t\"It'd be worth it, though,\" Tamara says. \"I'm telling the princess how big a baby you were too, so unless you get up right now, your chances with both with be ruined. Ruined!\"","\t\t*set silentcount +1","\t\t*goto whatchoice","\t#Stay silent.","\t\t*goto staysilent2","\t#Give in and agree to flirt with the stupid knight.","\t\t*goto givein","\t*if (silentcount > 2) #Get up and walk away from this silly game.","\t\t*goto quitstupidity","\t","*label staysilent","You sit and stare at Tamara. Tamara sits and stares at you.","*goto keepsittingchoice","","*label staysilent2","*if silentcount = 1","\t*achieve contest","\t\"What if the knight shows up and sees you being a big baby like this?\" Tamara asks, almost as if talking to herself.","\t","\tNow you're worrying about the princess AND the knight.","\t*goto staysilent3","*elseif silentcount = 2","\tTamara yawns and stretches. The sit-in continues.","\t*goto staysilent3","*elseif silentcount = 3","\tTamara lays on her side. \"This is me being the dragon,\" she says, and she starts imitating a dragon lying on its pile of treasure. \"Oh, look at all my pretty baubles,\" she goes on, looking around at the imaginary pile of treasure under her. \"Oh, and here comes the princess,\" she says, glancing over to one side. \"What shall I do with her?\"","\t*goto staysilent3","*elseif silentcount = 4","\t\"Shall I eat her?\" Tamara says, licking her chops, staring at the imaginary, tiny princess.","\t*goto staysilent3","*elseif silentcount = 5","\t\"Yes! I WILL eat her!\"","\t*goto staysilent3","*elseif silentcount = 6","\tTamara is making eating sounds and pretending to rip apart the pretend princess with her pretend claws.","\t*goto staysilent3","*elseif silentcount = 7","\t\"Ok, this is stupid. Stupid!\" Tamara says, gets up, and kicks some dirt in your general direction. \"I'm leaving. Bye!\"","\t","\t*goto winstupidity","*label staysilent3","*set silentcount +1","*goto whatchoice","","*label givein","You realize you're just wasting precious time, and flirting with the knight was probably something you would've done anyway.","","\"Okay, okay,\" you say. \"I'll flirt with the stupid knight, but no guarantees.\"","","\"Good,\" Tamara says, standing up. \"You're a big baby, you know that?\"","","*set tamara_respect %-5","Tamara's respect for you falls very slightly:","*stat_chart","\tpercent tamara_respect Tamara's Respect","*line_break","The two of you continue your journey.","","*goto agreeflirt3","","*label getup","You catch up to Tamara and say, \"Look, I was just making a point. I don't like you bossing me around all the time.\"","","\"I'm not bossing you around,\" she says. \"I just know more than you, devised an elaborate plan, and it messes things up when you, in total ignorance of the hours of planning and lifetime of research I've done, you try to think for yourself. Stop it!\"","","Tamara glares at you and stomps off.","","*goto chardell","","*label ignore","Tamara's maniacal laughter abates eventually until all that's left is an uncomfortable silence. For her, that is. You're feeling pretty good about yourself.","*choice","\t#Smirk.","\t\t*goto smirk","\t#Show no sign.","\t\t*goto nosmirk","\t","*label smirk","Tamara walks in silent shame, and you start to feel a little bad.","","*goto chardell","","*label nosmirk","*set esteem %+5","Your self-esteem rises very slightly:","*stat_chart","\tpercent esteem Self-Esteem","*line_break","*goto chardell","","*label walkoff","You quicken your pace.","","Tamara stops cackling and says, \"Hey, where are you going?\"","","\"I'm going on ahead,\" you retort, not even turning around. \"Isn't it in your plan that I go get myself killed and distract the dragon?\"","","\"Oh,\" Tamara says. \"Good, then.\"","*set with_tamara false","*set tamara_spat true","*goto_scene chardell_alone","","*label winstupidity","*achieve woncontest","*choice","\t#Keep sitting.","\t\t*goto staysilent4","\t#Get up and follow her.","\t\t*goto getup","\t#Get up and go off on your own.","\t\t*goto onown","","*label staysilent4","You're taking this whole thing a little too seriously, don't you think? What is this? The third grade in grammar school?","*choice","\t#Get up and see if you can catch up with Tamara.","\t\t*goto getup","\t#Get up and go off on your own.","\t\t*goto onown","\t","*label onown","Enough is enough. You resume your quest and don't look for Tamara, walking down the path, enjoying the peaceful silence. Ahhhh...","\t\t","Tamara is nowhere to be seen. Good. Good riddance.","","*set tamara_spat true","*set with_tamara false","*goto_scene chardell_alone","\t","*label quitstupidity","You get up, and Tamara instantly ceases her silly antics. The two of you walk in silence, neither mentioning the outburst of immaturity that just occurred.","","*goto chardell","","*label agreeflirt2","\"Good,\" Tamara sighs, her irritation dissipating. ","","*label agreeflirt3","She walks in silence a moment, and then a smirk appears on her face.","","\"No guarantees?\" she says, still smirking. \"That's fine. My plan covers your inadequacies, whatever they are. It might be this--\"","","She holds her hands in front of her, palms facing each other around seven inches apart and then moves them closer to more like three.","","\"Or this--\"","","She holds her hand up, fingers together, and then makes it droop flaccidly.","","\"Or...\"","","She goes on making all kinds of hand gestures, some of which you understand and some you don't. Obviously, she's an encyclopedia of male inadequacies, but you refrain from speculating as to how she might've acquired her wealth of knowledge. (Because it's obvious. Sadly.) Most of them don't apply to you, but you stop looking just in case.","*page_break","*goto chardell","","*label sarcasm","\"Why yes,\" Tamara says. \"That's exactly what the plan says.\"","","\"Like you really thought of all that beforehand...\" ","","\"I did,\" Tamara says, totally serious. \"Once I saw there were two, that is. A good plan is one that is always subject to amendment.\" She giggles.","","*goto chardell","","*label notellcun","\"Well, since you already know all about it, I don't need to tell you all the sordid details, do I?\" you say.","","\"Nope, you don't,\" Tamara smiles. \"And I won't tell you any of the details either. It took them three days on this road, so the other two times... well, no details for you!\"","","*choice","\t#Tell her you were just trying to be discreet but would like to hear the details.","\t\t*goto details","\t#Act like you don't care.","\t\tYou let Tamara have her smug little fun and say nothing. If you don't encourage her, maybe she'll shut up.","\t\t","\t\t*goto chardell","","*label details","\"Actually, there's not much to tell,\" Tamara says, still smiling, obviously enjoying gossiping about other people's juicy details. ","*goto juicy","\t","*label chardell","In a little while, the path descends into a small wooded valley, and at the bottom, you find a small clearing with a large stake in the center. ","","\"This is Chardell,\" Tamara whispers softly.","","You recognize the name. Chardell is the place where the annual sacrifice was made, and you realize with horror that over a hundred maidens were in turn chained to that stake to await the dragon. You wonder how many are still alive and of those, how many will let you boink them.","","Some of the surrounding trees are charred, and the burned areas are higher up with the lower branches untouched. It's obviously from dragonfire, but why? ","","\"Sad isn't it?\" Tamara says, gazing at the now empty clearing. ","","\"Yes,\" you agree, glad to see that Tamara has a softer side.","","\"Yeah,\" Tamara says. \"A hundred and fifty chests of treasure, now just sitting up in DragonKeep doing nobody any good.\"","","*choice","\t#\"By the gods, woman! Don't you think at all of the poor maidens?\"","\t\t*goto aghast","\t#\"What do you think charred the trees like this?\"","\t\t*goto speculation","\t#There's nothing more to say. Continue the journey.","\t\t*goto leavechardell","\t","*label aghast","\"You sentimental fool,\" Tamara snaps. \"It could easily have been me being sacrificed, so yeah, I have thought about it. A lot, but you know what? In the end we all have to die sometime, some just sooner rather than later. These girls at least lived long enough to see the flowering of their womanhood, something not everyone does.\"","","She walks up to the stake and spits.","","\"To hell with you, dragon!\" she says. \"And to hell with all the kings who fed you our daughters.\"","","*choice","\t#\"You don't think the dragon eats the girls, do you?\"","\t\t*goto eats","\t#\"What do you think charred the trees like this?\"","\t\t*goto speculation","\t#Continue on.","\t\t*goto leavechardell","\t","*label speculation","Tamara inspects one of the charred trees.","","\"This is old,\" she says. \"It must've happened a hundred years ago. I guess people wised up after that.\"","","\"But what happened to cause it?\" you ask. \"Was the dragon displeased for some reason? Or perhaps it was from a battle as some would-be hero attempted to rescue that year's sacrifice?\"","","Tamara laughs. \"More likely the battle was with a band of thieves after the treasure... and the girl too, I suppose.\"","","*label cross","Tamara crosses the clearing and jerks her head to indicate that you should follow.","","*goto leavechardell","","*label eats","\"No, he feeds them tenderly, and DragonKeep is full of white-haired old ladies,\" Tamara spats sarcastically. \"Regardless of what it does with them, I'm sure it's not fun, so let's waste no time.\"","","*goto cross","","*label leavechardell","*set past_path true","\"There's no path from here on, for obvious reasons,\" she says. \"Only heroes and fools pass this point, and it remains to be seen which we are.\"","","\"The foothills get steeper past this point,\" Tamara says. \"I'd estimate that if we travel at your speed, we'll reach the foot of the mountain sometime tomorrow, though I could make it on my own in one day. I hope you're up for it. Try and keep up, but don't let yourself get too tired. There probably won't be any hostile encounters here, but it's always good to maintain vigilance.\"","*page_break Onward!","You make your way up the rocky slope, making slow but steady progress. You have a hard trek ahead of you today, but you're up to the task. Tamara, carrying a lighter load, wearing more nimble boots, is having an easier time of it, but even she is a bit breathless. Because of this, she's not talking much, and you enjoy the respite from her normally constant assessment and advice. You can't help but notice the sheen of a thin layer of sweat on her skin and her chest heaving while she breathes, pulling tight on her vest's laces--she's attractive when her lips aren't moving! ","","*if told_about_knight","\t\"We're catching up to them,\" Tamara says, panting a bit. \"The knight is weighed down by her armor, but judging by the tracks, it's really the old man who's holding them back.\" You look down but can't for the life of you see any sign or tracks.","\t*page_break","\t*goto steep","*else","\t*set tamara_respect %-10","\t*set tracking_speech true","\t\"By the way, I know you're following two people,\" Tamara says. \"You're walking faster than you did yesterday. Remember what I said about 'implicit trust'? Isn't this something you should've told me about?\"","\t","\tTamara's respect for you falls slightly:","\t*stat_chart","\t\tpercent tamara_respect Tamara's Respect","\t*line_break","\tShe goes on, \"I assume you learned of their presence on your morning walk earlier, but it seems you haven't yet talked with them, for why would you be so far behind them now?\"","\t","\tShe thinks a moment, then says, \"Ah, I suppose you must've come upon them during a private moment. Your stealth skill might be better than I gave you credit for then. Did the knight lean against something, and the man kneel before her?\"","\t","\t\"Why yes! How did you know?\" you exclaim.","\t","\t\"Without training, you won't be able to see what I see,\" Tamara says. \"But a good tracker can tell a lot about his quarry. They performed this ritual without variation every morning I've been tracking them, so I assumed today would be no different. I've never seen it, but the signs are there. Anyway, we're catching up with them. The knight is weighed down by her armor, but judging by the tracks, it's really the old man who's holding them back.\" ","\t","\tYou look down but can't for the life of you see any sign or tracks.","\t*page_break","\t","*label steep","At a particularly steep point, Tamara grabs onto the trunk of a small tree and reaches back, offering you her hand to help hoist you over the steep part.","","*choice","\t#Accept the help.","\t\t*goto hoist","\t#Politely decline.","\t\t*goto polite","\t#Trudge by, saying nothing.","\t\t*goto slight","\t","*label hoist","*set tamara_laughed true","Tamara pulls hard and propels you over the steep part and several feet in front of her, making the both of you laugh.","","*goto_scene lilypad","","*label polite","*label slight","\"Just trying to help the slow poke,\" Tamara shrugs. \"Get ya to the princess faster that way, but have it your way.\"","","*goto_scene lilypad",""]},"chardell_alone":{"crc":-1979774862,"labels":{"sad":11,"following":19,"aghast":40,"speculation":59,"leavechardell":76,"threat":92,"ultimatum":100,"tamarajoins":118,"hoist":135,"polite":148,"slight":149,"proposal":154,"eats":161,"reconcile":170},"lines":["In a little while, the path descends into a small wooded valley, and at the bottom, you find a small clearing with a large stake in the center. This must be Chardell, the place where the annual sacrifice was made, and you realize with horror that over a hundred maidens were in turn chained to that stake to await the dragon. You wonder how many are still alive and of those, how many will let you boink them.","","Some of the surrounding trees are charred, and the burned areas are higher up with the lower branches untouched. It's obviously from dragonfire, but why? ","","\"Sad isn't it?\" says a familiar voice behind you. ","*if tamara_spat ","\tYou groan. She's baaaaack!","\t*goto sad","*else","\tYou whirl for the second time today, and of course, it's Tamara again.","\t","*label sad","*if tamara_spat","\t\"Are you following me?\" you ask.","\t","\t*goto following","*else","\t\"I thought you might be following me, and I see that I was right,\" you say.","","*label following","\"Oh, not following,\" she says. \"Just that we're both going the same way.\"","","You shrug.","","\"Yes, it is sad,\" you say, thinking again of all the maidens. It seems such a cruel tradition.","","\"Yeah,\" Tamara says. \"A hundred and fifty chests of treasure, now just sitting up in DragonKeep doing nobody any good.\"","","*choice","\t#\"By the gods, woman! Don't you think at all of the poor maidens?\"","\t\t*goto aghast","\t#\"What do you think charred the trees like this?\"","\t\t*goto speculation","\t#\"I'm leaving now. Don't follow me.\"","\t\t*goto leavechardell","\t*if (not(tamara_spat) and (not(tamara_enemy))) #\"Since we're going the same direction anyway, why not travel together?\"","\t\t*goto proposal","\t*if (tamara_spat) #\"Well, let's get going.\"","\t\t*goto reconcile","\t","*label aghast","\"You sentimental fool,\" Tamara snaps. \"It could easily have been me being sacrificed, so yeah, I have thought about it. A lot, but you know what? In the end we all have to die sometime, some just sooner rather than later. These girls at least lived long enough to see the flowering of their womanhood, something not everyone does.\"","","She walks up to the stake and spits.","","\"To hell with you, dragon!\" she says. \"And to hell with all the kings who fed you our daughters.\"","","*choice","\t#\"You don't think the dragon eats the girls, do you?\"","\t\t*goto eats","\t#\"What do you think charred the trees like this?\"","\t\t*goto speculation","\t#\"I'm leaving now. Don't follow me.\"","\t\t*goto leavechardell","\t*if (not(tamara_spat) and (not(tamara_enemy))) #\"Since we're going the same direction anyway, why not travel together?\"","\t\t*goto proposal","\t*if (tamara_spat) #\"Well, let's get going.\"","\t\t*goto reconcile","\t","*label speculation","Tamara inspects one of the charred trees.","","\"This is old,\" she says. \"It must've happened a hundred years ago. I guess people wised up after that.\"","","\"But what happened to cause it?\" you ask. \"Was the dragon displeased for some reason? Or perhaps it was from a battle as some would-be hero attempted to rescue that year's sacrifice?\"","","Tamara laughs. \"More likely the battle was with a band of thieves after the treasure... and the girl too, I suppose.\"","","*choice","\t#\"I'm leaving now. Don't follow me.\"","\t\t*goto leavechardell","\t*if (not(tamara_spat) and (not(tamara_enemy))) #\"Since we're going the same direction anyway, why not travel together?\"","\t\t*goto proposal","\t*if (tamara_spat) #\"Well, let's get going.\"","\t\t*goto reconcile","\t","*label leavechardell","*set past_path true","\"Not my fault I happen to catch up to you when you decide to waste time,\" you hear Tamara say as you're leaving the clearing.","","Shaking your head, you go on, and though the path ended at Chardell, you know which direction to go even when the mountain range is hidden from view, for the only way forward is up. You know that climbing the foothills will eventually lead you to the base of the mountain, and from there, well, you'll figure it out.","","You walk for a few minutes, look back, and see Tamara following along behind you.","","\"I'm not following you,\" she says. \"We're just going in the same direction. That's all.\"","","*choice","\t#Tell her not to follow you or you'll attack.","\t\t*goto threat","\t#Shrug and continue on.","\t\t*goto tamarajoins","","*label threat","Really? Remember, the dragon can sense negative emotions around its lair (or so Tamara says). Even if she's wrong or lying, do you really want to risk injury? If you wind up fighting, even if you win, you might be injured and in worse shape for when you reach the dragon's lair.","*choice","\t#You really threaten violence. Tamara needs to learn you're no one to be trifled with.","\t\t*goto ultimatum","\t#It's not worth it. Let her follow you. Maybe she will prove herself useful at some point.","\t\t*goto tamarajoins","","*label ultimatum","You put your hand on the pommel of your sword. \"Keep following me and you'll be sorry,\" you say.","","Tamara stops in her tracks. \"Like I said...\" she says.","","A staring contest ensues. An impasse.","","\"Well?\" Tamara says. \"Go on then.\"","","You take a step, look back, and Tamara hasn't moved.","","You take another, and now you aren't sure. She might've taken a small step while you weren't looking.","","You quickly walk a good distance, turn around, and though she's further back, almost lost among the trees, it looks like she did move forward some also.","","You suppose this'll have to do.","*goto_scene lilypad","","*label tamarajoins","You continue making your way up the rocky slope, making slow but steady progress, and each time you look behind you, Tamara is a little closer. Eventually she's hiking along beside you.","","\"You're just slower than me, so I caught up. That's all,\" she says, a bit breathlessly. You can't help but notice the sheen of a thin layer of sweat on her skin and her chest heaving while she breathes, pulling tight on her vest's laces--she's attractive when her lips aren't moving!  ","","The two of you continue up the slope together, and you estimate that you'll reach the mountain proper sometime tomorrow. You have a hard trek ahead of you today, but you're up to the task.","","At a particularly steep point, Tamara grabs onto the trunk of a small tree and reaches back, offering you her hand to help hoist you over the steep part.","","*choice","\t#Accept the help.","\t\t*goto hoist","\t#Politely decline.","\t\t*goto polite","\t#Trudge by, saying nothing.","\t\t*goto slight","\t","*label hoist","*set with_tamara true","*set tamara_laughed true","Tamara pulls hard and propels you over the steep part and several feet in front of her. The two of you laugh.","","Later, Tamara says, \"Well, I guess we're traveling together now, aren't we?\"","","*fake_choice","\t#\"Yeah, I guess that's how it turned out in the end.\"","\t\t","*gosub_scene agreement","*goto_scene lilypad","","*label polite","*label slight","\"Just trying to help the slow poke,\" Tamara shrugs. \"Get ya to the princess faster that way, but have it your way.\"","","*goto_scene lilypad","","*label proposal","\"That's what I was proposing from the very beginning, you dummy,\" Tamara says. \"Well, I'm glad you finally came to your senses. We are now officially traveling companions now, right?\"","*fake_choice","\t#Yes.","*gosub_scene agreement","*goto_scene lilypad","","*label eats","\"No, he feeds them tenderly, and DragonKeep is full of white-haired old ladies,\" Tamara spats sarcastically. \"Regardless of what it does with them, I'm sure it's not fun, so don't you think you should be hurrying along now? For every second you waste here, that's another second she spends in the beast's clutches.\"","","*choice","\t#She's right. Resume your journey.","\t\t*goto leavechardell","\t#Propose you travel together since you're going the same way anyway.","\t\t*goto proposal","\t","*label reconcile","*set tamara_spat false","*set with_tamara true","\"Yes,\" Tamara says. You guess you're traveling together again.","","*goto_scene lilypad"]},"lilypad":{"crc":-655342469,"labels":{"lilypad":14,"continuebyself":24,"tamaraback":27,"stealth":40,"creep":57,"didntsee":80,"invite":91,"whytell":101,"whathand":108,"sameway":111,"dropmatter":116,"sneaksecret":132,"suspicions":140,"looklily":151,"stammer":159,"peeupslope":165,"catchupa":176,"catchupn":187,"slap":198,"slapcatchup":210,"slapapol":218,"slapkeepapol":226,"slapnothing":251,"slapkiss":260,"whynoromance":269,"slappush":284,"slapreasonable":299,"dragonwait":302,"slapweak":309,"slapkiss2":325,"slapbye":331,"noslap":337,"follow":342,"gotcha":349,"sphere":359,"agreetrust":367,"nomorespeak":370,"keepingsecrets":375,"testing":380,"testingchoice":386,"squat":395,"vigil":407,"askhold":416,"nopeer":420,"headback":430,"keepwatching":455,"show":464,"hide":483,"sawtrees":504,"sawbody":505,"sawnothingmore":515,"peeapologize":526,"resistpee":535,"peesuspicious":540,"probe":550,"peeresume":566,"waitpee":571},"lines":["A few minutes later, ","*if with_tamara","\tTamara pauses and thinks a moment.","\t","\t\"Wait here,\" she says. \"I need to shake the dew from my lily pad.\"","","\tShe goes off into the forest by herself.","\t","\t*goto lilypad","*else","\tfrom out of the blue, Tamara says, \"I'm going off to 'shake the dew from my lily pad,' but since we're not traveling together or anything, you don't have to wait for me or anything like that. Bye.\"","\t","\tShe turns around and goes off into the forest by herself.","\t","*label lilypad","*choice","\t#Stealthily follow her.","\t\t*set lilypad1_followed true","\t\t*goto stealth","\t#Wait","\t\t*goto waitpee","\t*if (not (with_tamara)) #Continue on by yourself.","\t\t*goto continuebyself","\t","*label continuebyself","You feel yourself relax now that Tamara's not around, but your relief is short-lived. After only a little while, Tamara appears a little ways ahead of you. She glances at you, then at the ground.","","*label tamaraback","\"You're following two people, aren't you?\" she says. \"I can tell because you're walking faster than you did yesterday.\"","","She starts heading on. \"This way,\" she says, pointing up the slope. \"You were going fifteen degrees off their course. Now that there's no path anymore, and your tracking skills are non-existent, don't you think you should man up and just accept that you could use my help?","*choice","\t#\"Fine,\" you say, just to shut her up.","\t\t*gosub_scene agreement","\t\t*goto_scene oldman","\t#\"No, I'm going it alone.\"","\t\t\"Fine,\" Tamara says. \"That's actually better for me anyway.\"","","*goto_scene oldman","\t","*label stealth","You wait a moment, then follow her, being as quiet as you can. You marvel at how quietly she's able to walk, never rustling leaves or grass, nor stepping on any twigs. Maybe she really is a master thief like she claims? You do your best to move quietly as well, and you are, for the most part, successful. At least, Tamara doesn't show any sign that she knows you're following her.","","Eventually, she stops, and you watch her from behind a tree a few dozen yards away.","","She fumbles with her belt a little, then squats on the other side of a tree which partially obstructs your view of her. You can't really see much more than her left arm and shoulder.","","*choice","\t#Creep up closer","\t\t*goto creep","\t*if (with_tamara) #Walk up and say, \"Gotcha!\"","\t\t*goto gotcha","\t#Head back","\t\t*goto headback","\t#Keep watching","\t\t*goto keepwatching","\t","*label creep","You, creep, begin to creep in a small arc in order to see more of her body, but you just begin to see the back-left side of her head when a twig snaps underfoot. Tamara is up like a shot, her pants already up, belt fastened, and her hand whips to the pommel of her sword.","","*if with_tamara","\tWhen she sees that it's you, she sighs irritably. \"What in the world do you think you're doing???\" she hisses.","\t","\t*choice","\t\t#\"Look, I don't know you well yet, so I was just making sure you were really doing what you claimed to be doing.\"","\t\t\t*goto suspicions","\t\t#\"I was just looking for my own place to shake my lilypad.\"","\t\t\t*goto looklily","\t\t#Stammer","\t\t\t*goto stammer","*else","\t\"Here to rape me?\" Tamara sneers. \"Well, you can certainly try. In fact, I want you to.\" Her sword arm jerks in anticipation, as if desperately wanting to draw. She's also holding a round object in her left hand which she could throw with deadly force.","\t*choice","\t\t#Tell her you didn't see anything.","\t\t\t*goto didntsee","\t\t#Tell her you thought she was inviting you.","\t\t\t*goto invite","\t\t#Tell her you thought she was sneaking off to do something secret.","\t\t\t*goto sneaksecret","\t\t","*label didntsee","\"I didn't see anything, honest!\" you say.","","\"But you wanted to, didn't you?\" Tamara sneers. \"You men are all alike, pervs and lechers every single one. I should cut you down where you stand, but unfortunately, that might attract the dragon's attention.\"","","Before you can protest your innocence, she turns and disappears into the underbrush.","","You resume your journey, catching sight of her hiking ahead of you. She's fast, however, and the distance between you gradually increases.","","*goto_scene oldman losesight","","*label invite","\"Do I look that coy?\" Tamara says, exasperated. \"If I wanted some sugar, I'd just ask for it.\"","*choice","\t#\"If that's the case, why did you feel the need to tell me what you were doing?\"","\t\t*goto whytell","\t#\"What's that in your hand?\"","\t\t*goto whathand","\t#Let the matter drop.","\t\t*goto dropmatter","\t","*label whytell","\"No reason,\" Tamara says and turns to go.","","You resume your journey, Tamara hiking ahead of you, and gradually the distance between you increases.","","*goto_scene oldman losesight","","*label whathand","\"Nothing,\" Tamara says and slips whatever it was back into her belt pouch. She then turns to go, resuming the journey.","","*label sameway","Since you're going the same way, you follow behind her, but gradually the distance between you increases because she's able to hike faster than you.","","*goto_scene oldman losesight","","*label dropmatter","\"A misunderstanding, then,\" you say.","","\"Very much so,\" Tamara says. \"Well? Shall we resume the journey?\"","*choice","\t#\"You can. We're not traveling companions.\"","\t\t\"Of course we're not,\" Tamara says and turns to go.","\t\t","\t\t*goto sameway","\t#\"Yes.\" You walk together.","\t\t\"Does this mean we're traveling together now?\" Tamara asks.","\t\t*fake_choice","\t\t\t#\"I guess...\"","\t\t*gosub_scene agreement","\t\t*goto_scene oldman","","*label sneaksecret","\"Yeah,\" Tamara retorts. \"I was 'sneaking off' to do my private feminine business. My, aren't you the suspicious one.\" She turns to go.","*choice","\t#\"What's that in your hand then?\"","\t\t*goto whathand","\t#Let the matter drop.","\t\t*goto dropmatter","","*label suspicions","\"It wasn't just an excuse to spy on me during a private moment?\" Tamara asks, her eyes narrowed suspiciously.","","\"No, of course not!\" you say.","","\"Then... I guess I'll let you off the hook this one time,\" she says. \"I'd have done the same thing, but if you do it again, I'll show you no mercy.\"","","*gosub_scene adj_respect 10","","*goto_scene oldman","","*label looklily","*set had_pro_talk true","\"Oh my gods,\" Tamara cries. \"Do you really expect me to believe that? Look, you and I have a professional relationship, so I expect there to be NO funny business between us. Understand?\"","","She puts something she was holding back into her belt pouch and stomps off, making as much noise as a normal person stomping around in the woods. I guess when she's mad, she no longer uses her thieves step.","","*goto peeupslope","","*label stammer","*set had_pro_talk true","\"I thought so,\" Tamara says. \"You men are all alike. Look, you and I have a professional relationship, so I expect there to be NO funny business between us. Understand?\"","","She puts something she was holding back into her belt pouch and stomps off, making as much noise as a normal person stomping around in the woods. I guess when she's mad, she no longer uses her thieves step.","","*label peeupslope","She's heading up the slope of the foothill, so you assume she's resuming the journey.","","*choice","\t#Catch up with her and apologize.","\t\t*goto catchupa","\t#Catch up but say nothing.","\t\t*goto catchupn","\t#Follow from a distance.","\t\t*goto follow","\t","*label catchupa","You hurry to catch up.","","\"I'm sorry, Tamara,\" you say. \"It won't happen again.\"","","Tamara's face softens, and she smiles. \"Oh, it's all right,\" she says. \"I'm not a priss like I'm sure your princess is going to be. Just don't do it again, or I'll cut something off.\"","","*gosub_scene adj_respect 10","","*goto_scene oldman","","*label catchupn","As soon as you're in range, Tamara slaps you on the cheek.","","\"That's for trying to spy on a lady,\" she says.","","*choice","\t#Slap her back","\t\t*goto slap","\t#Do nothing","\t\t*goto noslap","\t","*label slap","Tamara's face becomes a mixture of disbelief and fury.","","\"How dare you!\" she cries. \"That's it. We're done. You go rescue your princess by yourself.\"","","She stalks off into the woods.","*choice","\t#Catch up to her.","\t\t*goto slapcatchup","\t#Good riddance.","\t\t*goto slapbye","\t","*label slapcatchup","You quickly catch up to Tamara, but she refuses to acknowledge you and continues to stomp her way through the forest.","*choice","\t#Apologize.","\t\t*goto slapapol","\t#Say nothing. Just continue to follow her.","\t\t*goto slapnothing","\t","*label slapapol","\"What part of 'we're done,' don't you understand?\" Tamara spats. \"Stop following me or face my wrath!\"","*choice","\t#Stop following.","\t\t*goto slapbye","\t#Keep apologizing.","\t\t*goto slapkeepapol","\t","*label slapkeepapol","Finally Tamara stops walking, but she still doesn't acknowledge you or your apologetic words. Instead, she just stares at the ground, shaking with anger.","","It takes a long time, but it seems she finally calms down.","","\"Okay,\" she says. \"Let's forget this ever happened. We need to work together on our assault on DragonKeep, and that's the only reason you're not dead right now.\"","","She holds out her hand.","","\"Shake it before I change my mind.\"","","*fake_choice","\t#Shake it.","\t\t","Tamara smiles and even seems to almost giggle now, as if now that it's over, the whole incident seems silly to her. She shakes her head, rolling her eyes.","","\"Come on. We've wasted enough time, and if the dragon didn't know we were here before, it does now.\"","","You ask her if this changes things.","","\"Yes, but it's not enough for us to abort the endeavor,\" she replies. \"I know what I'm doing.\"","*gosub_scene adj_respect 20","","*goto_scene oldman","","*label slapnothing","\"Why are you following me!\" Tamara cries and slaps you again. She grips you by the shoulders and shakes you, overcome with rage, and slaps you again. She stares into your eyes, utterly consumed with the emotions roiling in her body, not knowing what to do with them, and finally the overflow, transforming into a passionate, angry kiss! Her hands snake around you and pull you into a bone-crushing embrace, and her pelvis is pressing aggressively into yours, almost like an attack.","","*choice","\t#Kiss her back.","\t\t*goto slapkiss","\t#Push her away.","\t\t*goto slappush","\t","*label slapkiss","*achieve angrykiss","*gosub_scene check_achievements","You wrap your arms around Tamara just as passionately, returning her kiss with equal intensity.","","Her kisses come fast and hard, anger quickly melting away into passion. She moans. She wraps one leg around yours, desperately pulling your bodies together, but just when she seems ready to take things to the next level, she suddenly she pushes you away. Hard. Both fall backward a few steps.","","\"No,\" she says, panting to catch her breath. \"We mustn't. We're here for one reason only, and that's the dragon.\"","","*label whynoromance","*choice","\t#Agree.","\t\tYou know it's for the best. She's here to rob the beast, and your quest is to rescue Princess Elsbeth. To get involved romantically would complicate matters too much.","\t\t","\t\tYou nod reluctantly, and silently the two of you resume your journey, neither speaking for a long time.","\t\t","\t\t*goto_scene oldman","\t#Ask why you can't have a relationship and continue your quest at the same time.","\t\t\"Because,\" Tamara says, \"My aid to you extends only to the point of our entrance into the lair. After that, we part ways, each left to their own fate. I still think you're going to die in your foolish quest, and even if you succeed, having the princess, you'll have no more need of me.\"","\t\t","\t\tChastened by her frank honesty, you can do nothing other than nod in silent acknowledgment of her hard truths. Silently, the two of you resume your journey, neither speaking for a long time.","\t\t","\t\t*goto_scene oldman","\t","*label slappush","\"What are you doing, Tamara?\" you cry, startled by her sudden, amorous transformation.","","Your push causes her to take a few step back, and when she recovers her balance, she smiles disdainfully.","","\"You weak man,\" she sneers. \"Am I too much woman for you?\"","","*choice","\t#Be reasonable: Tell her that's not it. You're just trying to maintain a professional relationship.","\t\t*goto slapreasonable","\t#Get angry: Tell her no one calls you weak and gets away with it.","\t\t*goto slapweak","\t#Change your mind: Tell her she's not too much woman and kiss her.","\t\t*goto slapkiss2","\t","*label slapreasonable","Tamara tosses her head to one side disdainfully. \"That's a noble idea,\" she says, \"But I still think you're weak.\"","","*label dragonwait","She turns and starts walking away.","","\"Come on,\" she says. \"The dragon won't wait forever.\"","","*goto_scene oldman","","*label slapweak","\"Then prove it,\" Tamara says, standing ready as if for either an amorous advance or physical assault. Before you can react, however, she changes her mind. \"No, wait,\" she says, strength in her voice. \"We can't.\"","","\"Can't what?\" ","","\"I don't know,\" Tamara says. \"What were you going to do?\"","*choice","\t#She insulted you. You were going to slap her.","\t\t\"That's what I thought,\" Tamara says. \"We can't fight. The dragon senses negative emotions, and that would surely summon its attention.\"","\t\t","\t\t*goto dragonwait","\t#She wanted a kiss. You were going to kiss her.","\t\t\"That's what I thought,\" Tamara says. \"We can't get involved romantically. My aid to you extends only to the point of our entrance into the lair. After that, we part ways, each left to their own fate. I still think you're going to die in your foolish quest, and even if you succeed, having the princess, you'll have no more need of me.\"","\t\t","\t\t*goto dragonwait","","*label slapkiss2","\"No,\" Tamara says, holding you back before your lips can reach hers. She wanted it before, but now that moment's passed.","","\"We can't get involved romantically,\" she says. \"We're here for one reason only, the dragon.\"","*goto whynoromance","","*label slapbye","*set with_tamara false","You stop walking, and Tamara continues on without a backward glance.","","*goto sameway","","*label noslap","Tamara steps back, looking at you, almost as if she's sorry, but it could also just be that she's wondering what you will do. When she sees that you do nothing, she says, \"We're even now. Come on.\"","","*goto_scene oldman","","*label follow","You follow from a distance, giving Tamara time to cool off before gradually catching up to her. ","","\"Took you long enough,\" is all she has to say.","","*goto_scene oldman","","*label gotcha","Tamara leaps to her feet and lets out a little scream. Strangely, her breeches are still up, belt buckle still fastened, but she drops what looks like a small glassy sphere. She quickly snatches it up and puts it in her belt pouch.","","\"Why did you do that?\" she cries.","*choice","\t#\"Just a joke, but... what was that glass sphere?\"","\t\t*goto sphere","\t#\"I was testing you. You're not a master-thief, are you?\"","\t\t*goto testing","\t","*label sphere","\"None of your spying-business,\" Tamara snaps. \"What did we just say about implicit trust?\"","*choice","\t#Agree that you should've trusted her more.","\t\t*goto agreetrust","\t#\"If we have implicit trust, why are you keeping secrets?\"","\t\t*goto keepingsecrets","\t","*label agreetrust","\"Good,\" Tamara says. ","","*label nomorespeak","The two of you resume your journey, and she speaks no more about the sphere you saw. ","","*goto_scene oldman","","*label keepingsecrets","Tamara sighs with frustration. \"Implicit trust is what YOU have to have because I'm the master of dragonlore. The glass sphere you saw is part of that dragonlore but is on a need-to-know basis. I snuck away to use it for a reason, and now you've messed that up. Don't let it happen again.\"","","*goto nomorespeak","","*label testing","Tamara is silent a long time. Finally she speaks. \"You're wrong,\" she says. \"I am a master-thief. You were able to sneak up and startle me because I was peering into the DragonEye.\"","","She reaches into her belt pouch and removes the glass sphere, and you see that contained within is indeed what looks like a dragon's eye.","","\"I'm vulnerable when I use it,\" Tamara goes on. \"That's why I snuck off, but by peering into it, I enter a trance and can find out the degree to which the dragon is watching. Look into it now and see for yourself.\"","*label testingchoice","*choice","\t#Squat against the tree and peer into the DragonEye while Tamara holds it.","\t\t*goto squat","\t*hide_reuse #Ask to hold it yourself.","\t\t*goto askhold","\t#Tell her you don't want to peer into the eye.","\t\t*goto nopeer","","*label squat","Tamara instructs you to squat leaning against the tree she was just using, and she squats next to you, holding the DragonEye before you. You peer into it, and after a minute or so, you feel yourself entering a trance. You lose sensation of your body, but the tree keeps you from falling over. Gradually, a light begins to grow inside the dragon eye within, and you get the creepy feeling of being watched. However, the light never grows above a dull glow, and you have the feeling the dragon's attention is diffuse, spread out evenly around the lair for many miles.","*choice","\t#Keep looking.","\t\tTamara nudges you. \"That's enough,\" she says, \"Strange things start to happen when you look longer, and it's not safe.\"","\t\t","\t\tYou tell her what you saw.","\t\t","\t\t*goto vigil","\t#Stop looking and tell Tamara what you saw.","\t\t*goto vigil","\t","*label vigil","*achieve dragoneye","*set looked_in_dragoneye true","\"Good,\" Tamara says. \"Neither the knight nor ourselves have done enough for it to pinpoint our location. It knows we're here, just not exactly where, and it will wait, watching vigilantly.\"","","As the two of you resume your journey, you look at your surroundings in a new light, almost as if you can sense the dragon everywhere, all around you. It makes you want to walk and speak more quietly.","\t\t","*goto_scene oldman","","*label askhold","\"This thing is worth half the plunder up on DragonKeep,\" Tamara says. \"I don't let anyone else touch it, let alone use it, and I'm only letting you use it now because we're so close to the lair. Will you look in it or not?\"","*goto testingchoice","\t","*label nopeer","\"The I guess we'll have to press on in ignorance,\" Tamara says. \"It's not my fault if the dragon swoops down and catches us unawares.\"","*choice","\t#Change your mind. You do want to peer into the DragonEye.","\t\t*goto squat","\t#Press on unawares.","\t\tTamara puts the DragonEye back in her belt pouch. \"Come on,\" she says, and the two of you resume your journey.","\t\t","\t\t*goto_scene oldman","","*label headback","*if with_tamara","\tSatisfied that Tamara's not up to something nefarious, you sneak back.","\t","\tIn a few minutes, Tamara returns, and it seems like she was gone for longer than she should have been.","\t*choice","\t\t#Ask her about it.","\t\t\t\"It always seems a long time for the one waiting,\" Tamara says, blithely walking by you. \"Come on. The dragon awaits.\"","\t\t\t","\t\t\tYou resume your journey.","\t\t\t","\t\t\t*goto_scene oldman","\t\t#Ignore it. Maybe she freshened up to be amorous later. (Yay!) Or had to go #2 also. (Ew!)","\t\t\t\"Come on,\" Tamara says. \"The dragon awaits.\"","\t\t\t","\t\t\t*goto_scene oldman","*else","\t*comment Not with Tamara","\tSatisfied that Tamara's not up to something nefarious, you sneak back.","\t*choice","\t\t#Continue the journey without her.","\t\t\t*goto continuebyself","\t\t#Wait for her.","\t\t\t*goto waitpee","\t\t","*label keepwatching","In a few moments, Tamara stands and begins returning the way she came, adjusting the pouch on her belt while she walks, seeming completely oblivious to your presence. She's coming right towards you.","\t","*choice","\t#OH NO, why didn't you realize this would happen??? Hide!","\t\t*goto hide","\t#Show yourself","\t\t*goto show","\t","*label show","*if with_tamara","\tYou know hiding would be useless. Tamara's heading right toward you, so to save the last bit of dignity you have, you stand and show yourself.","","\t\"What did you see!\" Tamara demands.","\t","\t*choice","\t\t#Tell her you saw nothing, the trees were in the way.","\t\t\t*goto sawtrees","\t\t#Tell her you saw her beautiful body.","\t\t\t*goto sawbody","*else","\t*comment Not with Tamara","\t\"Yeah, yeah, I knew you were there,\" Tamara says. \"For someone not traveling with me, you sure hang around a lot. Too chicken to creep closer? Too bad for you!\"","\t","\tShe walks past you, continuing the journey.","\t","\t*goto tamaraback","\t","*label hide","*if with_tamara","\tYou try to hide, but it's no use. Tamara sees you, and you cringe, ready for a tongue-lashing or even a blow. ","","\t\"What did you see!\" she demands.","\t","\t*choice","\t\t#Tell her you saw nothing, the trees were in the way.","\t\t\t*goto sawtrees","\t\t#Tell her you saw her beautiful body.","\t\t\t*goto sawbody","*else","\t*comment Not with Tamara","\tYou try to hide, but it's no use. Tamara sees you, jumps back, and puts her hand to the hilt of her sword until she sees it's you.","\t","\t\"Oh, it's just you,\" she says. \"For someone not traveling with me, you sure hang around a lot. Too chicken to creep closer? Too bad for you!\"","\t","\tShe walks past you, continuing the journey.","\t","\t*goto tamaraback","\t","*label sawtrees","*label sawbody","\"But nothing more?\" Tamara questions, her eyes narrowed suspiciously.","","*choice","\t#\"Nothing more.\"","\t\t*goto sawnothingmore","\t#\"What were you doing there?\"","\t\t*goto peesuspicious","\t","","*label sawnothingmore","\"Why did you follow me when I told you to stay put?\" she asks, obviously very angry with you. \"Can't a lady make water in peace?\"","","*choice","\t#Apologize","\t\t*goto peeapologize","\t#Tell her it's been a long time since you've been with a woman, and even a glimpse of her peeing was too hard to resist.","\t\t*goto resistpee","\t#Tell her you just met her, so you needed to make sure she wasn't up to anything suspicious.","\t\t*goto peesuspicious","\t","*label peeapologize","\"That's it?\" Tamara asks in disbelief. \"You hide to watch me pee and think just an apology is good enough?\"","","Tamara stares at you for a long time, thinking. Finally, she seems to have come to a decision.","\t","\"All right,\" she says. \"I'll let you off the hook this one time, but if you ever do anything like that again, I'll cut something off.\"","\t","*goto peeresume","","*label resistpee","\"Men are all alike,\" Tamara says, shaking her head. \"I was kinda liking you before, was even gonna make a pass at you in a bit, but now, no way. No nookie for you ever!\"","","*goto peeresume","\t","*label peesuspicious\t","\"Why are you asking if you didn't see anything?\" Tamara asks, eyes still narrow. ","*choice","\t#\"Because there was no 'lilypad shaking,' if you know what I mean.\"","\t\t*goto probe","\t#Let the matter drop.","\t\t\"Oh, no reason,\" you say and start to resume the journey. Tamara watches you suspiciously for awhile, but eventually the matter drops.","\t\t","\t\t*goto_scene oldman","\t","*label probe","\"Maybe not,\" Tamara says, \"But it's none of your concern. Remember how we just talked about implicit trust? Some things about dragonlore are on a need-to-know basis, and at this point, that's all you need to know.\"","*choice","\t#\"It was about dragonlore then?\"","\t\t\"Yes,\" Tamara says. \"And now you've messed it up, putting us both in unnecessary danger. We should be all right... this time, but don't do it again.\"","\t\t","\t\tShe turns to resume the journey.","\t\t","\t\t*goto_scene oldman","\t#\"How can I trust you if you're sneaking off and keeping secrets from me?\"","\t\t\"You don't have a choice,\" Tamara says. \"It's necessary precautions. It's in The Plan.\"","\t\t","\t\tShe turns to resume the journey.","\t\t","\t\t*goto_scene oldman","\t","*label peeresume","She walks past you, resuming the journey, and you walk in silence for about an hour, making slow progress through the thick forest foliage.","","*goto_scene oldman","","*label waitpee","*if with_tamara","\tYou wait, and you wait. It always seems a long time when you're waiting.","","\tFinally, she returns, sees you, and says, \"Good. I'm glad you didn't follow me in there to rape me when I had my pants down.\"","","\t*if tamara_laughed","\t\tShe smiles at her joke, and you realize she's actually a little charming when she's not her normal, ever-insulting self.","\t\t","\t\t*goto_scene oldman","\t*else","\t\tShe smiles at her joke, and you realize it's the first time you've seen her smile. She's pretty when she does that, but the smile's woefully shortlived.","\t","\t*goto_scene oldman","*else","\tYou decide to wait for Tamara, though you're not sure why. Maybe it's the fact that she really might be able to help you on your quest or maybe it's just the vague possibility you might get lucky. It's certainly not her charming personality.","\t","\tIn a few minutes, she finally comes back.","\t","\t\"Hey, you're still here,\" she says. \"Does that mean we're traveling together now?\"","\t","\t*fake_choice","\t\t#\"Yeah, I guess...\"","\t*gosub_scene agreement","\t*goto_scene oldman","",""]},"honeypot":{"crc":-148147027,"labels":{"notworth":7,"whatabout":12,"howmuch":26,"keeptalking":36,"keeptalking2":53,"hashoney":64,"showhoney":76,"moneyquestion":88,"moneyquestion2":94,"ask":134,"smear":141,"lick":161,"steady":169,"dripdown":176,"tongueon":188,"dab":195,"stand":215,"boobsfirst":225,"permission":270,"liedown":275,"lap":287,"myturn":303,"slow":317,"breeches":331,"liedone":336,"justkeep":350,"sneakback":358,"climb":370,"reach":380,"fist":388,"fall":391,"fall2":393,"answers":415,"noanswers":422,"feelfurther":429,"anotherpiece":439,"oneonly":443,"knock":455,"empty":459,"throw":473,"focus":493},"lines":["\"Ohh! Look, a beehive,\" Tamara says suddenly, pointing into the boughs of a nearby tree. Indeed, you see a beehive up there.","*choice","\t#You like honey, but it's not worth getting stung.","\t\t*goto notworth","\t#\"What about it?\"","\t\t*goto whatabout","\t","*label notworth","You continue on, and the hive is not mentioned again.","","*return","","*label whatabout","\"Oh, nothing, nothing,\" Tamara says, but she gives the hive a wistful glance as you pass it.","","\"What? Do you like honey or something?\" you ask.","","\"Yes, but we can't stop for silly things like that, can we?\"","*choice","\t#\"How much do you like honey?\"","\t\t*goto howmuch","\t#Agree and continue on.","\t\tThe two of you continue on, and the hive is not mentioned again.","\t\t","\t\t*return","\t\t","*label howmuch","\"A lot,\" Tamara says, \"But stop talking about it!\" She glares at you with her piercing green eyes, and her intensity almost scares you. You better not talk about it anymore.","*choice","\t#Keep talking about it.","\t\t*goto keeptalking","\t#Stay silent.","\t\tThe two of you continue on, and the hive is not mentioned again.","\t\t","\t\t*return","\t\t","*label keeptalking","\"Okay, dammit!\" Tamara says. \"My weakness is honey. Smear some on me, and I'll let you lick it off.\"","","\"Smear some on you where?\" you ask.","","\"Anywhere, but there's no time now. ","*if had_pro_talk","\tRemember our little talk? Put it OUT of your mind.\"","\t","\t*goto keeptalking2","*else","\tEven if there was, you and I have a professional relationship, so I expect there to be NO funny business between us. Understand?\"","\t*set had_pro_talk true","","*if not (has_honey)","\tYou kick yourself. If only you hadn't eaten the last of your honey at breakfast!","\t","*label keeptalking2","*choice","\t*selectable_if (has_honey) #\"I have some honey!\"","\t\t*goto hashoney","\t*if (not (has_honey)) #Sneak back later, climb the tree, and get some honey.","\t\t*goto sneakback","\t*if (not (has_honey)) #Stay focused on the journey.","\t\t*goto focus","\t*if (has_honey) #Better not mention that you have honey.","\t\t*goto focus","\t","*label hashoney","\"You do???\" Tamara says, eyes wide with excitement at first, but she quickly controls herself. \"Well, good for you. Make sure you eat it. We don't need any temptation.\"","","She seems pensive and upset now, increases her pace, and just concentrates on looking at the ground.","*choice","\t#Show her the honey. (Ten points if you know where that's from.)","\t\t*goto showhoney","\t#Ask nicely.","\t\t*goto ask","\t#Smear honey on her boobs.","\t\t*goto smear","\t","*label showhoney","*set has_honey false","You \"show her the honey.\"","","\"That's nice,\" Tamara says and bats the honey from your hand. It falls to the ground, gets dirty, and now you have no more honey.","*temp moneyquestion","*temp moneyhint 0","*temp another \"a\"","*choice","\t#Continue on.","\t\t*goto focus","\t#Answer the question for ten points.","\t\t*label moneyquestion","\t\t*if moneyhint = 1","\t\t\t*set another \"another\"","\t\t\t*goto moneyquestion2","\t\t*elseif moneyhint = 2","\t\t\t*set another \"yet another\"","\t\t*label moneyquestion2","\t\tWhat is your final answer?","\t\t*input_text moneyquestion","\t\t*if moneyquestion = \"Jerry Maguire\"","\t\t\t*achieve money","\t\t\tYes! Ten points for you!","\t\t\t*page_break","\t\t\t*goto focus","\t\t*else","\t\t\tSorry that is not the correct answer. Try again?","\t\t\t*choice","\t\t\t\t#Yes.","\t\t\t\t\t*goto moneyquestion","\t\t\t\t#Yes, but I need ${another} hint.","\t\t\t\t\t*set moneyhint +1","\t\t\t\t\t*if moneyhint = 1","\t\t\t\t\t\tHINT: Exact capitalization is important.","\t\t\t\t\t\t","\t\t\t\t\t\t*goto moneyquestion","\t\t\t\t\t*elseif moneyhint = 2","\t\t\t\t\t\tHINT: It's a movie.","\t\t\t\t\t\t","\t\t\t\t\t\t*goto moneyquestion","\t\t\t\t\t*elseif moneyhint = 3","\t\t\t\t\t\tHINT: Cuba Gooding Jr. is in it.","\t\t\t\t\t\t","\t\t\t\t\t\t*goto moneyquestion","\t\t\t\t\t*else","\t\t\t\t\t\tAll three hints:","\t\t\t\t\t\t","\t\t\t\t\t\t1. Exact capitalization is important.","\t\t\t\t\t\t*line_break","\t\t\t\t\t\t2. It's a movie.","\t\t\t\t\t\t*line_break","\t\t\t\t\t\t3. Cuba Gooding Jr. is in it.","\t\t\t\t\t\t","\t\t\t\t\t\t*goto moneyquestion","\t\t\t\t#No.","\t\t\t\t\t*goto focus","","*label ask","\"No, no, no, dammit, no!\" Tamara shouts, stomping her feet.","","I guess that's it then.","","*goto focus","","*label smear","*set has_honey false","*set slapped_honey true","You carefully take out your honey, making sure Tamara doesn't see. You sneak up behind her, and...","*page_break","SLAM! You slap the honey right on her chest!","","\"Oh no, you didn't!\" Tamara cries as the honey begins to ooze between her luscious globes. \"This vest cost 10,000 gold pieces!\" She quickly unties its strings and rips it open, and the honey continues to travel down her body onto her stomach. Her honey covered breasts stand before you in all their heavenly glory.","","\"Well?\" Tamara says. \"Are you going to finish what you started or not?\"","","\"Really?\" you stammer.","","\"Yes,\" Tamara says. \"It's my fetish, but don't get any funny ideas. After this, nothing changes, got it?\"","*choice","\t#Go at it!","\t\t*goto lick","\t#Ask her to lie down first.","\t\t*goto liedown","\t","*label lick","You can't believe such a fierce woman would allow it, but she lets you come right up to her and put your face right into her bosom. ","*choice","\t#Put your arms around her to hold her steady.","\t\t*goto steady","\t#Better not touch her without permission.","\t\t*goto permission","\t","*label steady","You gently place your hands on Tamara's shoulder blades, wondering if she will allow it or not.","","She allows it!","","You bend and begin licking the honey from Tamara's breasts. Her hands reach around and pull your face into her body, smearing it with honey. \"That's what you get for being naughty,\" she says.","*page_break","*label dripdown","\"Oooh!\" she says and begins undoing her belt. You look down and realize the honey has flowed down her body and has reached her navel. She pulls down her breeches just in time, for the honey is beginning to flow past her navel toward her mound of venus.","","\"Now look what you have to do,\" she says and pushes you down her body until you're on your knees. Her sex is right before you, but the honey has not yet reached it.","*choice","\t#Put your tongue on her sex, waiting for the honey to come. (Either one.)","\t\t*goto tongueon","\t#Dab at her navel with your tongue.","\t\t*goto dab","\t#Stand back up to finish her boobs first.","\t\t*goto stand","\t","*label tongueon","Neither one comes just yet, though Tamara's sex is engorged and overflowing copiously. She pulls your head off of her. \"There's no honey there,\" she says. ","","Reluctantly, you depart from heaven and go to the purgatory of her navel. ","","*goto dab","","*label dab","\"Yesss...\" Tamara purrs as you begin dabbing at her navel with your tongue.","","First you clean the honey from its rim, and as you start to push your tongue further in, she giggles. \"It tickles, but I like it,\" she says, holding your head hard against her belly. It's warm from the exertion of the hike, and you can feel her muscles tensing and relaxing as well as the rise and fall of her breath. You look up, and her chest is heaving. You time your licks to the mesmerizing rhythm of the rise and fall of her breasts, working your way back up to them when all the honey is gone from below.","","\"Oh gods,\" Tamara moans when your tongue plays over her breasts again. \"That feels so good.\"","","She falls to her knees, taking you with her, her hands holding your head tight against her chest. She cradles it like a baby as you finish your ministrations, finally finding no more honey no matter where your tongue roves.","","\"Ohhh... that was good,\" Tamara says, releasing your head and starting to ease her mammaries back into her vest, pulling the strings taut once again. She stands and pulls her breeches back up, and you wonder if you'll ever see again that alluring sight she keeps hidden in there.","","\"Well, let's get going,\" she says.","*choice","\t#What about your turn?","\t\t*goto myturn","\t#That's it then?","\t\tYes, you can tell Tamara's no longer in an amorous mood, and in fact, she seems a little standoff-ish now. You fall in behind her as she resumes the climb up the foothill.","\t\t*page_break","\t\t*return","\t\t","*label stand","\"Quick. It's dripping down,\" Tamara says and pushes you back down.","*choice","\t#Tell her you want to finish her boobs first.","\t\t*goto boobsfirst","\t#Put your tongue on her sex, waiting for the honey to come. (Either one.)","\t\t*goto tongueon","\t#Dab at her navel with your tongue.","\t\t*goto dab","","*label boobsfirst","*set tamara_respect %+5","Tamara's respect for you goes up slightly:","*stat_chart","\tpercent tamara_respect Tamara's Respect","\t","*line_break","\"Okay...\" Tamara says, too turned on to resist further. \"But get it before any drips on my breeches.\"","","You watch the honey creep ever so slowly down her lower stomach and onto her mound of venus, but you continue running your tongue all over her breasts, left to right and up and down in long slow strokes slowly but surely finding every last trace of honey. Tamara moans and keeps running her fingers through your hair, and you watch the honey finally reach the very top of her vulva.","","You begin following the honey trail downward over her quivering stomach and finally to her navel, while meanwhile, the honey below infuses into the folds of her inner and outer lips.","","You use your lips and tongue on her navel, making Tamara giggle. \"It tickles,\" she says, \"But I like it.\"","","*set honey_breeches true","A drip of honey falls from her sex and onto her breeches, and you decide it's time. You move down her body, your tongue never leaving her, and that makes her shiver.","","You feel your tongue leave the softness of her stomach, reach her mound, crest it, and continue down into the mystery of mysteries below. You put your mouth over her clitoral nub and dab it gently with your tongue while simultaneously mouthing it with your lips, and the honey thins, dripping more into her breeches. You look up at her face, and she either hasn't notice or no longer cares, her head thrown back, eyes closes, mouth open. She breathes heavily and moves her head from side to side in ecstasy.","*page_break","*achieve honeypot","*gosub_scene check_achievements","You extend your tongue so that it covers the whole of her opening and lick the honey from the outer lips. She's so soft and engored, and sopping wet too. You cover her entire sex with your mouth and use your tongue to tease the honey from her folds. Then you begin to probe deeper, first between her inner and outer lips, then between the inner lips themselves. Tamara gasps then, and a hand snakes around your neck to pull your head into her crotch.","","\"Use your tongue! Use your tongue!\" she cries, and you push it forward into her gushy softness again and again until she's screaming with pleasure.","","You feel her body begin to crumple to the ground, but she keeps your head locked in place. \"Don't stop!\" she cries as she falls to her knees, and by twisting your head upside-down, you're able to maintain constant contact with your tongue throughout the maneuver. ","","Tamara leans back, her legs still bent under her, until her shoulders touch the ground, her back arched. \"Keep going,\" she begs, and you move so that you're hovering over her, your hands on the ground to either side of her. She bucks her hips wildly, all the while locking your head to her sex, your tongue squirming all about until she shudders for nearly an entire minute. It seemed it would never end, but at long last, the spasms wracking Tamara's body subside. She releases your head, and her hands fall to either side as she collapses into profound relaxation. You watch her chest as it still heaves in her contorted position, and finally she rolls to one side to pull her feet out from under her.","","\"Wow,\" she says finally. \"I never had a fun honey time like that before.\"","*choice","\t#And... now is it your turn?","\t\t*goto myturn","\t#I guess we're done?","\t\tYes, you can tell Tamara's no longer in an amorous mood, and in fact, she seems a little standoff-ish now. You fall in behind her as she resumes the climb up the foothill.","\t\t*page_break","\t\t*return","\t#Apologize for letting some honey drip into her breeches.","\t\t\"Oh, don't worry about that,\" Tamara says. \"It wasn't much, and I kind of like it now. It'll make me think of you while I walk today.\"","\t\t","\t\tShe stands and pulls her breeches back up, and you watch her sex, that which you just touched so intimately, disappear, perhaps never to be seen again by you. She then eases her mammaries back into her vest, and as she refastens the strings, you wonder if you'll ever see them again as well. You wish you had more honey!","\t\t*page_break","\t\t*return","\t\t\t","*label permission","Good thinking. You bend at the knees and keep your hands well off her as you start to lick the honey from her breasts. Sometimes she sways on her feet, causing you to break contact, and after this happens a few times, she encircles your head with her arms and holds it against her body. You feel the softness of her breast against your cheek and rest it there, cradled like a baby, as you slowly move your tongue up and down, gradually removing the sticky sweet honey.","*page_break","*goto dripdown","","*label liedown","\"Oh, you!\" Tamara says, but she does indeed lie down, gently easing her body down onto a nearby patch of grass. \"Hurry up,\" she says.","","You kneel beside her and lower your head to her chest, savoring the sight of that which you may never see again. ","","Tamara grabs your head and shoves it right between her bosoms and smears they honey all over your face. \"That's what you get for not hurrying up,\" she says.","*choice","\t#Start lapping.","\t\t*goto lap","\t#Lick her sensually and slowly.","\t\t*goto slow","\t","*label lap","You start licking Tamara's boobs like a dog cleaning its bowl. Her breasts are so soft under your tongue you can hardly stand it! You make long strokes to get most of the honey, then give special attention to the heavy spots, sucking and slurping and having a grand 'ol time. Tamara seems to enjoy it too, moaning softly from time to time, and she puts a hand on your back.","","All too soon, it's over, and you can taste no more honey on her body no matter where you try to find it.","","\"That's it, then?\" Tamara asks, and sadly, you have to agree.","","\"Thanks!\" she says as she eases her mammaries back into her vest and pulls the strings tight once again. \"That was fun.\" She stands and gets ready to resume the hike.","*choice","\t#And... now is it your turn?","\t\t*goto myturn","\t#I guess we're done?","\t\tYes, you can tell Tamara's no longer in an amorous mood, and in fact, she seems a little standoff-ish now. You fall in behind her as she resumes the climb up the foothill.","\t\t*page_break","\t\t*return","","*label myturn","It looks like you don't get a turn.","*choice","\t#Push it.","\t\t\"I don't see any honey on your dick,\" Tamara says. \"And besides, it's a one-way fetish.\"","\t\t","\t\tI guess that's that. Well, it was still fun, right?","\t\t*page_break","\t\t*return","\t#Accept your sad fate.","\t\tThoughts of Princess Elsbeth and her overflowing gratitude console you as you ruefully resume your hike up the foothill.","\t\t*page_break","\t\t*return","\t\t","*label slow","*set tamara_respect %+5","Tamara's respect for you goes up slightly:","*stat_chart","\tpercent tamara_respect Tamara's Respect","\t","*line_break","Though you enjoy the sweet taste, you enjoy Tamara's body more, and it shows as you take your time exploring every inch of her chest with your lips and tongue. Her breasts are so soft under your tongue you can hardly stand it! You make long strokes to get most of the honey, then give special attention to the heavy spots, sucking and slurping and having a grand 'ol time. Tamara seems to enjoy it too, moaning softly from time to time, and she puts a hand on your back. She runs her hands up and down your spine, neck, and head, her fingers playing in your hair. She stretches her body and arches her back, pressing upward into the pleasure your tongue is giving her.","*choice","\t#Remove her breeches.","\t\t*goto breeches","\t#Just keep licking her chest.","\t\t*goto justkeep","\t","*label breeches","\"No, there's no honey there,\" Tamara breathes softly, grasping your hands but not even opening her eyes. \"Stay up here...\" She pulls your head back down onto her chest.","","You resume licking, and she resumes her caresses up and down your back until finally, you can find no more trace of sweetness despite where you search all over her luscious mounds.","","*label liedone","Tamara stirs and starts to sit up. \"Thank you,\" she says and kisses you on the lips before starting to ease her mammaries back into the confines of her vest and refasten the strings.","*choice","\t#Keep kissing her.","\t\tTamara pulls away and looks at you funny. \"Come on,\" she says. \"We've wasted enough time as it is.\"","\t\t*page_break","\t\t*return","\t#Ask if it's your turn now.","\t\t*goto myturn","\t#I guess we're done?","\t\tYes, you can tell Tamara's no longer in an amorous mood, and in fact, she seems a little standoff-ish now. You fall in behind her as she resumes the climb up the foothill.","\t\t*page_break","\t\t*return","\t\t","*label justkeep","\"Oh gods,\" she moans. \"I don't know why I like this so much.\"","","Her body continues to writhe sensually beneath you, but if ever you put a hand on her body, she stops you. You have no choice but to focus on the honey until finally, sadly, it's all gone.","","At long last, ","*goto liedone","","*label sneakback","In a short while, you say, \"Um, Tamara? I have to go shake the dew of MY lilypad, now.\"","","\"You don't have to announce it to the whole world. Just go do it,\" Tamara retorts.","","You go back to the beehive, and it seems Tamara has not shadowed you.","*choice","\t#Climb the tree.","\t\t*goto climb","\t#Throw a rock at the hive to knock it down.","\t\t*goto throw","\t","*label climb","You climb the tree and reach the beehive. The bees buzz about lazily, ignoring your presence. You wish you had time to light a fire and smoke them out, but you don't. Even so, you believe that if you're careful enough, you should be able to break off a piece of honeycomb without angering the bees.","*choice","\t#Reach in and break off a piece of honeycomb.","\t\t*goto reach","\t#Knock the hive down.","\t\t*goto knock","\t#Think better of this plan and climb back down empty-handed.","\t\t*goto empty","\t","*label reach","You carefully reach inside the hive and feel a solid wall of honeycomb as well as bees crawling all over your hand.","*choice","\t#Push your fingers in and rip off a fistful of honeycomb.","\t\t*goto fist","\t#Feel around further.","\t\t*goto feelfurther","\t","*label fist","*set bee_sex true","As you begin to push your fingers into the honeycomb, you feel a sting, ","*label fall","which makes you jerk. This makes your hand hit other bees who also sting you. ","*label fall2","Bees begin to cover your body, all stinging you, and you fall from the tree. You feel bees stinging you as you're falling, and then the ground hits you. As you're losing consciousness, you feel your throat swelling shut.","","\"Well, looks like this is the end,\" you think to yourself. \"The risk was worth it, though.\"","*page_break","Consciousness returns... Hey! You can breathe again. How did that happen? And your body is no longer covered in bee stings.","","Tamara's sitting nearby licking honey off her fingers. When she sees you're awake, she stands and says, \"Good. Let's get going.\"","","A few bees, no longer hostile, waft by on a gentle breeze.","","\"What happened?\" you ask","","\"Nothing,\" Tamara says, obviously impatient to resume your journey. She's already walking on ahead.","","As you're standing up, you feel something odd in your trousers. They're on funny, and your belt seems hastily refastened. Your penis too... it feels like it just had sex.","*choice","\t#Push Tamara for answers.","\t\t*goto answers","\t#Better not.","\t\t*goto noanswers","","*label answers","You start to ask Tamara for answers, but before half your sentence is out of your mouth, she launches into a half-hour long tirade about how \"men are all alike,\" \"only want one thing,\" \"do such stupid things to get it,\" and \"make women clean up after them.\"","","In the end, you get no answer.","*page_break","*return","","*label noanswers","You silently join Tamara, resuming your hike.","","\"We will not speak of this ever,\" Tamara says and then says nothing more, just keeps walking.","*page_break","*return","","*label feelfurther","You reach deeper in and feel where someone in the past has already broken off a piece of honeycomb, and you're able to break off another piece from the same place, which you wrap in a leaf and put in your pack. ","","You believe you could break off a second piece from the same place just as easily.","*choice","\t#Break off another piece.","\t\t*goto anotherpiece","\t#One is enough.","\t\t*goto oneonly","","*label anotherpiece","You reach back into the hole in the hive, but this time you accidentally squash a bee. It stings you, ","*goto fall","","*label oneonly","*set has_honey true","*achieve honey ","Best not to take too many chances however tempting it may be to have two sessions of honey-licking with Tamara. You climb down the tree, and return to find Tamara waiting for you.","","\"You take too long,\" she says and resumes the journey.","*choice","\t#Slap the honey on her chest.","\t\t*goto smear","\t#Save it for later.","\t\t*return","","*label knock","You hit the hive with a big stick, but it doesn't fall. Bees swarm out and attack you! Several sting you, and you try to ignore the pain while climbing down, being careful not to slip. ","*goto fall2","","*label empty","Really? Isn't it worth braving a few stings for the prospect of licking honey off Tamara's luscious flesh? The bees don't seem to be defending their hive, and the honeycomb inside is easy to see through a gap you can easily reach into.","*choice","\t#Nope, too risky, even if honey is Tamara's fetish.","\t\tYou climb back down and return to find Tamara waiting.","\t\t","\t\t\"You take too long,\" she says. ","\t\t","\t\tThe two of you resume your journey.","\t\t*page_break","\t\t*return","\t#Change your mind. Get some honey!","\t\t*goto reach","","*label throw","You find a nice hefty rock and launch it at the hive. Direct hit! However, the hive doesn't fall, but now the bees are angry.","*choice","\t#Throw another.","\t\tYou throw an even bigger rock this time, but still, the hive doesn't fall. Bees are beginning to fly fast in your direction, and you run to escape them.","\t\t","\t\tYou get stung once or twice on the arms, but once you're far enough away, the bees stop chasing you. You return to where Tamara's waiting for you, and she glances at the welt on your arm.","\t\t","\t\t\"Good thing they didn't get you on the 'lilypad,'\" she says and resumes walking.","\t\t*page_break","\t\t*return","\t#Go back to Tamara.","\t\tYou return to find Tamara waiting.","\t\t","\t\t\"You take too long,\" she says. ","\t\t","\t\tThe two of you resume your journey.","\t\t*page_break","\t\t*return","","*label focus","*return","",""]},"oldman":{"crc":-665621467,"labels":{"ass":9,"noass":14,"honeypot":25,"oldman":31,"losesight":56,"hug":64,"boobgraze":70,"hello":76,"lookoldman":95,"hail":116,"catchup":131,"catchupchoice":146,"apologize":155,"intro":160,"death":165,"next":173,"deathchoice":183,"why":194,"allright":198,"ally":204,"save":229,"save2":237,"silenttorture":241,"revelation":251,"resume":269},"lines":["You hike another fifteen minutes, Tamara a few feet in front of you.","","*choice","\t#Look at her ass.","\t\t*set looked_ass true","\t\t*goto ass","\t#Refrain.","\t\t*goto noass","\t","*label ass","You enjoy watching Tamara's ass muscles working as she climbs the foothill, and it makes your climb easier. If she notices, she doesn't let on.","","*goto honeypot","","*label noass","It's hard, but you keep your eyes averted. Are you being polite or...","","*fake_choice ","\t#Yes, it's out of politeness.","\t\t*set was_polite true","\t\tWhat a gentleman! Where's your armor? You could be a knight yourself.","\t\t","\t#Maybe some politeness, but mostly to avoid her wrath.","\t\tThat's probably a good policy.","\t\t","*label honeypot","*if with_tamara","\t*gosub_scene honeypot","","You walk for perhaps another two miles, steadily hiking up the steep slope of the foothill.","","*label oldman","*if with_tamara","\tTamara raises her fist, the universal hand signal for, \"Stop.\"","\t","\t\"I see the old man ahead,\" she whispers.","\t","\tShe motions you forward to see for yourself, and to do so, you have to move quite close to her. Do you...","\t","\t*choice","\t\t#Take the opportunity to put an arm around her, just to steady yourself on the rocky slope, of course.","\t\t\t*goto hug","\t\t*selectable_if (was_polite = false) #Take the opportunity to slide in and try to cop a surrepetitious boob graze.","\t\t\t*goto boobgraze","\t\t#Just move in close but do nothing sleazy.","\t\t\t*goto lookoldman","\t\t#Decide the old man isn't a threat. Boldly show yourself and say hello.","\t\t\t*goto hello","*else","\t*comment not with tamara","\tSince Tamara's able to climb faster than you, the distance between you increases until she's quite a bit ahead of you. ","\t*if looked_ass","\t\tNow that your \"motivation\" is gone, the climb begins to tire you again, but you trudge on. ","\t\t","\t*goto losesight","\t\t","*label losesight","You eventually lose sight of her, but in a few moments, you hear her (all too familiar) voice from somewhere up ahead. It seems she's talking to someone, and it's not you for a change.","\t","Climbing for a few more minutes, you see Tamara again, and she's talking with the manservant of the female knight. He introduces himself as Banes, and you learn that the knight, named Juliette, has left him here because he was too frail to continue the journey. He's obviously distraught at this, and they loved each other very much.","\t","*goto catchup","","\t\t","*label hug","*set tamara_respect %-10","Tamara looks at you askance but doesn't say anything.","","*goto lookoldman","","*label boobgraze","*set tamara_respect %-15","You manage to nudge one of her boobs with your shoulder and sliiide across it. It feels great! Tamara seems nonplussed, but in the current situation, she's unable to give you her normal tongue-lashing.","","*goto lookoldman","","*label hello","Tamara frowns at your usurpation of her command.","","*gosub_scene adj_respect -10","","\"Hail to thee!\" you call. \"May we approach?\"","","The old man's head jerks up, and he struggles to his feet as fast as he can, needing to brace one hand against the rock he was sitting on.","","\"Yes, yes, of course, stranger!\" he calls back. \"Welcome!\"","","Shaking her head, Tamara begins the hike toward the old man ahead of you, and as it's some distance, she makes the introductions along the way, announcing your quest to assault the dragon's lair.","","You see the old man wipe his eyes, and he forces an overly friendly demeanor to hide his grief. \"My name is Banes,\" he says. \"Manservant to the knight-errant, Juliette, who has continued on...\" ","","It's pitifully obvious what happened. When the slope of the foothills increased, the old man simply could not go on. In fact, it's a wonder he's made it as far as he has.","","*goto catchup","","*label lookoldman","From your new vantage point, you're able to see the old man, as well as enjoy being so close to Tamara's hot body. Literally. You can feel the heat emanating from it in waves of hot, moist air, and you can even smell her sweat. You sense her breathing, still a bit heavily from the climb, her breasts rising and falling so near to you.","","Tearing your attention away from Tamara, you focus on the old man. He's sitting on a boulder, eyes cast downward, apparently doing nothing. The knight is nowhere to be seen, and nothing seems amiss.","","*choice","\t#Whisper to Tamara, \"Should we hail him?\"","\t\t\"It seems safe,\" Tamara replies. \"Yes, let's hail him.\"","\t\t","\t\t*goto hail","\t#Ask Tamara what to do.","\t\t*set tamara_respect %-5","\t\tTamara seems irritated by your indecisiveness. \"I'll handle it,\" she says.","\t\t","\t\t*goto hail","\t#\"Let's rob him!\"","\t\t*set tamara_respect %-20","\t\t\"Oh my gods,\" Tamara hisses fiercely, keeping her voice down. \"Don't you remember my plan?!? We need to ally with these people.\"","","\t\t*goto hail","\t","*label hail","Tamara stands. \"Hail to thee!\" she calls. \"May we approach?\"","","Wow. Tamara being polite. That's a first.","","The old man's head jerks up, and he struggles to his feet as fast as he can, needing to brace one hand against the rock he was sitting on.","","\"Yes, yes, of course, stranger!\" he calls back. \"Welcome!\"","","Tamara begins the hike toward the old man, and as it's some distance, she makes the introductions along the way, announcing your quest to assault the dragon's lair.","","You see the old man wipe his eyes, and he forces an overly friendly demeanor to hide his grief. \"My name is Banes,\" he says. \"Manservant to the knight-errant, Juliette, who has continued on...\" ","","It's pitifully obvious what happened. When the slope of the foothills increased, the old man simply could not go on. In fact, it's a wonder he's made it as far as he has.","","*label catchup","Banes can no longer control his tears, and his voice breaks. \"Her... quest... is similar... to yours...\" he manages through his sobs. \"I'm sorry,\" he says. \"It's just that I've known her since she was born, and I so wanted to be with her in her moment of glory.\"","","\"Or death,\" Tamara says, and Banes' tear-filled eyes widen in astonishment.","","\"How can you say such a thing?\" Banes says.","","*if with_tamara","\tApparently now that Tamara knows that Juliette has abandoned Banes, she has returned to her ordinary demeanor.","\t*goto catchupchoice","*else","\tBanes sees you approaching and looks quizzically at Tamara.","\t","\t\"Oh him,\" Tamara says. \"Just ignore him. He's not important.\"","","*label catchupchoice","*choice","\t*if (not (with_tamara)) #Introduce yourself to Banes.","\t\t*goto intro","\t#Apologize to Banes for Tamara's insult.","\t\t*goto apologize","\t#Let her speak for herself.","\t\t*goto death","\t","*label apologize","\"I apologize for her,\" you say and try to step in front of Tamara, but she doesn't let you.","","*goto death","","*label intro","You introduce yourself to Banes and tell him of your quest.","","*goto death","","*label death","*if with_tamara","\t\"In matters like these, ignoring the truth is a liability,\" Tamara says matter-of-factly, completely ignoring Banes' pain. \"Alone as she is, it's a fool's errand, and you are wise to leave her. Though you are in your last days, you will likely outlive her, that is, unless she accepts my help, which we are endeavoring to offer.\"","\t","\t*goto next","*else","\tTamara ignores you and just keeps speaking. \"In matters like these, ignoring the truth is a liability,\" she says matter-of-factly, completely ignoring Banes' pain. \"Alone as she is, it's a fool's errand, and you are wise to leave her. Though you are in your last days, you will likely outlive her, that is, unless she accepts my help, which we are endeavoring to offer.\"","","*label next","\"You would do that?\" Banes says, hope returning to his features.","","\"Yes,\" Tamara says, \"If she will accept it. Knights are very proud, aren't they?\"","","\"That is true,\" Banes says, easing himself back down onto the rock, a pensive look on his face.","","\"Well, we are off,\" Tamara says. \"Good luck, old man.\"","","Is there anything you wish to ask the old man?","*label deathchoice","*choice","\t*disable_reuse #\"What made Juliette undertake a quest like this?\"","\t\t*goto why","\t*disable_reuse #\"Do you know anything about Juliette that might help us convince her to ally with us?\"","\t\t*goto ally","\t*disable_reuse #\"Are you going to be all right?\"","\t\t*goto allright","\t#Continue on.","\t\t*goto resume","\t","*label why","\"Oh, I tried to talk her out of it,\" Banes says. \"But she would hear none of it. When she gets an idea in her head, there's no stopping her, and her skill in arms has always been enough to carry her through, despite her stubbornness. I think she's doing it because of her brother. She's one of the best knights in the kingdom, but she was unfortunate enough to have been born the little sister of a truly gifted warrior. She's lived in his shadow her whole life, and I believe she became a knight-errant to try and get out from under it, traveling the countryside, engaged in noble deeds, rather than the stuffy affairs of court. Still, it gnawed at her, and when she heard the dragon assaulted the castle, she vowed to kill it. 'To fight the unbeatable foe,' was how she put it, 'for honor in either glory or death.'\"","*goto deathchoice","","*label allright","\"Oh, I'll be fine,\" Banes says. \"I have enough food, and I'll wind my way down, back to Chardell. I'll wait there for you.\"","","\"Don't wait too long,\" Tamara says, several yards up the slope already, tapping her foot impatiently.","*goto deathchoice","","*label ally","*set banes_love_talk true","\"Make friends with her,\" Banes offers. \"She seems strong and aloof on the surface, but don't let that put you off. Underneath...\"","","He bursts into tears again and speaks through the sobs wracking his body. \"She...\" he manages. \"has a heart... of gold!\"","","Tamara, who was already walking ahead, turns around. \"Are there any other body parts of hers that might help us reach that heart of gold, old man?\" she asks suggestively.","","Once again, Banes' eyes open wide in shock.","","\"Like I said before, this is not the time for modesty,\" Tamara says. \"Do you know something or not?\"","","Banes seems reluctant to engage in such a lewd subject, so Tamara continues. \"Look,\" she says. \"I'm a master tracker. I've seen all your sign and your tracks, and I know what goes on every morning. You had rabbit last night, and for two days, you've rationed your water. Juliette has an old injury just above the left knee. You love each other deeply and never argue.\"","","\"How in the world could you know all that?\" Banes cries, his face reddening.","","\"Easy,\" Tamara says. \"You walk side by side a bit too close together for full freedom of movement. Only people who love each other do that for a whole journey, and it never wavered once. On a hard journey, especially with you slowing her down like you have, your spacing would have increased during testy times, but even that never happened. So anyway, with privacy already lost, you can tell us anything. It might save her life. Probably not, but if you really love her that much, I'm sure the small impropriety is worth it, no?\"","","*choice","\t#Save the old man from Tamara's torture.","\t\t*set tamara_respect %+15","\t\t*goto save","\t#Stay silent.","\t\t*goto silenttorture","","*label save","*if with_tamara","\t\"Tamara!\" you cry. \"This is going too far. We'll make friends with Juliette, not seduce her.\"","\t","\t*goto save2","*else","\t\"Tamara!\" you cry. \"You go too far. You've been insulting me all day, but I will not have you insult an old man by asking him for advice on seduction!\"","","*label save2","\"No, no, I'll tell you!\" Banes quickly protests. \"It might be important, and... 'seduction...'\" The word is hard for him to say. \"The... animal... passions are powerful in all of us, but they run especially powerful in Juliette. ","*goto revelation","\t","*label silenttorture","Banes is silent a long time. \"Yes, we did love each other...\" he says quietly at last.","","\"Yes, yes, we know that,\" Tamara spats, getting impatient. \"Now out with the huicy details or we can just move on with out them. Your choice.\"","","\"No, no, please don't leave,\" Banes quickly protests. \"I'll tell you.\"","","He inhales deeply, face very red, but with reluctance he finally speaks. \"The... animal... passions...\" he begins. The words are hard for him to say. \"They're powerful in all of us but are especially so in Juliette. ","*goto revelation","","*label revelation","*set banes_sex_talk true","Why else would she stoop to be with a tired old man like myself? I think of her as my own daughter, so it gave me no pleasure to do what we did. Her love for me was no more than as for a father figure either.\"","","\"Well, that explains why she never gave full rein to her passions then,\" Tamara says. \"But it wasn't her who did the stooping.\" She laughs.","","Banes turns red again but is mostly astonished once again at how much Tamara is able to discern merely from the nearly imperceptible signs they left behind.","","\"Well, so now we know. We'll sex her up. Thanks, old man,\" Tamara says and turns to go.","","\"Wait,\" Banes says. \"There's one more thing, a little embarrassing detail...\"","","\"Oh, I think I already know,\" Tamara says without turning around, her interest fading fast. \"Is it THIS?\" She spins around, forms the fingers of one hand into a \"V\" and lewdly darts her tongue between.","","\"Why yes!\" Banes cries. \"You can see THAT too, just from our sign?\"","","\"Yah,\" Tamara says and is already walking off.","","*label resume","\"Goodbye, Banes,\" you say. \"Until we meet again.\"","","He smiles kindly and nods. \"Take care of your firecracker of a girlfriend,\" he says. ","","You look back just before he fades from view, and he's still sitting on the rock. He waves goodbye, and you return it, then turn to go.","","\"How touching,\" Tamara snorts. \"Now, come on, save that mushy stuff for the girl-knight you have to seduce.\"","","A few steps later, she turns and says, \"And I'm not your girlfriend.\"","*page_break","*goto_scene lilypad2","",""]},"lilypad2":{"crc":-1036801910,"labels":{"lilypad_alone":22,"lilypad":35,"speculation":38,"stealth":53,"showself":65,"whatswrong":75,"nextleavealone":92,"approachafterask":97,"hilarious":106,"askapproach":136,"askapproachchoice":146,"approach":162,"laugh":166,"laughapol":176,"drawweapon":187,"nodraw":197,"hiltaway":207,"notfunny":219,"reallydraw":227,"keephiding":242,"keephiding2":255,"waitpee":271,"continue":282,"keepwaiting":291,"changeofheart":302,"changeofheartchoice":311,"agree":318,"disagree":325,"doit":335,"disagree2":347,"notgoodenough":356,"notgoodenough2":364,"stillnotgoodenough":372,"begchoice":381,"ruse":390,"nooral":398,"noproof":408,"secondthought":417,"kneels":428,"deepthroat":435,"blueballs":454,"belt":477,"really":482,"letshearit2":487,"letshearit":497,"letshearitchoice":499,"apolnotgoodenough":506,"parleyafterduel":515,"parleyafterdragon":518,"questdiff":530,"impossible":540,"triedkill":548,"dragontalk":556},"lines":["*temp stoodupforself false","*temp smallfire false","*temp booboffer false","*temp was_eager false","*temp gabriella_mad false","","*image http://herbaloutfitters.com/textimage/text_image.php?font=MervaleScript-Regular&fontsize=30&text=Chapter%20Two:&color=000000&matte=F0D6AD&shadow=inv","*image http://herbaloutfitters.com/textimage/text_image.php?font=MervaleScript-Regular&fontsize=30&text=The%20Ascent&color=000000&matte=F0D6AD&shadow=inv","","*if with_tamara","\t*goto lilypad","*else","\tTamara is climbing ahead of you again, but she seems slower than before, distracted.","\t*if looked_ass","\t\tIt's easier to keep up with her now, and this makes it even easier to enjoy the view.","\t\t","\t\t*goto lilypad_alone","\t*else","\t\tShe's moving at your speed now, and you follow her for no real reason other than that you're both going in the same direction. After all, she's able to track Juliette, while you cannot.","\t\t","\t\t*goto lilypad_alone","\t","*label lilypad_alone","\"You've been trying to lose me all day,\" Tamara suddenly turns and shouts. \"Why are you following me now? I'm going to pee again, and I don't want to see you when I get back!\"","\t","Something is very odd. There's no way she should need to pee again so soon. Either the first time was a ruse, this time's a ruse, or both times were ruses for some reason.","","*choice","\t#Stealthily follow her.","\t\t*goto stealth","\t#Wait.","\t\t*goto waitpee","\t#Continue on.","\t\t*goto continue","\t\t","*label lilypad","You climb for about an hour, and Tamara's uncharacteristically quiet. At first, you didn't question it, just enjoyed the peacefulness of it, but eventually, you realize something's off. She seems distracted, steps carelessly, making more noise than usual, and sometimes she climbs slow enough that you actually overtake her for a short while.","\t","*label speculation","Tamara stops and thinks a moment. ","","\"Wait here,\" she says. \"I need to, you know, shake the dew from my lily pad again.\"","","\"Already?\" you ask, not remembering her drinking a lot of water recently. ","","\"Yeah...\" she says distractedly and hurries off into the forest by herself.","","*choice","\t#Stealthily follow her.","\t\t*goto stealth","\t#Wait","\t\t*goto waitpee","\t","*label stealth","As soon as Tamara's out of sight, you hurry after her, hiding behind trees and being careful not to step on any twigs or upset any stones. You catch sight of her scurrying down the hill, making sobbing sounds. Is she crying?","","You see her crumple against a tree, and indeed she is crying.","*choice","\t#Show yourself.","\t\t*goto showself","\t#Laugh at her.","\t\t*goto laugh","\t#Keep hiding.","\t\t*goto keephiding","\t","*label showself","The rustling of pine needles underfoot gives you away, and Tamara's head jerks up as she hastily wipes away her tears.","","\"What do you want?\" she says angrily, embarrassed to be caught in such a vulnerable moment.","*choice","\t#Ask what's wrong.","\t\t*goto whatswrong","\t#Approach nearer.","\t\t*goto approach","\t\t","*label whatswrong","\"Nothing,\" Tamara says, still angry, staring fixedly at the space between her boots.","*choice","\t#Approach nearer.","\t\t*goto approachafterask","\t#Ask if it's okay if you come closer.","\t\t*goto askapproach","\t#Decide to leave her alone. ","\t\t\"Nothing, just making sure you're all right,\" you say, deciding maybe it wasn't the best idea to come barging in on Tamara at a time like this.","\t\t","\t\t\"I'm fine,\" she says sullenly. \"Just give me a minute, ","\t\t*if lilypad1_followed","\t\t\tand QUIT FOLLOWING ME ALL THE TIME!\"","\t\t\t*goto nextleavealone","\t\t*else","\t\t\tplease.\" Wow, Tamara being polite. Something really is weird with her.","\t\t\t","\t\t*label nextleavealone","\t\tYou go back and wait for her where you were before.","\t\t","\t\t*goto keepwaiting","","*label approachafterask","Tamara glances at you when she sees that you're coming but doesn't say anything. ","","You sit next to her.","","\"If you laugh at me, it'll be the last thing you do,\" she says. \"So make sure you enjoy it.\"","*fake_choice","\t#\"I'd never laugh at you,\" you say, glancing at her sword, which looks even more wicked this close up.","\t#Smirk.","*label hilarious","\"I bet you think this is just hilarious, don't you?\" Tamara goes on. \"The great master-thief sitting by herself crying. That's what you're thinking, isn't it?\"","*fake_choice","\t#\"No, of course, not.\"","\t\t\"I doubt that,\" Tamara says, not looking up. \"It's what I'd think if you did it, that's for sure. I'm thinking it about myself right now, if you want to know the truth. I feel so damn weak!\"","\t#\"A little, yes.\"","\t\tTamara rolls her eyes. \"Yeah, I can't believe it myself. I feel so damn weak!\"","*fake_choice","\t#\"How could you possibly think you're weak?\"","\t\t","\t#Feel her arm to see if it feels weak.","\t\tTamara looks at you funny as you start squeezing her bicep.","\t\t","\t\t\"Yup, you do feel weak,\" you joke.","\t\t","\t\tTamara punches your arm.","","*if not(banes_love_talk) ","\t\"I saw something today I didn't think could exist,\" Tamara says. \"I've tracked Banes and Juliette for over a week, and a tracker sees such intimate details that it's almost like getting into the mind and heart of the prey. They walk side by side a bit too close together for full freedom of movement, and only people who love each other do that for a whole journey. It never wavered once, and that's even more odd because it shows they never bickered. Never. I put all this out of my mind, but then seeing him today... It was too much.","\t","\"I can't believe I'm going to say this, but I've decided I'm going to help you and Juliette, not just with the secret entrance but your full quests, to the death if need be. I saw what she had with Banes, and I never thought a love like that could exist. I can't let it die.\"","","She gazes at the peak of DragonKeep in the distance a moment, then locks eyes with you. \"Will you let me help you?\" she asks. \"I will make you my apprentice and teach you all I know of dragonlore. Then, when we join forces with Juliette, nothing can stop us. Do you agree?\"","","*choice","\t#You are inspired by her change of heart. Agree.","\t\t*goto agree","\t#You don't trust her. Disagree.","\t\t*goto disagree","","*label askapproach","\"No, you may not approach,\" Tamara snaps. ","*if lilypad1_followed","\t\"Why are you always following me???\"","\t","\t*goto nextaskapproach","*else","\t\"I went off by myself for a reason!\"","\t","She gets up and begins walking further downhill.","*label askapproachchoice","*choice","\t#Follow.","\t\t\"Someone needs to teach you manners,\" Tamara says, spinning around and drawing her sword. \"I'm giving you one last chance.\"","\t\t*choice","\t\t\t#Whoa, she's really serious this time. Let her go.","\t\t\t\tYou leave Tamara alone and return to where you were before.","\t\t\t\t","\t\t\t\t*goto keepwaiting","\t\t\t#Draw your sword.","\t\t\t\t*goto drawweapon","\t#Let her go.","\t\tYou return to where you were before.","\t\t","\t\t*goto keepwaiting","","*label approach","Tamara stands when she sees you approaching. \"Can't you give a person the least bit of privacy?\" she snaps. She turns and begins to go further downhill.","*goto askapproachchoice","","*label laugh","Tamara's head jerks up when she hears your laugh, and she quickly wipes her eyes. \"You dare laugh at me?!?\" she cries and whips out her wicked blade.","","*gosub_scene adj_respect -20","*choice","\t#Apologize.","\t\t*goto laughapol","\t#Draw your weapon.","\t\t*goto drawweapon","\t","*label laughapol","\"Whoa, Tamara,\" you say, raising your hands to show you intend no harm. \"I didn't mean it that way, really I didn't.\"","","\"Why did you do it then?\" Tamara demands.","","\"Well,\" you say, walking down to where she is. \"You've always presented such a strong image, so it was nice to see that you actually have a softer side. I didn't mean to laugh AT you, just that I was happy.\" It's not totally true, but it's partially true.","","Tamara sighs and puts her sword away. ","","*goto hilarious","","*label drawweapon","Are you sure you want to do that? Remember that the dragon senses negative emotions around its lair, so fighting with Tamara here could very well summon the beast. Also, do you really want to make an enemy of Tamara? You may be bigger and stronger than her, but she's a very cunning opponent. You can take her, but it certainly won't be easy.","","Do you still draw your weapon?","*choice","\t#Yes.","\t\t*goto reallydraw","\t#No, you change your mind.","\t\t*goto nodraw","\t","*label nodraw","You think better of drawing your weapon, but what do you do instead?","*choice","\t#Apologize for laughing at her.","\t\t*goto laughapol","\t#Put your hand on the hilt of your weapon and say, \"Put your sword away, Tamara.\"","\t\t*goto hiltaway","\t#\"That's not funny, Tamara.\"","\t\t*goto notfunny","\t","*label hiltaway","\"Not until you apologize,\" Tamara growls. It's all she can do to hold herself back from charging you immediately.","*choice","\t#Fine, fine, you apologize.","\t\t*goto laughapol","\t#Refuse to apologize.","\t\t*set tamara_enemy true","\t\t\"Then you and I are no longer friends,\" Tamara says. \"If I see you again, I'll kill you.\"","\t\t","\t\tShe turns and stalks off, sword still in her hand.","\t\t*goto_scene camp1","","*label notfunny","\"Who's laughing now?\" Tamara barks. \"Put your money where your mouth is and fight me. Either that or apologize. I don't care which.\"","*choice","\t#Apologize.","\t\t*goto laughapol","\t#Draw your sword.","\t\t*goto reallydraw","","*label reallydraw","*set tamara_respect %-40","\"I'll teach you to laugh at me!\" Tamara cries and charges.","","You're standing uphill and so have the advantage, but Tamara quickly shifts direction to circle around you and claim the high ground for herself.","","*gosub_scene hill_duel","","*if hill_duel_outcome = \"parley\"","\t*goto parleyafterduel","*elseif hill_duel_outcome = \"dragon\"","\t*goto dragontalk","*else","\t*goto_scene camp1","","*label keephiding","You hide successfully. Tamara continues to sit by herself and sob.","","\"This is weak. Weak! Weak!\" she says, talking to herself, raising both hands and looking skyward as if beseeching the gods. \"How can you do this to me on the eve of my triumph? I could have gotten away clean if I left them to die. I didn't even have to trick them; they're marching in all by themselves, so why? Why punish me like this when I did nothing wrong?\"","*choice","\t#Show yourself.","\t\tTamara jumps to her feet when she sees you. \"Can't you give a person the least bit of privacy?\" she snaps. She turns and begins to go further downhill.","\t\t*goto askapproachchoice","\t#Laugh at her.","\t\t*goto laugh","\t#Keep hiding.","\t\t*goto keephiding2","\t","*label keephiding2","You manage to stay quiet, and Tamara still doesn't notice you.","","\"You silly sentimental girl!\" she says and bashes herself in the side of the head with her fist.","*choice","\t#Show yourself.","\t\t\"Spying on me?\" Tamara cries, getting to her feet and wiping her eyes to hide her tears. \"Can't you give a person the least bit of privacy?\" She turns and begins to go further downhill.","\t\t*goto askapproachchoice","\t#Laugh at her.","\t\t*goto laugh","\t#Keep hiding.","\t\tYour footing on the pine-needle-laden slope slips, and Tamara's head jerks up at the sound.","\t\t","\t\t\"Spying on me?\" she cries, getting to her feet and wiping her eyes to hide her tears. \"Can't you give a person the least bit of privacy?\" She turns and begins to go further downhill.","\t\t*goto askapproachchoice","","*label waitpee","*if not(with_tamara)","\tEven though she told you she didn't want to see you again, she's acting so strangely, you decide to stick around. Besides, if she really wanted to avoid you, she could just sneak off.","\t","You find a place to sit and wait. In a little while, you hear what sounds like Tamara crying.","*choice","\t#Go see what's wrong.","\t\t*goto stealth","\t#Keep waiting.","\t\t*goto keepwaiting","","*label continue","You resume the climb up the foothill, but before you get very far, you hear what sounds like Tamara crying.","*choice","\t#Go see what's wrong.","\t\t*goto stealth","\t#Keep going.","\t\t*set left_crying true","\t\t*goto_scene camp1","","*label keepwaiting","After a long time, Tamara returns, and while before, she was scattered, she now approaches you with a strange calmness. Her eyes are still wet with tears, but she's no longer crying.","","\"I'm going to save Juliette,\" she announces solemnly, standing before you, conviction burning in her eyes. \"Are you with me?\"","","*choice","\t#\"Whoa! Why the change of heart?\"","\t\t*goto changeofheart","\t#\"Yes, let's do it.\"","\t\t*goto doit","\t","*label changeofheart","*if not(banes_love_talk) ","\t\"I saw something today I didn't think could exist,\" Tamara says. \"I've tracked Banes and Juliette for over a week, and a tracker sees such intimate details that it's almost like getting into the mind and heart of the prey. They walk side by side a bit too close together for full freedom of movement, and only people who love each other do that for a whole journey. It never wavered once, and that's even more odd because it shows they never bickered. Never. I put all this out of my mind, but then seeing him today... It was too much. I see now what he and Juliette have, and I won't stand idle and watch it die, not for all the treasure in the world. Until them, I didn't know a love like that could exist in this world.\"","\t*goto changeofheartchoice","*else","\t\"It was the old man,\" Tamara says. \"I see now what he and Juliette have, and I won't stand idle and watch it die, not for all the treasure in the world. Until them, I didn't know a love like that could exist in this world.\"","","She gazes at the peak of DragonKeep in the distance a moment, then locks eyes with you. \"I've grown fond of you as well. If you wish, I can make you my apprentice and teach you all I know of dragonlore. Then, when we join forces with Juliette, nothing can stop us. Do you agree?\"","","*label changeofheartchoice","*choice","\t#You are inspired by her change of heart. Agree.","\t\t*goto agree","\t#You don't trust her. Disagree.","\t\t*goto disagree","\t","*label agree","*comment need to write not with_tamara part","*set with_tamara true","\"Good,\" Tamara says, getting to her feet and resuming the journey. \"Remember, now that you're my apprentice, our agreement that you do everything I say is even stronger. There are things you just don't know yet, dangerous things.\"","*page_break","*goto_scene camp1","","*label disagree","*if with_tamara","\t\"No, Tamara,\" you say. \"Let's stick to our original agreement, which, I must say, you somewhat forced me into. I'm not ready for more than that right now.\"","\t","\t*goto disagree2","*else","\t\"No, Tamara,\" you say. \"All this time, you've done nothing to earn my trust. I'm safer on my own.\"","\t","\t*goto disagree2","","*label doit","*comment need to write not with_tamara part","*set with_tamara true","\"I knew I could count on you!\" Tamara says beaming.","*gosub_scene adj_respect 20","","She gets up and turns to resume the journey.","","As you walk, she says, \"Remember, now that you're my apprentice, our agreement that you do everything I say is even stronger. There are things you just don't know yet, dangerous things.\"","*page_break","*goto_scene camp1","","*label disagree2","\"What if I apologize?\" Tamara says, and she seems genuinely humble.","","*choice","\t#\"Not good enough.\"","\t\t*goto notgoodenough","\t#\"Let's hear it.\"","\t\t*goto letshearit","\t","*label notgoodenough","\"What if I apologize and say please?\" Tamara says, looking you straight in the eye.","*choice","\t#\"Not good enough.\"","\t\t*goto notgoodenough2","\t#\"Let's hear it.\"","\t\t*goto letshearit2","","*label notgoodenough2","\"What if I get on my knees, apologize, and say please?\" Tamara says, and it seems like she really means it.","*choice","\t#\"Still not good enough. It could all be faked.\"","\t\t*goto stillnotgoodenough","\t#\"You'd really get on your knees for this?\"","\t\t*goto really","\t","*label stillnotgoodenough","*achieve beg","Tamara shifts from the stone you're sitting on to the rocky ground beneath onto her knees, and she puts her hands supplicatingly on your thighs. ","","\"Do you know what it means to me to do this?\" she asks. \"Never in a thousand years did I think I'd kneel before any man. I beg you, sir, please consider my proposal. My plan is in ruins. Juliette will likely refuse me because I'm a thief, and because of it, I think I will die tomorrow. I need you. What more can I do to show you my sincerity? Perhaps...\"","","She glances at your belt buckle and then reaches forward tenderly to touch it with her fingertips, looking up at you, her eyes shining.","","Well, she certainly seems sincere!","*label begchoice","*choice","\t*disable_reuse #\"No good. This could all still be a ruse!\"","\t\t*goto ruse","\t#\"You've convinced me. You don't have to do anything more to prove it to me.\"","\t\t*goto noproof","\t#Undo your belt.","\t\t*goto belt","\t","*label ruse","Really? You'd turn down oral sex?","*choice","\t#Yup","\t\t*goto nooral","\t#On second thought...","\t\t*goto begchoice","\t","*label nooral","You are a man of iron will.","","Tamara rises silently to her feet and walks away. ","","\"To hell with you then,\" she says and resumes climbing the foothill with a conviction that makes you think she really intends to die tomorrow if she must.","*page_break","*set tamara_enemy true","*goto_scene camp1","","*label noproof","Tamara smiles and says, \"I didn't know you had such honor.\"","*gosub_scene adj_respect 30","*choice","\t#On second thought... ","\t\t*goto secondthought","\t#Be a gentleman... with blue balls.","\t\t*goto blueballs","\t","*label secondthought","You can't stand it. Now that Tamara's offered you oral sex, your hormones are raging. \"Tamara...\" you say sheepishly, \"I know what I just said, but now...\"","","\"I know, I know,\" Tamara says. \"You men are all alike. Take off your pants.\"","","\"Really?\"","","\"Yes, I want to,\" she says.","","You slip your pants down to your ankles, and the stone is cold on your naked buttocks.","","*label kneels","Tamara kneels between your legs. ","","\"This doesn't make me your girlfriend,\" she says, looking up at you. \"You're still my apprentice and have to do everything I say. Also, since we need to maintain a professional relationship, this is the LAST time anything like this will ever happen, so enjoy it.\" ","","Then her mouth is upon you, moving up and down your rock-hard shaft. She makes long strokes in a slow, languid rhythm for a long, long time, her hands resting gently on each of your thighs. Slowly the pleasure builds in you, reaches a plateau, and just can't quite cross it. She keeps you in this maddening place for almost too long, but then...","","*label deepthroat","*set deepthroat true","She slides her hands to your waist and pulls your hips toward her, pressing her face deep into your crotch. You feel your member push down and into her throat, and she holds it there a long time, her body making her try to swallow, causing her tongue and all the muscles to move in involuntary convusions. Her body stiffens as she strains to maintain this position as long as she can. Her fingernails dig into your flesh, but you hardly feel it for the incredible pleasure the convulsions of her throat are giving you. She pulls you into her even deeper, and you nearly explode but hold back. She starts rocking gently, her larynx moving over your glans again and again, your cock never leaving her throat. Her hands grasp wildly at you now as she reaches the limit of endurance, roving over both legs and back. ","","\"Nnnnggghhhh!\" she cries out, choking, but still she keeps you inside her.","","You explode at the same moment she can take no more, and as your seed shoots down her throat, her tongue thrashes wildly on your frenelum, taking you to even greater heights. Seed drips from her lips, and you continue to shoot it in her mouth as she moves her tongue up and down and all around your shaft.","*page_break","*achieve blow","Finally the spasms subside, but Tamara keeps her mouth glued to the side of your shaft, for there's still pleasure flowing in your body. Slowly, this subsides into a great relaxation, and Tamara's grip on your body relaxes too, her body sliding to the ground. She lays her head against your thigh and looks up at you for a tender moment. She kisses your inner thigh, licks your scrotum, and her tongue lingers upon it for a moment like she doesn't want the moment to end.","","At long last, she pulls away, smiles up at you, and rises to her feet. She wipes some seed from her lips and licks her hand clean.","","If there was any doubt of her sincerity before, it's all gone now.","","\"I'm sorry for how mean I've been to you,\" she says. \"I drive away the people I like, but that ends as of now. You're still my apprentice, though, and still have to do everything I ask. That hasn't changed.\"","*page_break","*goto_scene camp1","","*label blueballs","You stand as best you can, your member rock-hard in your pants and getting in the way. Tamara smiles mischievously as she urges you along, pushing on your shoulder, laughing as you can hardly walk.","","\"Come on, come on,\" she says and prances a little prance beside you to show you how easy it is.","","She puts an arm around your shoulder and walks with you to make sure you don't stop, so you have no choice but to lurch along beside her, each step stimulating you greatly, though not in a good way.","","The two of you walk a little ways like this before she shifts her arm from your shoulder to holding onto your belt to pull you along. You take a couple difficult steps. Her hand moves a little closer to your buckle as she continues to pull you along. You take a few more steps. She pushes her fingers a little way into your pants, but at the same time continues to pull you along. Your heart thrills at the thought that she might actually give you relief, and you hope it's not all just a big tease. She slips her thumb into your pants too, and pushes her hand down. You feel it slide next to your raging member, and you almost explode right then. She, however, just continues to pull you along.","","\"Undo your belt,\" she says nonchalantly, not even looking at you, still just gazing ahead in the direction she's pulling you. You feel her hand wrap around your member and have to clench your muscles hard to keep from exploding. ","","You do as you're told, undoing your belt without a word. She lets you stop walking now and turns toward you. With her one free hand, she pulls your body against hers into a tight embrace and looks firmly into your eyes. ","*page_break","\"I'm going to move down your body now,\" she says breathily, slowly, enunciating each word. \"Then...\" She pauses. \"Then I'm going to take you into my mouth.\" She pauses again, still looking deep into your eyes. You can hardly breathe for the anticipation. \"I'm going to swallow you...\"","","Still looking in your eyes, removing her hand from your pants, she slowly moves down your body just like she said she would until she's squatting before you, her knees spread wide. She pulls down your pants, and your member spills forth into the warm sunlight. ","","\"This doesn't make me your girlfriend,\" she says, looking up at you. \"You're still my apprentice and have to do everything I say. Also, since we need to maintain a professional relationship, this is the LAST time anything like this will ever happen, so enjoy it.\" ","","She'd spoken these words slowly, and she moved slowly after, her open mouth moving toward the head of your rock-hard member. Finally, it makes contact, sending a wave of warm bliss through your body. You relax and put a hand on the back of her head. She closes her eyes as she takes you in and out again and again, and as she does so, you feel her tongue roving about, up and down the full length of your shaft. ","","*goto deepthroat","","*label belt","You half-expect all this to be some sort of sick joke, but as you undo your belt, Tamara's already helping you pull down your pants.","","*goto kneels","","*label really","\"I will,\" Tamara says seriously.","","*goto stillnotgoodenough","","*label letshearit2","\"You drive a hard bargain,\" Tamara says, sighing. \"But I'll do it.\"","","She takes a deep breath and pauses a moment to swallow her pride. Then she looks up at you straight in the eyes and says, \"I've been mean to you all day long, and I'm sorry. I really am. Things are different now, and I promise not to treat you that way anymore. Is it a deal?\"","","A moment passes. ","","\"Please?\" she adds meaningfully, still looking you straight in the eye.","*goto letshearitchoice","","*label letshearit","Tamara sighs. \"Calling my bluff, I see,\" she says. \"But it's not a bluff at all. If an apology is what it takes, I'll give it to you.\" She takes a deep breath and pauses a moment to swallow her pride. Then she looks up at you straight in the eyes and says, \"I've been mean to you all day long, and I'm sorry. I really am. Things are different now, and I promise not to treat you that way anymore. Is it a deal?\"","*label letshearitchoice","*choice","\t#Tamara actually sounded sincere. \"Deal,\" you say.","\t\t*goto agree","\t#\"Still not good enough. It could all be faked.\" She certainly sounded sincere, but maybe they teach acting at the thieves guild?","\t\t*goto apolnotgoodenough","\t","*label apolnotgoodenough","\"What more do you need???\" Tamara cries. \"Can't you see how hard this is for me? That can't be faked! Well, what if I get down on my knees? Would you believe me then?\"","","*choice","\t#\"Still not good enough. It could all be faked.\"","\t\t*goto stillnotgoodenough","\t#\"You'd really get on your knees for this?\"","\t\t*goto really","\t","*label parleyafterduel","\"Do you want to know why I was crying?\" she asks, and you nod.","","*label parleyafterdragon","\"It was the old man,\" Tamara says, her voice catching, tears almost welling up again. \"I see now what he and Juliette have, and I won't stand idle and watch it die, not for all the treasure in the world. Until them, I didn't know a love like that could exist in this world.\"","","She gazes at the peak of DragonKeep in the distance a moment, then locks eyes with you. \"For that, I'm willing to risk my life and die if need be. I can't believe I'm saying that. All my life, it's been kill or be killed. Friends are just people who fight at your side until they no longer have use for you, and so that's why I made the deal with you that I did. We help each other until it's no longer convenient, and then we go our separate ways. Now... now it seems so pointless to live that way, and though I don't know if I'll ever find a love like they have, I will leave the door open to it no matter what. For this reason, I now offer you my full aid. We will aid Juliette in her quest, which is the same as yours, and I promise, if need be, I will die for either one of you. I will teach you all I know of dragonlore, and you will be my apprentice, bearing all the rights and responsibilities thereof. Do you agree?\"","*choice","\t#\"Juliette's quest is likely to slay the dragon, while I'm here just for the princess.\"","\t\t*goto questdiff","\t#\"Yes, I agree.\"","\t\t*goto agree","\t#\"No, I cannot agree. You just tried to kill me. I can't trust you.\"","\t\t*goto triedkill","\t","*label questdiff","\"No,\" Tamara says. \"It's the same. Elsbeth's a princess, so she'll be unskilled in wilderness travel. She'll be frightened, and the dragon will sense it and be able to track you by it. Your quest is doomed unless the beast is slain.\"","*choice","\t#\"But isn't it nearly impossible to slay this dragon?\"","\t\t*goto impossible","\t#\"Okay, then I agree.\"","\t\t*goto agree","\t#\"No, I cannot agree. You just tried to kill me. I can't trust you.\"","\t\t*goto triedkill","","*label impossible","Tamara laughs. \"Yes,\" she says. \"Like I've been saying all along, but who knows what the three of us together could accomplish? Though we will likely perish, it will be a death that means something.\"","*choice","\t#\"Okay, then I agree.\"","\t\t*goto agree","\t#\"No, I cannot agree. You just tried to kill me. I can't trust you.\"","\t\t*goto triedkill","\t","*label triedkill","\"I'm sorry about that,\" Tamara says. \"I lost my head, but can't you understand why? I would never have fought you except that you drew your weapon too. I know I've treated you poorly all day, and I'm willing to apologize for that too. Can we not put the past behind us?\"","*choice","\t#\"I suppose. Okay, I agree.\"","\t\t*goto agree","\t#\"No, I still don't trust you.\"","\t\t*goto notgoodenough","","*label dragontalk","*achieve duelsex","As much as you want to chase her down and rape her, you control yourself, get up and follow.","","Tamara's standing next to the part of the forest that's on fire.","","\"It looks like it'll go out,\" she says, and you wish the fire in your pants would go out too. \"And there goes the dragon.\" She points, and you see the drake small in the sky, returning to its roost on DragonKeep. \"It worked! I didn't think it would, but we did it. We survived!\"","","She turns to you, regards you for a moment, then says, \"You look like you need to walk it off. Come on.\"","","The two of you walk for awhile.","","\"Here's Juliette's tracks again,\" Tamara says, pointing at the ground. She studies them a moment and says, \"We ought to catch up with her tomorrow morning, right at her morning sex time. You need to save yourself for then anyway, so stop looking so glum. Really, it's for the best.\"","*page_break","The two of you walk a few hours more, and finally, the exertion of climbing the hill burns off your frustrated sexual energy. Tamara, wisely stayed behind you the whole time.","","\"Do you want to know why I was crying before?\" Tamara says, seeing that now you're once again able to think about something other than raping her.","","You nod, glad to have something to take your mind off things.","","*goto parleyafterdragon"]},"hill_duel":{"crc":-155483664,"labels":{"lethave":12,"finishing":24,"defend":25,"sorryam":35,"putswordaway":49,"stupidduel":51,"waitswordaway":61,"tellswordaway":67,"funny":81,"backuptaunt":93,"taunt":96,"moretaunt":107,"backroll":119,"backrollchoice":121,"waitmove":132,"circle":136,"coward":148,"stupidattack":158,"makemove":161,"weakcry":166,"cowardattack":174,"cryout":181,"dropsword":195,"takeadvantage":203,"muscle":215,"grabhers":223,"surrenderground":235,"reversal":247,"curpeace":261,"explain":271,"deadlyforce":279,"notdeadly":283,"neverkill":287,"whydraw":289,"whydraw2":292,"laughchoice":296,"funnyup":303,"chargedown":312,"swordplay":324,"letgofirst":329,"lashout":333,"unawares":338,"attackalready":343,"crazy":347,"charge":352,"flank":364,"midsection":372,"standground":380,"grabarm":392,"letgo":402,"peace":418,"talkback":428,"deadlyrain":432,"toying":440,"surrender":447,"askapol":453,"apollaugh":465,"dropswordchoice":475,"refusedrop":482,"droptalk":489,"askaway":497,"wheretrust":505,"trusther":512,"parley":515,"trust":519,"nomore":524,"holdon":528,"crush":538,"maneuver":549,"maneuverchoice":556,"pummel":569,"pummelchoice":576,"getoff":585,"keeppummel":589,"riseup":600,"handsaway":606,"bearhug":618,"hugchoice":624,"kiss":637,"kissarms":651,"freearms":658,"freearmschoice":660,"keepkissing":669,"getoffkiss":674,"nofreearms":685,"nowfreearm":693,"stillnoarm":697,"boner":701,"coming":711,"keephugging":726,"stab":739,"surrenderprone":749,"lyingskewer":765,"end5":769,"getup":778,"spare":783,"fighton":790,"slam":795,"aimbody":798,"vuleg":801,"fall":804,"leg":807,"skewer":810,"bodycheck":813,"downstroke":816,"dragonkiss":819,"dragonsex":826,"dragonwhy":835,"notit":892,"dragonsex2":921},"lines":["*temp gained_height_advantage false","*temp blinded false","*temp hug_time 0","*temp kissed false","*temp arm_trapped false","You know you're too slow to prevent this, so it's now or never.","*choice","\t#Charge her before she gets the high ground.","\t\t*goto charge","\t#Let her have the high ground. You can still take her.","\t\t*goto lethave","","*label lethave","Tamara races uphill, circles around you, and takes the high ground.","","\"You really want to do this?\" she barks.","*choice","\t#\"I'm just finishing what you started.\"","\t\t*goto finishing","\t#\"I only drew to defend myself.\"","\t\t*goto defend","\t#\"No, Tamara, this is crazy!\"","\t\t*goto crazy","","*label finishing","*label defend","\"Nobody laughs at me!\" Tamara cries. \"YOU started this.\"","*choice","\t#\"I'm sorry about that. I really am.\"","\t\t*goto sorryam","\t#\"But it was just too funny!\"","\t\t*goto funny","\t#\"You drew on me, so if you're going to attack, stop talking and just do it already.\"","\t\t*goto attackalready","","*label sorryam","\"Why did you do it then?\" Tamara demands.","","\"Well,\" you say, \"You've always presented such a strong image, so it was nice to see that you actually have a softer side. I didn't mean to laugh AT you, just that I was happy.\" It's not totally true, but it's partially true.","","Tamara seems to relax a little but is still on guard. \"I'll put my sword away if you do likewise,\" she says finally.","*choice","\t#Put your sword away.","\t\t*goto putswordaway","\t#Wait for her to put her sword away first.","\t\t*goto waitswordaway","\t#Tell her to put hers away first.","\t\t*goto tellswordaway","","*label putswordaway","As soon as you start to put your sword away, Tamara shealths hers as well. Then she laughs. ","*label stupidduel","\"This was the stupidest duel I have ever fought,\" she says. \"What are we? Little children? Come sit by me, and let's talk.\"","","*temp down \"\"","*if gained_height_advantage","\t*set down \"down\"","You climb ${down} the hill and sit next to her.","","*goto parley","","*label waitswordaway","She moves her sword toward her shealth, sees that you aren't moving yours, so she stops. You move yours a little closer to your shealth, so she moves hers a little closer. Inch by inch, the two of you gradually ease your swords back into their shealths, all the time eye-balling each other warily.","","Finally, the extreme silliness of it all becomes clear to both of you, and you laugh. ","*goto stupidduel","","*label tellswordaway","\"Nay,\" Tamara says. \"I would, but your request makes me suspect a trap.\"","","\"Then we are at an impasse,\" you say.","","\"Seems like,\" Tamara says, and the two of you continue to stare at each other, swords drawn.","","Tamara glares at you. You glare back. It turns into a staring contest. The minutes tick by, neither of you giving ground.","","Slowly, a grin begins to play at the corner of Tamara's lips, the utter stupidity of this battle of wills finally creeping into her consciousness. \"Okay,\" she says, half-grinning, \"I will move the tip of my sword one inch toward my scabbard. You do the same, and inch by inch, we will put our swords away.\"","","She moves her sword tip and inch. You move yours an inch. She moves hers another inch, and slowly but surely, you both find that your swords are easing back into their shealths, all the while, the two of you eye-balling each other warily. Finally, Tamara bursts out laughing.","*goto stupidduel","","*label funny","Good idea. You goad her, trying to make her angrier in order to make her more reckless. That was your intention, wasn't it? Not that you're just a big meanie?","","\"I'll show you what else is funny,\" Tamara says and begins advancing upon you. She's moving with measured steps on the steep incline and uneven ground.","*choice","\t#Stand your ground, ready to parry and counterattack.","\t\t*goto deadlyrain","\t#Back up, taunting her, hoping to make her charge.","\t\t*goto backuptaunt","\t#Charge uphill. It might catch her unawares.","\t\t*goto unawares","","*label backuptaunt","You take a step back, careful not to trip on the uneven terrain.","","*label taunt","\"I always knew you were a weak little person,\" you sneer. \"Your bawling just now only proves it.\"","","Tamara doesn't take the bait, makes no reply and merely continues her advance. Though her eyes are aglow with anger, you can see she's not stupid enough to let herself lose control, at least not yet.","*choice","\t#Keep backing up and try to think of another taunt.","\t\t*goto moretaunt","\t#Time to man up. Stand and ready yourself for her assault.","\t\tOnce within sword range, ","\t\t*goto deadlyrain","","*label moretaunt","You can't think of anything in the spur of the moment, take another step, and because you were distracted, miss seeing a tree root, partially obscured by leaves. You stumble, and though you catch your balance, Tamara seizes the tiny gap in your defense, charging in.","","While you could have turned her charge to your advantage when you had stable footing, now your options are more limited.","*choice","\t#Fall and then roll backwards. It will take you out of range.","\t\t*goto backroll","\t#Cry out, \"No, Tamara, wait!\"","\t\t*goto cryout","\t#Blindly lash out with your sword.","\t\t*goto lashout","","*label backroll","Your roll takes you well out of the danger zone, and Tamara checks her advance, leaving a safe gap between you. The two of you stand facing each other, swords ready.","*label backrollchoice","*choice","\t#Try to make peace with her.","\t\t*goto peace","\t#Charge uphill.","\t\t*goto unawares","\t*disable_reuse #Wait for her to make a move.","\t\t*goto waitmove","\t#Try and circle around her to get the high ground.","\t\t*goto circle","","*label waitmove","Tamara remains motionless, knowing this duel is stupid but too angry to make the first move toward contrition. She's waiting for you to make the first move, either in aggression or reconciliation.","*goto backrollchoice","","*label circle","Two can play the strategy game. You begin to circle her the same way she circled you to get the advantage, but Tamara moves to prevent you. With her greater agility, she manages to keep pace with you, and the two of you wind up maneuvering in a horizontal line across the hillside with you remaining just out of sword range downhill from her.","","\"I can do this all day,\" Tamara says. \"Make your move.\"","*choice","\t#\"Fight fair, you coward!\"","\t\t*goto coward","\t#Make your move, charging uphill at her.","\t\t*goto makemove","\t#Try to make peace with her.","\t\t*goto peace","","*label coward","\"Proper strategy is not cowardice,\" Tamara says, not taking the bait, still matching you step for step. \"But confusing the two is stupidity.\"","*choice","\t#She's called you stupid for the last time. Attack!","\t\t*goto stupidattack","\t#\"Be that as it may, I'm not the weak little person caught crying in the woods.\"","\t\t*goto weakcry","\t#Try to make peace with her.","\t\t*goto peace","","*label stupidattack","Stupid is as stupid does.","","*label makemove","You charge up the hill and engage Tamara in a sword-to-sword duel.","","*goto deadlyrain","","*label weakcry","\"You'll pay for that,\" Tamara says, \"Just as soon as you have the balls to engage me. Who's the coward now?\"","*choice","\t#Show her you're no coward. Attack!","\t\t*goto cowardattack","\t#Try to make peace with her.","\t\t*goto peace","","*label cowardattack","Well, you're definitely not a coward...","","You advance up the hill and engage Tamara in a sword-to-sword duel.","","*goto deadlyrain","","*label cryout","You cringe defensively, holding your sword over your head in a desperate bid to block a coming strike you're not truly ready for. ","","Tamara, however, listens to your plea, and checks the downward movement of her sword, instead plowing her body into yours. Despite her smaller stature, because of your poor position, this bowls you over, and the two of you roll down the hill in a tight clinch.","","\"Don't make me regret showing you this mercy,\" Tamara hisses. \"Drop your sword now, or I will kill you!\"","*choice","\t#Drop your sword.","\t\t*goto dropsword","\t#Take advantage of her mercy. You may be on the bottom now, but with your superior size and strength, you ought to be able to win a wrestling match.","\t\t*goto takeadvantage","\t#Tell her to let go of you first.","\t\t*goto letgofirst","","*label dropsword","*set tamara_respect %+10","You honorably let go of your sword, though you suspect you could've eventually overpowered Tamara in a ground duel. Tamara holds her sword to your throat. \"Do you surrender?\" she asks, and you nod.","","She gets off you and moves to a sitting position up the slope from you, but in her haste, distracted by her anger, she leaves your sword next to you. You're able to pick it up again.","","*goto askapol","","*label takeadvantage","*set pommelpummeled true","*set tamara_respect %-40","Tamara wraps her legs around you and holds your sword arm's wrist with one hand while she tries to pummel you with the butt of her sword's handle with the other.","*choice","\t#Muscle your sword arm free.","\t\t*goto muscle","\t#Grab the wrist of her swordarm.","\t\t*goto grabhers","\t#Try to throw her off you or get on top of her.","\t\t*goto reversal","","*label muscle","While trying to muscle your sword arm free, you can only block some of her blows. One smashes into your face, stunning you, and this gives Tamara the chance she needs. She lands several more vicious blows, and you lose consciousness. ","","You awaken later still lying in the same place where you were, but your sword is staked into the earth between your legs. Tamara is nowhere to be seen.","*set duel_outcome \"knockedout\"","*set tamara_enemy true","*return","","*label grabhers","Tamara manages to avoid your grasp, and because your hand is extended, she's able to cut your fingers with the blade. It's just a surface wound, but your hand is less functional now. Tamara is then able to put the blade of her sword against your throat.","","\"Surrender or die, cur!\" she sneers.","*choice","\t#Surrender.","\t\t*goto surrenderground","\t#Die.","\t\t\"Die!\" you say, and Tamara doesn't hesitate to rake her blade across your throat.","\t\t","\t\t*goto end5","","*label surrenderground","*set tamara_enemy true","\"Surrender,\" you say and raise your hands in submission.","","Tamara pushes your sword out of your grasp and carefully gets off you, only removing the blade of her sword from your throat when she's well out of range of a grab.","","\"You took advantage of my mercy,\" she says. \"We are no longer friends, and if I see you again, I will kill you.\"","","She turns around and walks away.","","*return","","*label reversal","*set gained_height_advantage true","*achieve height","By pushing with your feet and arching your back, you're able to off-balance Tamara enough to reduce her attacks, but she still has a hold of your wrist. She manages to get one hit in, which stuns you, but you're able to turn over and get on top of her. She still has her legs wrapped around you, restricting your movement, but because your arms are stronger, you're able to trap her arms beneath your weight. Before you can turn this to your advantage, however, Tamara thrusts with both her legs against your hips, freeing herself. She scrambles out from under you, and you're both on your feet again, except this time you have the hill advantage.","","Tamara stands below you, breathing heavily, sword in her hand by her side.","*choice","\t#Charge downhill. ","\t\t*goto chargedown","\t#Engage in swordplay while trying to prevent her from circling around to higher ground.","\t\t*goto swordplay","\t#Try to make peace.","\t\t*goto curpeace","","*label curpeace","\"You want to make peace now?\" Tamara cries, aghast. \"You just took advantage of my mercy. I should kill you. Kill you!\"","","She speaks aggressively, but she doesn't move, still remains standing downhill from you.","*choice","\t#Explain that you were just scared and were acting on instinct. You didn't mean to take advantage.","\t\t*goto explain","\t#\"You were so angry that I thought you might kill me. I couldn't drop my sword just then, but I didn't mean to take advantage.\"","\t\t*goto neverkill","","*label explain","\"I guess that makes sense,\" Tamara says, \"But supposing you got the upperhand, would you have killed me? You turned this silly fight into mortal combat when you took the first swing.\"","*choice","\t#\"If you kept fighting back with deadly force then yes. Otherwise, no.\"","\t\t*goto deadlyforce","\t#\"No, of course not.\"","\t\t*goto notdeadly","\t","*label deadlyforce","\"I can accept that,\" Tamara says, \"But why did you laugh at me in the first place?\"","*goto laughchoice","","*label notdeadly","\"I hope you know I wouldn't have killed you either, even after your great insult. I didn't mean to fight you when I drew my sword. ","*goto whydraw","","*label neverkill","\"I would never kill you,\" Tamara says. \"I didn't even want to fight you. ","*label whydraw","Why did you draw your sword when I drew mine? I wasn't close enough to be a threat.\"","","*label whydraw2","\"Why did you draw yours???\" you cry.","","\"Look,\" Tamara says. \"I was angry. It was a meaningless gesture. Why did you laugh at me?\"","*label laughchoice","*choice","\t#\"I'm sorry about that. I really am.\"","\t\t*goto sorryam","\t#\"Because it was just too funny!\"","\t\t*goto funnyup","\t","*label funnyup","*set gained_height_advantage false","\"I'll show you what else is funny,\" Tamara says and begins advancing, angling to the right again to regain the hill advantage. \"I just said I wouldn't kill you. I lied.\"","*choice","\t#Charge downhill. ","\t\t*goto chargedown","\t#Engage in swordplay while trying to prevent her from circling around to higher ground.","\t\t*goto swordplay","","*label chargedown","You barrel down the hill, knowing that unless you act now, she'll likely be able to circle around to higher ground again. You get one attack before losing the height advantage, and just like at the very beginning of the battle, Tamara begins running to the side to circle around.","*choice","\t#Attack her flank. It won't be a strong blow, but it has the best chance of hitting. ","\t\t*goto flank","\t#Skewer her as you barrel down on her from above.","\t\t*goto skewer","\t#Slam your body into her.","\t\t*goto bodycheck","\t#Attack straight on with a powerful downward stroke, maximizing your height advantage.","\t\t*goto downstroke","","*label swordplay","It doesn't work. She's just too nimble, and Tamara manages to gain the higher ground again.","","*goto deadlyrain","","*label letgofirst","Tamara sees that you're not fighting back, so slowly she eases her body off yours, all the while keeping her sword between you, blocking both a grab attempt or strike. Once out of range, she says, \"Okay, now drop your sword.\"","*goto dropswordchoice","","*label lashout","Against a lesser opponent, a blind attack like that might've worked, but Tamara parries it easily. You regain your footing eventually but can never recover.","","*goto deadlyrain","","*label unawares","Just before Tamara enters sword range, you charge. The slope slows you, but you still cross the distance quickly and slash at her legs. Tamara quickly ceases her advance and parries. ","","*goto deadlyrain","","*label attackalready","\"I never meant to actually fight you,\" Tamara says. \"I drew my sword in anger, and it was a meaningless gesture. Why did you laugh at me?\"","*goto laughchoice","","*label crazy","\"Why did you draw your sword then?\" Tamara asks.","","*goto whydraw2","","*label charge","By running at an angle along the slope, you're able to reach Tamara with a slight height advantage, but after this attack, you will lose it. Tamara, running perpendicular to your charge, is forced to leave her right flank slightly vulnerable. She was smart enough to have run to her left, so now, her sword, being in her right hand, is on the side of her body that's facing you. She's holding it in a position where you don't yet know what she plans to do with it.","*choice","\t#Attack her flank. It won't be a strong blow, but it has the best chance of hitting. ","\t\t*goto flank","\t#Skewer her as you barrel down on her from above.","\t\t*goto skewer","\t#Slam your body into her.","\t\t*goto bodycheck","\t#Attack straight on with a powerful downward stroke, maximizing your height advantage.","\t\t*goto downstroke","","*label flank","Just as you enter sword range with her, you quickly change direction to slip behind her. This gives away the high ground, but for a brief moment, you can attack from the rear. Already Tamara is beginning to spin to turn and face you.","*choice","\t#Attack her mid-section.","\t\t*goto midsection","\t#Attack her leg.","\t\t*goto leg","","*label midsection","Tamara ducks lower than you though she could by lunging into a very deep stance and putting her left hand on the ground. She swings at you with her other hand.","*choice","\t#Stand your ground and try to block it.","\t\t*goto standground","\t#Let gravity help move you back. You'll fall, but you'll be safe.","\t\t*goto fall","","*label standground","Tamara's stroke is too low, and you are too close to properly defend. Her sword bashes into your shin, but it wasn't a strong stroke, mostly a defensive one. The cut hardly phases you.","*choice","\t#Grab her sword arm while it's still extended.","\t\t*goto grabarm","\t#Move forward and slam her into the ground while she's in such a low, immobile stance.","\t\t*goto slam","\t#Aim a finishing blow to her body.","\t\t*goto aimbody","\t#Hit her vulnerably extended leg.","\t\t*goto vuleg","","*label grabarm","You check her extended sword hand with your sword hand and manage to grab her wrist with your left.","","\"Damn you!\" Tamara cries, turns onto her back, and kicks out with both her legs into your mid-section.","*choice","\t#Let go. You'll fall downhill, but you'll be safe.","\t\t*goto letgo","\t#Hold on. Her kicks won't hurt much. You might be vulnerable briefly, but after that, your sword arm will be free while hers isn't.","\t\t*goto holdon","","*label letgo","Because you let go, Tamara's kicks do no damage, merely propelling you down the hill. You fall but manage to tuck and do a backward roll, returning to your feet. ","","Tamara also regains her feet, and the two of you stand facing each other, swords ready.","*choice","\t#Try to make peace with her.","\t\t*goto peace","\t#Charge uphill.","\t\t*goto chargeuphill","\t#Taunt her.","\t\t*goto taunt","\t#Wait for her to make a move.","\t\t*goto waitmove","\t#Try and circle around her to get the high ground.","\t\t*goto circle","","*label peace","\"Why are we doing this, Tamara?\" you say, trying to make peace. \"Let's stop this foolishness.\"","","\"You're only saying that because I'm at the advantage,\" she retorts and raises her sword to one side. \"En garde!\"","*choice","\t#\"I will still beat you even downhill!\"","\t\t*goto talkback","\t#\"No, Tamara. I don't want to fight anymore.\"","\t\t*goto nomore","","*label talkback","\"You can try,\" Tamara says and begins advancing down upon you.","","Even enraged, ","*label deadlyrain","Tamara fights with discipline, raining blows upon you with deadly precision, never over-extending herself. You do your best to block but can mount only a feeble counterattack. Perhaps on level ground, the two of you would be evenly matched, but here, Tamara presses her advantage for all its worth. In a little while, you begin to tire, and she manages a solid blow to your forearm, making you nearly drop your sword. Blood gushes from the nasty gouge, and after the searing pain, your arm goes numb. You could fight on, but you doubt you'd win. Tamara backs off slightly, her attacks coming a bit less furiously, enabling you to still block.","*choice","\t#\"Stop toying with me, Wench. Let's finish this!\"","\t\t*goto toying","\t#Surrender.","\t\t*goto surrender","","*label toying","With a bone-chilling glare, Tamara raises her sword. You lift yours to block, too weak to attack. Tamara swings in a cunning arc, bypassing your sword and slamming hers into your neck and shoulder. ","","It's a mortal wound, and you fall, finally defeated.","","*goto end5","","*label surrender","\"Tamara, enough,\" you say and lower your sword.","","Tamara, who had just been raising hers to attack again, checks her movement and quickly steps out of range. \"You surrender?\" she asks.","*fake_choice","\t#Yes.","*label askapol","She studies you a moment, deciding how angry she still is. \"Do you apologize for laughing at me?\"","*choice","\t#Yes.","\t\t*goto apollaugh","\t#\"I apologize to no one. Do what you will.\"","\t\t*set tamara_enemy true","\t\t\"I should kill you right here,\" Tamara hisses coldly. \"If I ever see you again, I will.\"","\t\t","\t\tShe turns around and walks away.","\t\t*return","","*label apollaugh","Tamara exhales with relief. \"Okay,\" she says. \"I'm still angry, but okay.\"","","She looks down at you for a moment, and you look up at her, both wondering what comes next.","","\"And to think I was about to offer to make you my apprentice, to teach you dragonlore,\" she says ruefully. \"Why did you have to do that?\"","","She sits down on the side of the hill.","","\"Drop your sword downhill and come talk to me,\" she says.","*label dropswordchoice","*choice","\t#\"I drop my sword for no one. We can speak like this.\"","\t\t*goto refusedrop","\t#Do as she says.","\t\t*goto droptalk","","*label refusedrop","*set tamara_enemy true","\"I could have just killed you!\" Tamara says. \"I could still kill you, and you have the nerve to talk back to me? I have nothing more to say to you.\"","","Tamara gets up and walks away.","*return","","*label droptalk","You put your sword on the ground and climb up to where Tamara's sitting. You notice she's still holding her sword and could easily swipe your head off.","*choice","\t#Ask her to put her sword away.","\t\t*goto askaway","\t#Keep going. If she was going to kill you, she'd have done it already.","\t\t*goto trust","","*label askaway","\"No,\" Tamara says. \"There's implicit trust between us, isn't there, since we shook hands this morning?\"","*choice","\t#\"Then where's your trust, making me drop my sword?\"","\t\t*goto wheretrust","\t#Trust her.","\t\t*goto trusther","","*label wheretrust","\"I'm following the rules of honorable combat,\" Tamara says. \"The loser leaves his weapon to parley.\"","","You've never heard of such rules, but you suppose it makes sense. You continue climbing up to where Tamara's sitting, enter sword range, and sit downhill from her a few feet away.","","*goto parley","","*label trusther","You hesitate only a moment before entering sword range and sitting downhill from her a few feet away.","","*label parley","*set hill_duel_outcome \"parley\"","*return","","*label trust","You knowingly take your life into your own hands as you step into sword range, but Tamara doesn't attack, just keeps holding her sword, resting it against her shoulder. You sit downhill a few feet away.","","*goto parley","","*label nomore","\"Why did you laugh at me?\" Tamara asks, face red with rage.","*goto laughchoice","","*label holdon","One of Tamara's feet slams into your stomach, and the other goes straight for your balls. You bend at the waist to absorb as much of the force as you can, but both blows still hurt. You're able to maintain your grip on her wrist.","","Tamara pulls herself forward, curling into a ball beneath you, making you too close to swing on her, though you could still draw back and stab. Closer now, she's able to begin to wrench her sword arm free, but for the time being, the advantage is still yours.","*choice","\t#Fall upon her.","\t\t*goto crush","\t#Stab.","\t\t*goto stab","","*label crush","*set arm_trapped true","You trap Tamara's sword arm between your two bodies while yours is still free. Tamara's legs are wrapped around you, preventing you from drawing back to stab, but you could still try to place the blade against her throat.","*choice","\t#Maneuver to place your blade against her throat.","\t\t*goto maneuver","\t#Pummel her with the butt of your sword's handle.","\t\t*goto pummel","\t#Bearhug her.","\t\t*goto bearhug","\t","*label maneuver","*if arm_trapped","\t*set arm_trapped false","\tTamara sees she's at a disadvantage, so she places both feet against your hips and kicks strongly. This pushes you off her body freeing her sword arm, and you find yourself lying on your stomach downhill between her spread legs.","\t*goto maneuverchoice","*else","\tTamara sees she's at a disadvantage, so she places both feet against your hips and kicks strongly. This pushes you off her body, and you find yourself lying on your stomach downhill between her spread legs.","*label maneuverchoice","*choice","\t*disable_reuse #Enjoy the view.","\t\tThat goes without saying. Now try something else.","\t\t*goto maneuverchoice","\t*disable_reuse #Perform cunnilingus.","\t\tBetter not. She's about to clobber you. Still... it's very tempting...","\t\t*goto maneuverchoice","\t#Poke her with your sword. It won't be a strong attack, but it's something.","\t\t*goto poke","\t#Crawl back and away, sword ready.","\t\t*goto distance","\t","*label pummel","*if arm_trapped","\t*set arm_trapped false","\tYou rise up slightly in order to raise your sword arm, and this frees Tamara's arm. She lets go of her sword in order to push up on your chin, twisting your head upward and to one side, making it impossible to strike down with anything close to full force. You do get a few hits in, but instead of knocking her out, they only seem to enrage her further. You feel the fingers of her other hand snaking toward your eyes to poke at them.","\t*goto pummelchoice","*else","\tAs you rise up to raise your sword arm, Tamara pushes up on your chin, twisting your head upward and to one side, making it impossible to strike down with anything close to full force. You do get a few hits in, but instead of knocking her out, they only seem to enrage her further. You feel the fingers of her other hand snaking toward your eyes to poke at them.","*label pummelchoice","*choice","\t#Try to get off and away from her.","\t\t*goto getoff","\t#Keep pummeling.","\t\t*goto keeppummel","\t#Fight to get her hands away from your face.","\t\t*goto handsaway","\t","*label getoff","You try to rise, but it's difficult because Tamara's holding you with her legs. You manage to get to your feet, but just as you do, Tamara grabs you behind the heel and pulls, causing you to tumble backwards downhill. Tamara lets go with her legs, picks up her sword, and stands. She lets you get to your feet, as she's now well out of sword range, uphill from you.","*goto backrollchoice","","*label keeppummel","*set blinded true","Tamara starts poking you in the eyes but seems to be holding back. Probably she could permanently blind you if she wanted, but even so, it hurts. Your eyes water, and temporarily, you can no longer see. You continue to try and hit her head with the hilt of your sword, but not being able to see, you fail to penetrate her defense.","*choice","\t#Rise up and strike down hard with the hilt of your sword.","\t\t*goto riseup","\t#Try to get off and away from her.","\t\t*goto getoff","\t#Fight to get her hands away from your face.","\t\t*goto handsaway","\t","*label riseup","You rise up, and in so doing, free yourself from Tamara's hands on your face. You intend to strike down hard, crush any defense she can mount, and slam your hilt into her face, but before you can, the heel of her right foot slams into your chin. It doesn't knock you out, but you are stunned, enabling Tamara to scramble free.","","She stands uphill, her figure blurry through your watery eyes at first, but she waits until you can see again.","*goto backrollchoice","","*label handsaway","You get Tamara's hand off your chin and can now avoid further eye-gouges, allowing you to regain your vision. However, Tamara begins to rabbit punch you on the back of the head and hit your kidneys with her heels. Neither hurt you very much, but you better do something before the damage starts to add up.","*choice","\t#Maneuver to place your blade against her throat.","\t\t*goto maneuver","\t#Bearhug her.","\t\t*goto bearhug","\t#Rise up and strike down hard with the hilt of your sword.","\t\t*goto riseup","\t#Try to get off and away from her.","\t\t*goto getoff","","*label bearhug","*if arm_trapped","\tYour bearhug keeps Tamara's sword arm trapped, and her left arm, though still free, is ineffectual. She tries to rabbit punch you on the back of the head, but they're not strong blows. She also hits your kidneys with her heels, but this doesn't bother you much.","\t*goto hugchoice","*else","\tYou wrap your arms around Tamara, pulling her close, but she begins to rabbit punch you on the back of the head and hit your kidneys with her heels. Neither hurt you very much, but over time the damage will start to add up.","*label hugchoice","*choice","\t#Maneuver to place your blade against her throat.","\t\t*goto maneuver","\t#Pummel her with the butt of your sword's handle.","\t\t*goto pummel","\t#Kiss her.","\t\t*goto kiss","\t#Grow a boner.","\t\t*goto boner","\t#Just keep hugging her.","\t\t*goto keephugging","","*label kiss","*if hug_time > 1","\t*set kissed true","\tTamara fights against your kiss at first, but you keep your lips pressed against hers. She turns her head from side to side to try and get away, but she can't. Then you feel her melt beneath you, her lips purse, and she returns your kiss.","\t","\t\"Let my arms free,\" she says.","\t*goto kissarms","*else","\tTamara thrashes her head violently from side to side to escape your lips. \"How dare you!\" she cries. ","\t","\tHer fist bashes into the side of your head, and though she's unable to put her weight behind it, it does jar you a bit. You grip on her eases just enough for her to free her sword arm, but she has to let go of her sword to do so. She presses up on your chin, wrenching you head up and to one side, and with the fingers of her other hand, she goes for your eyes.","\t","\t*goto keeppummel","","*label kissarms","*choice","\t#Let her arms free.","\t\t*goto freearms","\t#Not just yet.","\t\t*goto nofreearms","\t","*label freearms","Tamara lets her sword fall by her side as her arms circle around you in an embrace.","*label freearmschoice","*choice","\t#Grow a boner.","\t\t*goto boner","\t#Keep kissing her.","\t\t*goto keepkissing","\t#Get off her.","\t\t*goto getoffkiss","\t","*label keepkissing","The two of you kiss for a long time.","","*goto dragonkiss","","*label getoffkiss","You lift your body from Tamara's, and she releases the hold she has on you with her legs. She sits up and draws her knees to her chest, looking at you.","*fake_choice","\t#Apologize for laughing at her. ","\t\t\"I don't care about that anymore,\" Tamara says. ","\t#Ask why she was crying.","\t\t\"Don't you know?\" Tamara says.","\t#Ask if she wants to fight some more.","\t\t\"No,\" Tamara says. \"But if you want, you can stab me with your 'sword' again and again in a special place.\"","*goto dragon_kiss","\t\t","*label nofreearms","Tamara lets go of her sword and pushes to try and free her arm, but you don't let her.","*choice","\t#Let her now.","\t\t*goto nowfreearm","\t#Still don't let her.","\t\t*goto stillnoarm","\t","*label nowfreearm","Tamara's arm snakes around your neck, and she runs her fingers through your hair as she kisses you.","*goto freearmschoice","","*label stillnoarm","Tamara relaxes her struggle and lets you keep her arm where you want it while the two of you continue to kiss.","*goto freearmschoice","","*label boner","*if (hug_time > 1) and (kissed)","\t*goto coming","*else","\t\"Eww!!!\" Tamara screams, feeling your sex pressing against hers.","\t","\tHer fist bashes into the side of your head, and though she's unable to put her weight behind it, it does jar you a bit. You grip on her eases just enough for her to free her sword arm, but she has to let go of her sword to do so. She presses up on your chin, wrenching you head up and to one side, and with the fingers of her other hand, she goes for your eyes.","\t","\t*goto keeppummel","\t","*label coming","\"I feel something growing between us,\" Tamara whispers, eyes closed, but a little sly grin on one side of her mouth.","","\"Is it love?\" you ask, grinning.","","\"I think it's a little more cylindrical,\" Tamara laughs.","","You push your hips forward rhythmically a few times and feel yourself grow even more.","","\"Don't stop,\" Tamara says, putting a hand on your tailbone and pulling toward herself.","","\"Yesssss....\" she breathes, feeling you push your now fully hard member against her sex. Her legs entwine with yours, and she stretches her body.","","*goto dragonsex","","*label keephugging","*if hug_time = 0","\tTamara keeps up the rabbit punches and kidney kicks, and though they don't hurt too much at first, powered by her fury, it starts to add up. ","\t*set hug_time +1","\t*goto hugchoice","*elseif hug_time = 1","\tYou're only a little light-headed, and yeah, you might pee red tomorrow. Tamara seems to tire, or maybe it's just that her rage is calming. Slightly. She keeps up the attacks with as much viciousness as she can muster.","\t*set hug_time +1","\t*goto hugchoice","*elseif hug_time = 2","\tYou struggle to minimize Tamara's little bee-sting-like blows, and your vise-like grip on her wavers only for a moment. However, that's all Tamara needs to free one arm and go for your eyes with her fingers. ","\t*goto keeppummel","","*label stab","You move your sword into position to stab, but just before you can, Tamara swipes the heel of your right foot out from under you with her still free, left hand. As you tumble down the hill, she manages to wrench her sword arm free from your grasp and stand.","","Prone and downhill, with Tamara advancing upon you, do you continue the fight?","*choice","\t#Surrender.","\t\t*goto surrenderprone","\t#Fight on.","\t\t*goto fighton","","*label surrenderprone","\"Stop! Tamara, stop!\" you cry. \"What are we doing?\"","","Tamara stops just out of range of your weapon.","","\"Nobody laughs at me!\" she cries.","","She leaps into the air and raises her sword above her head.","*choice","\t#Skewer her as she comes down.","\t\t*goto lyingskewer","\t#Block her blow and try to get to your feet.","\t\t*goto getup","\t#Do nothing and hope she decides to spare your life.","\t\t*goto spare","","*label lyingskewer","*achieve ending5","Tamara kicks out with one of her feet and dashes your sword out of the way, but it still rakes against her leg, opening a nasty-looking gash. Her blow, however, comes full force and cracks your skull wide-open, powered by her descent and her rage in equal measure.","","*label end5","Thus ends your quest, a meaningless duel because you mocked a woman in her moment of vulnerability. Perhaps someone knows the fate that befell Princess Elsbeth and Juliette the knight, but it's not you. At least not in this life.","","You have reached Ending #5 of 5: Meaningless duel.","","THE END","*page_break","*ending","","*label getup","Tamara's blow, powered by the downward force of gravity, is extra strong, but you still manage to block it. Uphill, with the advantage already, she allows you to get to your feet before continuing the duel.","","*goto deadlyrain","","*label spare","You know you're at an extreme disadvantage, so all that's left is to beg for mercy. You drop your sword and raise your hands in surrender.","","Tamara checks her downward stroke at the last minute and lands on top of you, knocking the wind from your lungs. She puts her sword to your throat and sneers, \"I should kill you right here!\" She glares at you and fights the urge to kill you for a long moment before she finally calms. She gets off you, climbs the hill a ways and sits down.","","*goto askapol","","*label fighton","You're only half on your feet when Tamara reaches you and never lets you regain your balance.","","*goto deadlyrain","","*label slam","With your wounded leg, you're not quite fast enough. You do manage to get on top of Tamara and make her fall, but she kicks free, pulls herself up the hill, and stands once again.","","*label aimbody","[This option is yet to be written.]","","*label vuleg","[This option is yet to be written.]","","*label fall","[This option is yet to be written.]","","*label leg","[This option is yet to be written.]","","*label skewer","[This option is yet to be written.]","","*label bodycheck","[This option is yet to be written.]","","*label downstroke","[This option is yet to be written.]","","*label dragonkiss","A shadow passes overhead, momentarily darkening everything around you.","","\"By the gods!\" Tamara cries in a panicked whisper. \"You made me angry enough that the dragon has found us. Quick, take off your pants!\"","","*goto dragonwhy","","*label dragonsex","A shadow passes overhead, momentarily darkening everything around you.","","\"By the gods!\" Tamara cries in a panicked whisper. \"You made me angry enough that the dragon has found us.\"","","She quickly undoes her belt and pulls her breeches down to her ankles.","","\"Fuck me,\" she whispers urgently. \"Now!\"","","*label dragonwhy","\"Why?\" you whisper back confusedly.","","\"We can hide from the dragon if we feel only positive emotions!\" Tamara says, speaking quickly. \"It obviously hasn't pinpointed our location because if it did, we'd be roasted by now. It's sensing our fear. Banish it from your mind by fucking me. Hurry!\"","","You rip off your pants but find your manhood unfortunately shrunken and unable to perform.","","\"Laugh!\" Tamara commands. \"Laugh at the irony of this situation. Remember, positive emotions only. Me, I like sucking dicks back to life. Not really, but today, yes. This is a happy day!\"","","She literally flies at your crotch and takes your flaccid little member into her mouth. You feel it flopping all around inside her as her tongue goes to work on it, and it just doesn't return to life.","","\"That's it. We're dead,\" you say apologetically.","","Tamara looks up at you, your cock falling from her mouth. She inhales deeply, closes her eyes, and a profound relaxation moves over her body. She opens her eyes, and looking right into yours says, \"I'm going to lick your cock like the inside of a ripe mango.\" (Ten points if you know where that's from.)","*choice","\t#Go for the ten points.","\t\tIn what movie is the line, \"I'm going to lick your cock like the inside of a ripe mango?\"","\t\t*choice","\t\t\t#The Devil in Ms. Jones","\t\t\t\t\"That's not iiiiiit!\" (Ten points if you know where that's from.)","\t\t\t\t*choice","\t\t\t\t\t#Go for the ten points","\t\t\t\t\t\t*goto notit","\t\t\t\t\t#Just get me back to the sex scene already.","\t\t\t\t\t\t*goto dragonsex2","\t\t\t#Talk Dirty to Me","\t\t\t\t\"That's not iiiiiit!\" (Ten points if you know where that's from.)","\t\t\t\t*choice","\t\t\t\t\t#Go for the ten points","\t\t\t\t\t\t*goto notit","\t\t\t\t\t#Just get me back to the sex scene already.","\t\t\t\t\t\t*goto dragonsex2","\t\t\t#The Opening of Misty Beethoven","\t\t\t\tYou must be a true connoisseur of vintage pornography!","\t\t\t\t","\t\t\t\t*achieve mango","\t\t\t\t*goto dragonsex2","\t\t\t#Ten Thousand Illustrious Fruitcakes","\t\t\t\tHuh? There was never a porno named that, was there???","\t\t\t\t","\t\t\t\t*goto dragonsex2","\t\t\t#Behind the Green Door","\t\t\t\t\"That's not iiiiiit!\" (Ten points if you know where that's from.)","\t\t\t\t*choice","\t\t\t\t\t#Go for the ten points","\t\t\t\t\t\t*goto notit","\t\t\t\t\t#Just get me back to the sex scene already.","\t\t\t\t\t\t*goto dragonsex2","\t\t\t#Caligula","\t\t\t\t\"That's not iiiiiit!\" (Ten points if you know where that's from.)","\t\t\t\t*choice","\t\t\t\t\t#Go for the ten points","\t\t\t\t\t\t*goto notit","\t\t\t\t\t#Just get me back to the sex scene already.","\t\t\t\t\t\t*goto dragonsex2","\t#Go back to the sex scene.","\t\t*goto dragonsex2","*label notit","What comedian said, \"That's not iiiiiit?\"","*choice","\t#Bill Cosby","\t\tSorry, no.","\t\t","\t\t*goto dragonsex2","\t#Eddie Murphy","\t\tBingo! Yes.","\t\t","\t\t*achieve eddiemurphy","\t\t*goto dragonsex2","\t#Ellen Degeneres","\t\tSorry, no.","\t\t","\t\t*goto dragonsex2","\t#Brittany Murphy","\t\tShe did comedy?","\t\t","\t\t*goto dragonsex2","\t#Bing Crosby","\t\tSorry, he was a singer, not a comedian.","\t\t","\t\t*goto dragonsex2","\t#Tamara the Generous","\t\tRight now she is. Very... but let's hope she doesn't say that.","\t\t","\t\t*goto dragonsex2","\t\t\t","*label dragonsex2","Slowly, without a care in the world, Tamara begins to run her tongue up and down your flaccid member, and she's so carefree that you relax too and get into it, forgetting for a moment there's a giant, fire-breathing lizard roaming the skies right above you. Your member grows again as long as you focus on Tamara, not the dragon.","","When you're marginally hard again, Tamara pushes you down and climbs on top of you, pushing you inside of her even though she's not very wet. You feel your member pushing into her dry hole, and then she begins to bounce up and down furiously.","","\"Look at this!\" she says and rips open her vest, her two breasts spilling forth and starting to bounce. It works. You aren't thinking about the dragon...","","That is, until it makes another pass.","*page_break","\"Oh, hmmm... must be a big bird going by,\" Tamara says. \"That's not scary or anything. You feel so good inside me. It's good. No negative emotions I'm feeling at all!\"","","Soon, Tamara's inner walls wetten, and you're sliding in and out of her easily, as she continues to bounce up and down on you. Her breathing quickens as the pleasure fills her body, and she closes her eyes, concentrating only on that.","","You hear a roaring sound coming from somewhere above, and the trees in a nearby part of the forest burst into flame.","","\"Ignore that,\" Tamara says, her voice strained from the sensations coursing in her body. A wave of heat reaches you, and Tamara says, \"That's just the heat of our lust, nothing to worry about.\"","*page_break","She starts to move faster and faster. \"Cover my mouth!\" she cries. ","","You quickly cover her mouth with one hand, and hold the back of her head with the other as she explodes into a violent orgasm that rocks her whole body. You feel her thrashing on top of you, and all your strength is barely enough to prevent her from ripping free of your grasp.","","Finally, the spasms subside, and she lowers herself on top of you.","","\"I think the dragon's gone,\" she says, \"And I came.\"","","As if that wasn't obvious.","","\"You didn't finish, did you?\" she says. \"Impressive.\" ","","Yeah, fear will do that to you.","","She climbs off you. \"We better get going,\" she says, pulling her breeches on, and you watch her luscious sex disappear again under her breeches. \"The fire might head our way.\"","","She picks up her sword and starts walking away, putting her breasts back in her vest and re-tying the strings.","","\"Are you coming?\" she asks.","","You wish.","","\"Look,\" she says. \"We really gotta get going, and well, this was just a one time thing. It was just to save us from the dragon, and we need to maintain a professional relationship. Save the lust you're feeling now for the princess. Yes? Now come on!\"","","She walks away.","*page_break","","*set hill_duel_outcome \"dragon\"","*return"]},"camp1":{"crc":427322053,"labels":{"69":1214,"camp_alone":12,"followtamara":24,"headtolair":27,"camp":34,"protestwood":52,"continueprotest":64,"firewoodtogether":75,"pushit":82,"dotold":91,"bigfire":104,"smallfire":112,"obeysmall":121,"obeybig":126,"explainbig":131,"explainbigchoice":135,"explainsmall":150,"explainchoice":154,"bigwink":169,"askbig":173,"keepherwarm":177,"insistsmall":181,"insistbig":192,"nipbud":203,"angry":211,"givesin":219,"nextgivesin":232,"challenge":237,"nextchallenge":247,"nofight":253,"yourstupid":261,"sayagain":269,"insensitive":274,"apolagain":286,"alreadyanswered":296,"geez":302,"readytodraw":307,"bringit":316,"bringitchoice":322,"backdown":332,"reasonsmall":340,"reasonbig":349,"backandfoot":358,"backandfootchoice":362,"refusepolitely":371,"refusegruffly":388,"teachthings":403,"footrub":418,"nofetish":432,"denyit":441,"longtime":448,"shoulderrub":453,"noshame":462,"rubshoulders":467,"tight":480,"abs":495,"thighs":504,"thighschoice":512,"stare":522,"peek":537,"noboobs":543,"massagedone":554,"massagedone2":557,"professional":570,"professionalchoice":572,"grudgeagree":582,"complaintease":589,"boobslater":594,"dinner":599,"dragonlesson":620,"dragonlessonchoice":631,"dragoneye":640,"vigil":663,"afterdragoneye":676,"declineeye":681,"askstolen":686,"nextlesson":691,"lesson3":702,"lesson4":710,"lesson5":722,"lesson6":734,"insulted":742,"cupbreasts":747,"massage":756,"trylookboobs":764,"frottage":776,"humpback":784,"technique":797,"wavetech":807,"whystop":817,"stopwave":823,"apolostopwave":832,"quitmassage":839,"nofrot":854,"avoidbosom":865,"sleep":870,"sleepchoice":876,"try2sleep":883,"pretendsleep":912,"trysee":923,"tempoincrease":930,"rethink":938,"involved":943,"phallicsword":946,"nextpommel":955,"barbknock":978,"barbknockchoice":992,"fuckagain":999,"blowjob":1025,"deepthroat":1035,"deepthroat2":1045,"deep69":1053,"deep69choice":1055,"comethroat":1064,"turnover":1076,"doggie":1084,"rearentry":1105,"rear2":1117,"rear2.2":1123,"siderear":1138,"finishbehind":1148,"behindbelow":1152,"comeface":1186,"comeface69":1202,"pound":1230,"justkeeplistening":1242,"leapjoin":1256,"reassure":1270,"punchoice2":1280,"slavery2":1299,"noslavery4":1306,"noslavery5":1314,"noslavery6":1322,"goingforawalk":1327,"liftblanket":1337,"pretendsleep3":1361,"cantstandstop":1371,"prodist":1389,"losecontrol":1402,"tackle":1412,"walk":1419,"cockuse":1454,"tongueuse":1460,"gentlelaydown":1463,"wherego":1466,"wheregochoice":1470,"prodistfollow":1483,"gohither":1491,"askokayfollowed":1501,"gohitherenter":1513,"gohitherkiss":1516,"gohitherkeepkissing":1527,"forceenjoy":1538,"givesuck":1547,"backtreepound":1563,"pcbliss":1569,"manwoman":1578,"comerun":1585,"desirebehind":1597,"gohithercarry":1610,"punchoice3":1641,"horseslavery":1661,"moreheadplease":1679,"mountup":1684,"leapcrush":1696,"hipplough":1706,"horseroll":1714,"pickmoment":1722,"reversal":1738,"reversalchoice":1741,"mightystruggle":1752,"mountsoft":1784,"mareparttwo":1798,"goinbyself":1825,"keepbyself":1833,"bite":1843,"biteagain":1851,"lickbutt":1866,"crack":1880,"agreefuck":1892,"onlywon":1895,"grailchoice":1916,"enjoybody":1940,"trophychoice":1945,"reserves":1968,"bugle":1981,"flute":1984,"fucksemi":2001,"keepblow":2039,"15min":2074,"liehold":2091,"backrub":2095,"tonguebody":2099,"cunni":2103,"sidecunend":2129,"sidepound":2148,"careful":2151,"origrules":2164,"smallback":2167,"scramblebl":2170,"scramble":2173,"worm":2176,"fnelson":2179,"troughdrink":2188,"tricep":2191,"armpit":2200,"legcap":2209,"fingerin":2212,"assoon":2215,"fullnelson":2218,"touchboobs":2226,"rodeokeep":2238,"entervortex":2250,"rodeoregain":2256,"holdmerciless":2267,"strugglecome":2275,"strugglecome2":2277,"crushfinish":2290,"cupboobfuck":2293,"notouchboobs":2296,"holdcrawl":2299,"marewants":2315,"horsenoslavery":2330,"assumeokay":2333,"checkingup":2336,"checkingupchoice":2338,"teareyes":2356,"forcequiet":2360,"cumsleep":2374,"coverdive":2392,"gentleinvite":2426,"nocoverdive":2429,"tableturn":2432,"secretmastur":2435,"askfun":2460,"malesword":2476,"peeksleep":2488,"lilydew":2495,"youdoing":2505,"rape":2517,"askingalot":2537,"whygettingup":2547,"masturforest":2559,"masturcamp":2567,"betterview":2579,"goover":2593,"preferreal":2601,"preferrealchoice":2609,"needswhat":2618,"straddlebehind":2622,"straddlefront":2640,"pulloff":2654,"pulloff2":2658,"shovehead":2681,"shovehead2":2683,"ftgrab":2693,"ftrestrain":2696,"grabhand":2711,"masturlog":2723,"manageyes":2726,"nothinkspeak":2747,"straddlemast":2796,"fingertrap":2799,"watchswordfuck":2822,"waitcome":2832,"standcloser":2835,"69slam":2866,"nogoover":2878,"fuckasschoice":2894,"poundass":2901,"assboobs":2904,"temptapol":2918,"sleeptogether":2930,"sleepown":2937,"jerksilly":2942,"masturforest2":2945,"lilydew2":2948,"looksee":2951,"asksword":2962,"stilltrying":2965,"pretendsleep2":2978,"peeksleep2":2981,"lookseeagain":2984,"peefollow":3001,"peenofollow":3014,"checkup":3023,"bearnofollow":3047,"bearsaynothing":3058,"stillsaynothing":3067,"pretend2sleep":3078,"bearopeneyes":3082,"bearadmitawake":3086,"bearsayyes":3090,"respectyes":3098,"insistyes":3106,"askwhatpunishment":3114,"punchoice":3118,"slavery":3137,"slaverychoice":3141,"askundress":3154,"undress2":3162,"tellbootsoff":3174,"suckit":3188,"furioussuck":3196,"enthusiastic":3199,"comedownthroat":3209,"comeinmouth":3220,"forceslow":3227,"tellliedown":3241,"patpussy":3259,"giveplunge":3262,"tellcome":3265,"touchit":3273,"jerkoff":3284,"dnd":3294,"suckpermission":3304,"makebeg":3312,"comefacepermission":3328,"tamaradidntgethers":3336,"declinemastursex":3350,"legcover":3353,"masturtoo":3365,"mastursex":3379,"handblow":3397,"standingmouthfuck":3408,"contortblow":3420,"contortdeep":3423,"contortcaress":3426,"standingdeep":3445,"kneesuck":3448,"kneesuckchoice":3450,"helpbootsoff":3457,"leavebootson":3460,"undresstamara":3463,"undress":3466,"askundress2":3478,"askclothes":3481,"wick":3495,"trypush":3505,"trywalk":3529,"legsaround":3532,"fuckstanding":3535,"makewet":3538,"boots":3541,"nightshirt":3544,"betweenlegs":3554,"bedroll":3557,"yourarea":3560,"noslavery":3563,"noslavery2":3571,"noslavery3":3579,"yespunishment":3592,"respectum":3601,"respectum2":3609,"goodnight":3611,"heckyeah":3619,"cantbelieve":3627,"stripher":3630,"throwdown":3642,"stuffmouth":3654,"lettalk":3664,"handhead":3674,"golonger":3686,"giveit":3700,"pushups":3707,"showneeds":3710,"splitstake":3720,"taste":3723,"ankles":3726,"nohandhead":3729,"layherdown":3741,"helpstand":3744,"letclimb":3754,"biteboobs":3766,"standbuck":3769,"nobite":3772,"pickup":3775,"mouthagain":3778,"betternot":3781,"try2talk":3785},"lines":["*temp planned_fire_size \"\"","*temp stoodupforself false","*temp smallfire false","*temp booboffer false","*temp was_eager false","*temp peeked false","","*if with_tamara","\t*goto camp","*else ","\t*goto camp_alone","","*label camp_alone","*comment Bed down. Water laced with love potion!","*if left_crying","\t*goto headtolair","*else","\tYou sit and think for a moment, watching Tamara walking away. Even if you don't want to join with her and become her apprentice, without a path to follow, it might be hard for you to find the knight.","\t*choice","\t\t#Follow Tamara.","\t\t\t*goto followtamara","\t\t#Decide to just head toward the dragon's lair. If you meet Juliette, fine, but if not, that's fine too.","\t\t\t*goto headtolair","\t","*label followtamara","Tamara never even turns around, and soon she disappears into the forest foliage.","","*label headtolair","Unable to track Juliette yourself, you head toward DragonKeep itself, keeping a good pace despite the upward slope, and by nightfall, you've greatly closed the distance. The mighty peaks that you gazed upon from afar now look almost close enough to touch, and there was no sign of Tamara all day, which you find quite uncharacteristic. Could she have finally given up on getting you to join her?","\t","You find a good place to camp and pass an uneventful evening alone.","","*goto_scene morning_alone","","*label camp","Tamara starts walking again, and you see her studying the ground more intensely than usual. \"It's odd,\" she says finally. \"Now that Juliette is away from Banes, her pace has picked up to a degree impossible for one so heavily-laden with armor. It will be difficult, but we can still catch her, probably early tomorrow.\"","","You groan inwardly, knowing this means a long day of hard trekking.","","\"That's not the worst part, though,\" Tamara goes on. \"I suspect it means she's magically-aided, perhaps with Boots of Haste. The dragon senses magic, not to the same degree as negative emotions, but it will be able to locate her when she's probably still a mile out. We'll catch up to her before that, but convincing her to leave all her magic items behind might prove difficult. I hope your seduction skills are up to the task.\"","*page_break","After a few hours of forced march, as the sun begins to get lower in the sky, Tamara says, \"Well, we made good time. Juliette is very close, and this looks like a good place to make camp.\"","","Relieved that the day of heavy exertion is finally coming to a close, you look forward to a nice hot meal and well-earned sleep.","","\"You're my apprentice, so go gather a bunch of firewood,\" Tamara calls as she builds a little circle of stones for a firepit. \"Then come back and rub my feet and shoulders.\"","*choice","\t#Protest.","\t\t*goto protestwood","\t#Do as you're told.","\t\t*goto dotold","\t","*label protestwood","Rub her feet and shoulders?!? You understand that this is standard duty for apprentices, but in the current circumstances it seems like asking too much. Not only has it been a day of hard travel, your apprenticeship relationship with Tamara is hardly standard. In exchange for their complete servitude, apprentices can expect food, lodging, and years of training, culminating in the creation of a masterpiece and lucrative career. Will Tamara give you all this? You think not and tell her so.","","\"Are you sure you'll mind rubbing my feet and shoulders so much?\" is all she says in reply, a slight smile on her face as, firepit completed, she spreads her bedroll.","","Perhaps you might not want to protest so much?","*choice","\t#Yeah, you might get lucky. Obey.","\t\t*goto dotold","\t#Continue to protest.","\t\t*goto continueprotest","\t","*label continueprotest","It's always nice to get lucky, but unless it's guaranteed, it's not worth being somebody's slave. \"Look, Tamara,\" you say. \"Can we ease up on the whole master-apprentice thing? We're on a hard journey, so shouldn't we help each other instead of me being your slave?\"","","\"How about I help you gather firewood, but you still rub my feet and shoulders?\" Tamara asks. Wow, how uncharacteristically reasonable. Maybe Banes really did make her see the light?","*gosub_scene adj_respect 10","*choice","\t#Agree.","\t\t*goto firewoodtogether","\t#Push it: Ask for a foot and shoulder rub for yourself too.","\t\t*goto pushit","\t","*label firewoodtogether","You and Tamara gather firewood and quickly amass a pile of wood to last all night.","","Back at camp, the two of you stoke the fire until it's nice and stable. You like watching her poking a stick in and out, but when she sees you watching, she throws the stick into the fire. You like watching the stick burn and shrivel up a lot less.","","*goto backandfoot","","*label pushit","\"What do we look like, a lovey-dovey couple?\" Tamara says. \"Come on.\"","","She heads into the forest, picking up twigs for kindling.","","Well, I guess that's that.","","*goto firewoodtogether","","*label dotold","You start gathering firewood, making a big pile that you have to keep coming back to, grumbling that it'd be much easier with two people because that way, one person can hold their arms out while the other loads it with sticks. It's much more efficient, but it seems like Tamara wants to treat you like a slave. She's probably back there doing her nails or something, but still, you know how master and apprentices work. The apprentice is expected to do whatever the master wants, keyword: whatever. To pass the time, you fantasize about what it'd be like if you had an apprentice, and you hope it's a hot girl like Tamara. You wonder what she was like when she was younger and just starting out, imagining all the ways she had to serve her master.","","Finally, you have a pile that seems enough to last all night and bring it back to the campsite in only three trips. You wonder if Tamara will be impressed by how much you manage to carry each time, but nope, she doesn't even seem to look up, just points at the circle of stones she's made.","","*choice","\t#Make a big fire","\t\t*set planned_fire_size \"big\"","\t\t*goto bigfire","\t#Make a small fire","\t\t*set planned_fire_size \"small\"","\t\t*goto smallfire","\t","*label bigfire","You start to make a big fire, knowing that a small fire won't last all night, but Tamara says, \"You're wasting wood. Plus, let's try not to broadcast our presence to all dragons everywhere in the whole world.\"","*choice","\t#Do as she says and make a small fire, even though it means you'll have to wake up to add more logs in the middle of the night.","\t\t*goto obeybig","\t#Explain that you want to make a bigger fire and why.","\t\t*goto explainbig","","*label smallfire","You start to make a small fire, knowing that it'll make less smoke and use less wood, but Tamara says, \"That fire has to last all night, you know.\"","","*choice","\t#Make a big fire, even though it means you have to go back out and find a few more logs if it's to last all night.","\t\t*goto obeysmall","\t#Explain that you want to make a small fire and why.","\t\t*goto explainsmall","\t","*label obeysmall","You and your tired feet go back out into the forest YET AGAIN with no help YET AGAIN and bring back more wood, receiving no thanks YET AGAIN.","","*goto backandfoot","","*label obeybig","You take some of the bigger logs out of the firepit and place them next to your bedroll, which you ruefully notice is on the opposite side of the fire than Tamara's. Looks like she plans to maintain proper professional distance.","","*goto backandfoot","","*label explainbig","You explain that you were just making a fire that would last all night without you having to wake up to add more logs.","","\"How about *I* wake up in the middle of the night and add YOUR log to the fire?\" Tamara spats and glances at your crotch. \"Oh, because it's so small it won't last more than a minute.\"","*label explainbigchoice","*choice","\t*hide_reuse #Explain how sometimes logs only seem small when they're thrown down grand castle hallways.","\t\t\"Then I really will put it in the fire,\" Tamara says.","\t\t*goto explainbigchoice","\t*hide_reuse #Ask if she'll keep you warm if it gets too cold tonight.","\t\t\"Sure,\" Tamara says. \"Do you like yourself roasted or totally charred?\"","\t\t*goto explainbigchoice","\t#Be a good apprentice and make a small fire like she asked.","\t\t*goto obeybig","\t#Tell her if she wants a small fire, she can do it herself. You're making the fire the way you like it.","\t\t*goto insistbig","\t#Try to reason with her, saying why you want a big fire.","\t\t*goto reasonbig","","*label explainsmall","You try to tell Tamara that a small fire makes less smoke and uses less logs.","","\"Oh pooh,\" she spats. \"The size of the fire won't matter to the dragon, and I like big fires. Keeps me warm.\"","*label explainchoice","*choice","\t*hide_reuse #\"How big do you want it?\" Wink, wink.","\t\t*goto bigwink","\t*hide_reuse #Ask her if she made big fires when she was on her own.","\t\t*goto askbig","\t*hide_reuse #Tell her you'll keep her warm.","\t\t*goto keepherwarm","\t#Be a good apprentice and go get more logs.","\t\t*goto obeysmall","\t#Tell her if she wants a big fire, she can do it herself. You're making a fire the way you like it.","\t\t*goto insistsmall","\t#Try to reason with her, saying why you want a small fire.","\t\t*goto reasonsmall","\t","*label bigwink","\"Way bigger than you even on your best day,\" Tamara says, her face deadpan. She can't be... But she hasn't even seen your... She can't mean... She does! You make a mental note to yourself not to ever challenge Tamara to a battle of sexual innuendos.","*goto explainchoice","\t","*label askbig","\"Nope,\" Tamara says. \"I'm too lazy, but now I have you!\"","*goto explainchoice","","*label keepherwarm","\"You could...\" Tamara says, \"IF I let you in my bedroll. Who says I am?\"","*goto explainchoice","","*label insistsmall","\"That's not the way this works,\" Tamara says, her voice growing severe. \"I'm teaching you dragonlore and showing you the secret entrance. A few extra logs is not a big deal.\"","","*choice","\t#Go get more logs.","\t\t*goto obeysmall","\t#No. You need to nip this in the bud or else she might abuse her position.","\t\t*goto nipbud","\t#Get angry.","\t\t*goto angry","","*label insistbig","\"That's not the way this works,\" Tamara says, her voice growing severe. \"I'm teaching you dragonlore and showing you the secret entrance. Is it really such a big deal to make the fire how I want?\"","","*choice","\t#Make the fire how she wants.","\t\t*goto obeybig","\t#No. You need to nip this in the bud or else she might abuse her position.","\t\t*goto nipbud","\t#Get angry.","\t\t*goto angry","\t","*label nipbud","*set stoodupforself true","You drop the piece of wood you're holding and stand up, inhale deeply, and pause to collect your thoughts.","","\"Look, Tamara,\" you say. \"I appreciate your teaching me dragonlore, but I don't like being bossed around. If you really wanted the fire a certain way, you could've asked me nicely.\"","","*goto givesin","","*label angry","*set stoodupforself true","You drop the piece of wood you're holding and stand up.","","\"Dammit, woman!\" you retort. \"I'm an apprentice not a slave. I got the wood, and now I'm building the fire. If that's not good enough, too bad!\"","","*goto challenge","","*label givesin","\"Fair enough,\" Tamara grumbles. \t","*gosub_scene adj_respect 10","*if planned_fire_size = \"small\"","\t","\tShe gets up and gets more logs herself, comes back, and adds them to your fire, making it bigger.","\t","\t\"See, now, was that so hard?\" she says. \"Don't be lazy.\"","\t","\t*goto nextgivesin","*else","\t\"I'll add the logs to the fire, okay? Try not to be so lazy in the future.\"","\t","*label nextgivesin","The two of you stoke the fire until it's nice and stable. You like watching her poking a stick in and out, but when she sees you watching, she throws the stick into the fire. You like watching the stick burn and shrivel up a lot less.","","*goto backandfoot","","*label challenge","Tamara stands up too.","","*if planned_fire_size = \"small\"","\t\"Yeah, I saw you grumbling the whole time gathering the wood, and it took you forever too. Either you make that fire bigger or I'll slice you open and make YOU bigger.\"","\t","\t*goto nextchallenge","*else","\t\"Yeah, I saw you grumbling the whole time gathering the wood, and it took you forever too. If you don't make that fire smaller, I'll cut you in half and make YOU smaller.\"","","*label nextchallenge","*if hill_duel_outcome = \"nothing\"","\t*goto readytodraw","*else","\t*goto nofight","","*label nofight","She looks you squarely in the eyes, a fierce look on her face, sword arm poised to draw on you. \"Are you really going to bring the dragon down on us again for yet another stupid reason?\"","*choice","\t#\"It was YOUR stupid reason that brought the dragon down on us!\"","\t\t*goto yourstupid","\t#\"Okay, okay, if it means that much to you, I'll make the fire the way you want. Geez.\"","\t\t*goto geez","\t","*label yourstupid","\"Say that again, I dare you,\" Tamara says quietly.","*choice","\t#Say it again.","\t\t*goto sayagain","\t#Realize you're being insensitive.","\t\t*goto insensitive","\t","*label sayagain","Oh, man, you really like prodding dragons with a stick, don't you? ...And in this case, it's almost literal.","","*goto bringit","","*label insensitive","\"Okay, okay, I'm sorry,\" you say. \"We both were pretty stupid, can we agree on that?\"","","\"I guess,\" Tamara says, \"But why did you laugh at me?\"","","Oh, no, not this conversation again.","*choice","\t#Aplogize for laughing at her AGAIN. ","\t\t*goto apolagain","\t#Tell her you already answered that question.","\t\t*goto alreadyanswered","\t","*label apolagain","\"Like I said before,\" you say, \"You always come on so strong that it was nice to see a softer side. I didn't mean to laugh AT you. Really, I didn't.\"","","\"So you say,\" Tamara says and goes about the business of setting up camp, ignoring you.","*choice","\t#Make the fire how she wanted it.","\t\tIf Tamara notices you finally made the fire how she wanted it, she doesn't say anything.","\t\t","\t\t*goto backandfoot","","*label alreadyanswered","\"Yeah, but it's still bothering me,\" Tamara says. ","*choice","\t#Tell her people aren't allowed to \"act like a chick\" and carry a sword at the same time. It's against the rules of the Swordsman's Guild.","\t\t*goto chick","","*label geez","Instead of a ${planned_fire_size} fire, you make it how \"Master Tamara\" wants.","","*goto backandfoot","","*label readytodraw","She looks you squarely in the eyes, a fierce look on her face, sword arm poised to draw on you.","","*choice","\t#\"Bring it.\"","\t\t*goto bringit","\t#Back down","\t\t*goto backdown","\t","*label bringit","Tamara starts to reach for her sword but then stops. With great force of will, she pulls her arm back to her side.","","\"No,\" she says through gritted teeth. \"As much as I'd like to, we can't fight. This close to the dragon's lair, it would summon it for sure. You're a big baby, bickering with me over something as stupid as the size of a fire. Make it however you want.\"","","She turns and resumes setting up camp.","*label bringitchoice","*choice","\t#Make the fire your way.","\t\tTamara glances over and sees you making a ${planned_fire_size} fire and shakes her head. \"No foot and backrub for you and your stubborn self. Too bad. So sad. You gonna do me or what?\"","\t\t*goto backandfootchoice","\t#Make the fire her way.","\t\tTamara glances at the fire you're making and doesn't say anything.","\t\t","\t\t*goto backandfoot","","*label backdown","\"Whoa, whoa!\" you say taking a step back. \"No need to get violent.\" ","","For a long minute, Tamara's body remains tense, ready to spring, but when you don't instigate, she finally she relaxes. She sits back down.","","\"Sorry about that,\" she says. \"I've just got a temper on me.\"","*goto bringitchoice","\t","*label reasonsmall","You start to reason with Tamara, but you get no more than a few words out of your mouth before she cuts you off. \"Don't make me repeat myself,\" she says coldly.","","*choice","\t#Better go get that wood.","\t\t*goto obeysmall","\t#Get angry.","\t\t*goto angry","","*label reasonbig","You start to reason with Tamara, but you get no more than a few words out of your mouth before she cuts you off. \"Don't make me repeat myself,\" she says coldly.","","*choice","\t#Just make the fire smaller.","\t\t*goto obeybig","\t#Get angry.","\t\t*goto angry","","*label backandfoot","\"Okay, how about that back rub and foot rub?\" Tamara says once the fire's going well.","","She takes off both her boots and presents her feet to you. She wiggles her toes at you, and you notice they're painted sapphire blue, same as her fingernails.","*label backandfootchoice","*choice","\t#Refuse politely","\t\t*goto refusepolitely","\t#Refuse gruffly","\t\t*goto refusegruffly","\t#Get on your knees and get rubbing","\t\t*goto footrub","\t\t","*label refusepolitely","\"But you're my apprentice,\" Tamara says.","*choice","\t#Well, in THAT case...","\t\t*goto footrub","\t#\"I may be your apprentice, but there are limits.\"","\t\t\"Come on,\" Tamara says. \"You might like it too.\"","\t\t*choice","\t\t\t#Well, in THAT case...","\t\t\t\t*goto footrub","\t\t\t#\"Yeah, I might like it too much is what I'm thinking.\"","\t\t\t\t\"Fine, fine,\" Tamara says, putting her boots back on. \"But this does not bode well for our master-apprentice relationship.\"","\t\t\t\t","\t\t\t\tYou and Tamara cook a few things over the fire and eat in silence.","\t\t\t\t","\t\t\t\t*goto sleep","","*label refusegruffly","\"Hey!\" Tamara snaps. \"Apprentices aren't allowed to talk back to their master. Are you going to massage me or not?\"","*choice","\t#Not.","\t\t\"Not?!?\" Tamara says incredulously. \"Fine. I was going to teach you some things in my bedroll later, but now that lesson is canceled. Too bad for you!\"","\t\t*goto teachthings","\t#Ask if you get a turn.","\t\t\"No, sorry,\" Tamara says. \"That'd be against the traditions of apprenticeship, but come on, please, please, please?\"","\t\t*choice","\t\t\t#\"Well, okaaay, since you said please.\"","\t\t\t\t*goto footrub","\t\t\t#\"Nope. Sorry, it's not fair.\"","\t\t\t\t\"Too bad for you then,\" Tamara says. \"I was going to teach you some things in my bedroll later, but now that lesson is canceled.\"","\t\t\t\t*goto teachthings","\t\t\t","*label teachthings","*choice","\t#Change your mind.","\t\t\"Too late,\" Tamara says, turning away and continuing to set up her side of the camp.","\t\t\t","\t\tYou and Tamara cook a few things over the fire and eat in silence.","\t\t\t\t","\t\t*goto sleep","\t#Offer to teach HER some things.","\t\t\"Like how to be a bumbling idiot?\" Tamara says. \"No thanks, and I'm not interested in your lessons on how to not be a good apprentice either.\"","\t\t\t\t","\t\tYou and Tamara cook a few things over the fire and eat in silence.","\t\t\t\t","\t\t*goto sleep","","*label footrub","You wash her feet first, and Tamara says, \"That cool water feels nice.\" This makes you start imagining all the other things you could be doing that would feel nice.","","\"Why you being so gentle?\" Tamara asks, breaking you out of your lustful reverie. \"You're not a foot fetishist, are you?\"","","*choice","\t#Yes","\t\tTamara yanks her foot away from your hands. ","\t\t","\t\t\"Okay, my feet feel much better now. Thanks. Now how about that shoulder rub?\"","\t\t*goto shoulderrub","\t#No","\t\t*goto nofetish","\t","*label nofetish","\"Good,\" Tamara says. \"I never understood why guys would be into that, but then why are you getting turned on? It seems like you're getting turned on.\"","","*choice","\t#Deny it.","\t\t*goto denyit","\t#Tell her it's been a long time.","\t\t*goto longtime","\t","*label denyit","\"No, why would I be getting turned on?\" you say, acting innocent. You start squeezing her feet a little harder and press your thumbs into her tendons.","","\"Good,\" Tamara says. \"We need to keep our relationship strictly professional. Now, how about that shoulder rub?\"","","*goto shoulderrub","","*label longtime","\"It's been a long time for me too,\" Tamara says, \"But you don't see me turning ent-like, do you? Why do guys have such one track minds?\"","","\"Don't answer that,\" she says quickly before you can say anything. \"How about that shoulder rub?\"","","*label shoulderrub","She takes off her top and turns around, presenting her back and shoulders to you. It was so fast that you hardly saw it, but for a brief moment, you got to see her breasts. You can't believe it! Has she no shame?","","*choice","\t#Ask her if she has no shame.","\t\t*goto noshame","\t#Just give her the shoulder rub.","\t\t*goto rubshoulders","\t","*label noshame","\"Not out here,\" Tamara says, looking at you as if you're crazy. \"Don't be a silly-willy.\"","","You wonder if she really doesn't know how much all this is turning you on.","","*label rubshoulders","You start to knead her shoulders, and they're like steel springs, large for such a small-framed woman. You've got a good grip, but even so, you can barely squeeze them. It must be from all her training with the sword.","","Tamara laughs. \"Tight, huh? That's what I get for carrying a heavy backpack around all day.\"","","*choice","\t#Ask if that's the only thing that's tight.","\t\t*goto tight","\t#Reach around and cup her breasts","\t\t*goto cupbreasts","\t#Just keep working them","\t\t*goto massage","\t","*label tight","\"My abs are pretty tight too,\" Tamara replies, and it somehow seems she totally missed your double entendre. Either that or she's teasing you. ","","\"And my thighs.\" She MUST be teasing you!","","*choice","\t#Ask to feel her abs","\t\t*goto abs","\t#Ask to feel her thighs","\t\t*goto thighs","\t#Reach around and cup her breasts","\t\t*goto cupbreasts","\t#Just keep working her shoulder muscles","\t\t*goto massage","\t","*label abs","\"Only my boyfriend gets to feel those,\" Tamara says, and once again, she seems totally oblivious to both your hints and current state of extreme arousal. She's a big tease!","","*choice","\t#Reach around and cup her breasts","\t\t*goto cupbreasts","\t#Just keep working her shoulder muscles","\t\t*goto massage","","*label thighs","\"Sure,\" she says, \"But then you gotta massage them too. And my calfs. Don't forget the calfs.\"","","She lies down and squeezes the big, bunched up muscles near her knees. \"These,\" she says. \"Especially these.\"","","Her boobs are now in plain view, the sunlight beating right down on them!","","*temp peeked false","*label thighschoice","*choice","\t*if (peeked = false)","\t\t*disable_reuse #Stare.","\t\t\t*goto stare","\t*disable_reuse #Sneak a peek while massaging her thighs.","\t\t*goto peek","\t#Force yourself not to look at her boobs.","\t\t*goto noboobs","\t","*label stare","You stare at the sun, burning your retinas. Now you're blind. JUST KIDDING! But you're not very much better off staring at Tamara's boobs, to tell the truth. It's turning you on so much, you're about to explode.","","\"Yeah, right there...\" Tamara says as you start to knead her tight thigh muscles. \"Hey!\"","","She notices you looking at her boobs. ","","\"You can look at those later. Right now, concentrate on your work.\"","","Oh man, did she just give you permission to look at her boobs later? Maybe this means you're gonna get lucky tonight!","","*set booboffer true","*page_break","*goto massage","","*label peek","*set peeked true","\"Hey, no peeking!\" Tamara says.","*page_break","*goto massage","","*label noboobs","It takes great willpower, but you manage to finish massaging her thighs while not looking at her boobs.","","Ok, no. I lied. It didn't take any willpower. No man has that much willpower. You managed to not look at her boobs by staring at her crotch. You undressed it with your eyes. You imagined what it looks like, what it feels like, what it feels like to push inside it! ","","It got so intense that you squeezed her thigh muscles really hard.","","\"Yeah!\" Tamara exclaims. \"Now you're putting your weight into it.\"","","That's not all you want to put your weight into.","","*label massagedone","\"Okay, that's good enough. Thanks,\" Tamara says, sits up, and puts her top back on.","","*label massagedone2","\"Hey, I got some smoked pork. You wanna share?\" she asks.","","ARE YOU KIDDING ME???","","*choice","\t#Tell her to smoke YOUR pork.","\t\t*goto professional","\t#Tell her yes, you want to share. Now. Badly.","\t\t*goto professional","\t#Help her cook dinner","\t\t*goto dinner","\t","*label professional","\"That sounds fun and all,\" Tamara says, \"But don't you think we need to keep a professional relationship? Things get messed up if you're hot for teacher.\"","*label professionalchoice","*choice","\t#Grudgingly agree","\t\t*goto grudgeagree","\t#Complain that she teased you shamelessly!","\t\t*goto complaintease","\t*if (booboffer)","\t\t#\"But didn't you say I could look at your boobs later?\"","\t\t\t*goto boobslater","\t\t","*label grudgeagree","\"Good,\" Tamara says. \"I can see you're going to learn a lot of things.\"","","Too bad dragonlore is so much more boring than the other things you want to learn from her.","","*goto dinner","","*label complaintease","\"I did not!\" Tamara cries, turns around, and bends over her pack to get her cooking utensils out. You suppose this also does not qualify as shameless teasing.","","*goto dinner","","*label boobslater","\"I did,\" Tamara admits, forehead creasing. She's silent and tense for a minute but then she brightens up and says, \"After this quest, when you're no longer my apprentice, I'll show them to you then.\"","","Nice save.","","*label dinner","You can hardly move, your dick is so hard in your pants, and your blue balls are terrible too. However, you force yourself to help cook dinner, even offering up some of your beef jerky.","","\"Oh yeah! I love beef jerky,\" Tamara says, taking it from you. ","","You hand it over, wondering how you're going to beef jerky yourself later.","*page_break","Tamara tosses your jerky in a small pot with water placed next to the fire. To this she adds some of her parched corn, sun-dried tomatoes, and a powdery spice mix from a small leather bag, to turn into a stew.","","\"Ok, you were a marginally okay apprentice today, so while this cooks, I'll do my part and teach you things,\" Tamara says.","","She opens her belt pouch and takes out ","*if looked_in_dragoneye","\tthe dragoneye. \"You were naughty earlier and looked in this already, but I'll overlook that and let you look in it again, for practice. What I didn't tell you then was that after using it for awhile, you start to retain a connection with the dragon. Even when not looking in the eye, you can sense how closely it's watching if you pay attention. ","\t*goto dragonlesson","*else","\twhat looks like a small crystal sphere about the size of her palm. \"This is the DragonEye,\" she says, \"Created by the arch-mage, Maldoon, in the Age of Tor.\"","\t","\tYou see that it contains what appears to be an actual dragon's eye.","\t","\t\"Remember earlier, the first time I said I needed to shake the dew off my lilypad? Well, it was really to peer into the dragoneye. I go into a trance and am vulnerable, so I didn't want to do it in front of you yet. Now, I want you to look into it, for the more you do, the greater a connection you gain with the dragon. While looking into the eye, you're able to sense the degree to which the dragon is watching, and with time, you'll be able to maintain this awareness at other times if you pay attention. ","*label dragonlesson","The main lesson I've already been teaching you is to stay focused all the time and not be scatterbrained. Making a ${planned_fire_size} fire, for example. That was part of your lessons. It's about paying attention to what's appropriate in each moment. Same with walking silently. Tracking is also a powerful tool for training focus, but it's a high art we don't have time for right now. All these things are ways to concentrate the mind which help in all spheres of life, including the use of the dragoneye.\"","","She hands you the dragoneye.","","\"Open your mind and connect with the dragon,\" she says. \"It's one-way; you will sense its consciousness, but not the other way around. ","*if looked_in_dragoneye","\tWhen Gormag and Zyrxus slew the ancient dragon, Fluxinestral, they used this dragoneye, created by the arch-mage, Maldoon, in the Age of Tor, now passed down to me.\"","\t*goto dragonlessonchoice","*else","\tWhen Gormag and Zyrxus slew the ancient dragon, Fluxinestral, they used this dragoneye, now passed down to me.\"","*label dragonlessonchoice","*choice","\t#Peer into the dragoneye.","\t\t*goto dragoneye","\t#Decline.","\t\t*goto declineeye","\t#Ask if \"passed down to\" really means \"stolen by.\"","\t\t*goto askstolen","","*label dragoneye","*if looked_in_dragoneye","\tAs before, when you look in the dragoneye, you feel yourself entering a trance, and the eye inside the glass sphere begins to glow. It's dim again, and you sense that the dragon's attention is still diffuse, spread out evenly around the lair for many miles. You remember that Tamara said not to peer too long, so you tear your attention away and hand the dragoneye back to her. ","\t","\t\"Can you feel that your awareness of the dragon's attention is still there if you look for it?\" Tamara asks.","","\tYou find that it's there, much like a faint background noise you can hear if you concentrate.","\t","\t\"It gets stronger the more you use the eye,\" Tamara says. \"But only once per day. The legends aren't clear what happens if you peer too long or too often, just warn not to do it. Gormag and Zyrxus never did, and we shouldn't either.","\t","\t*goto afterdragoneye","*else","\tTamara tells you that when you peer into the dragoneye and enter the trance, you lose sensation of your body, so she helps you find a stable position where you won't fall over. You peer into the dragoneye, and after a minute or so, you feel yourself entering the trance. Your surroundings fade from your attention, replaced by a fascination with the eye within the the sphere. Gradually, a light begins to grow inside the eye, and you get the creepy feeling of being watched. However, the light never grows above a dull glow, and you have the feeling the dragon's attention is diffuse, spread out evenly around the lair for many miles.","\t*choice","\t\t#Keep looking.","\t\t\tTamara nudges you. \"That's enough,\" she says, \"Strange things start to happen when you look longer, and it's not safe.\"","\t\t\t","\t\t\tYou tell her what you saw.","\t\t\t","\t\t\t*goto vigil","\t\t#Stop looking and tell Tamara what you saw.","\t\t\t*goto vigil","\t\t","*label vigil","*achieve dragoneye","*set looked_in_dragoneye true","\"Good,\" Tamara says. \"Neither the knight nor ourselves have done enough for it to pinpoint our location. It knows we're here, just not exactly where, and it will wait, watching vigilantly.\"","","As Tamara puts the dragoneye back in her pouch, you see your surroundings in a new light, almost as if you can sense the dragon everywhere, all around you. It makes you want to walk and speak more quietly.","","\"Can you feel that your awareness of the dragon's attention is still there if you look for it?\" Tamara asks.","","You nod but find that unless you're paying attention, you don't notice it.","","\"It gets stronger the more you use the eye,\" Tamara says. \"But only once per day. The legends aren't clear what happens if you peer too long or too often, just warn not to do it. Gormag and Zyrxus never did, and we shouldn't either.","","*label afterdragoneye","\"One last thing,\" Tamara says. \"I've found that every few days, the dragon's attention ceases for a short while, perhaps and hour or two. Why, I do not know, but I plan to use these gaps to our advantage.\"","*page_break","*goto nextlesson","","*label declineeye","Tamara frowns and takes back the dragoneye. \"An apprentice refusing a lesson from his master?\" she says incredulously. \"Perhaps some other time, then, but know that this is generally considered a grave insult.\"","","*goto sleep","","*label askstolen","Tamara snatches the dragoneye back. \"Bad form asking a thief questions like that,\" she says. \"We will resume your lessons when you have proper respect.\"","","*goto sleep","","*label nextlesson","\"Next, I will teach you about the crossbow,\" Tamara says, taking it off her back as well as her quiver of crossbow bolts.","","\"These are specially-made quarrels for use against dragons,\" she says. \"See how they are like other armor-piercing bolts in that they don't have blades? These are made of iron alloyed with adamantine, allowing them to be narrower yet still strong, penetrating deeply.\"","*choice","\t#Ask if she would like to be penetrated deeply.","\t\t*goto insulted","","\t#Nod respectfully.","\t\t*goto lesson3","","*label lesson3","Tamara shows you a tiny rune etched into the metal quarrel near the tip. \"This is a magic glyph composed of two runes,\" she says. \"It means dragon-separation in the First Language, forbidden to be spoken except in spell-casting, and when stimulated by inner dragon flesh, it explodes.\"","*choice","\t#Tell her you like separating things and exploding when stimulated by inner flesh.","\t\t*goto insulted","\t#Nod respectfully.","\t\t*goto lesson4","","*label lesson4","\"The weight of these quarrels are slightly different than normal ones,\" Tamara goes on. \"They're designed to fly further, so it takes some practice.\"","","The two of you take turns shooting at distant trees.","","\"I plan not to need to use this,\" Tamara says, \"But if it comes to that, and it falls to you to fire upon the dragon, use the heightened dragonsense you gained by working with the dragoneye. It will guide your aim.\"","*choice","\t#Ask if, when you're between her legs, will she guide your aim?","\t\t*goto insulted","\t#Listen respectfully.","\t\t*goto lesson5","","*label lesson5","\"Again, I plan to avoid direct combat with the dragon, but if it should come down to the sword, the technique is to stab diagonally, aiming to penetrate between two armored scales. Cutting is almost useless without a magic sword.\"","*choice","\t#Tell her you do have a magic \"sword.\"","\t\t\"Really?\" Tamara asks, perking up and glancing at the sword at your waist.","","\t\t\"Not that sword,\" you say, grinning.","","\t\t*goto insulted","\t#Listen respectfully.","\t\t*goto lesson6","","*label lesson6","\"Well, that's good enough for now,\" Tamara says. \"I suggest you practice diagonal sword stabs when you get a chance, but now let's eat.\"","","You find the stew delicious compared to your tasteless rations and decide that despite Tamara's rough ways, she still can pull off the \"woman's touch\" when she wants to. You hope she does it again after you get in bed.","*comment increase hitpoints here if not insulted. Else gets smaller portion and must fillin with own hardtack.","","*goto sleep","","*label insulted","Tamara sighs. \"See, this is why the master-apprentice code is so important. How can you learn anything if you're busy fantasizing about me or engaged in some other form of disrespect? All the bossing around, the firewood, the massage... All that's to teach you the necessarily respect and humility to be able to learn at maximum efficiency. It's not because I like it. In fact, it's a responsibility, a burden.\"","","*goto sleep","","*label cupbreasts","After squeezing her shoulder muscles for awhile, you extend to nearby areas, first her arms, then upper back. Tamara moans and seems to be really getting into it. Your fingers inch past her collarbones to the tops of her pectorals. ","","\"Yes, that's nice,\" Tamara sighs.","","You move your hands a bit further down, just touching the beginning of the fleshy globes of her breasts. She doesn't say anything! You go further, swirling your fingers around her mounds, then cupping them gently. She still doesn't say anything!","","\"That feels so good...\" Tamara murmurs. Then suddenly she jerks with a start. \"Whoa! What are you doing?\" she cries, yanking your hands off her. \"I kinda drifted into a daze there for a bit, but don't take advantage!\" She plants your hands firmly back on her shoulders.","","*label massage","You continue squeezing Tamara's coiled shoulder muscles.","*choice","\t#Try to look at her boobs.","\t\t*goto trylookboobs","\t#Avoid looking at her bare bosom.","\t\t*goto avoidbosom","\t","*label trylookboobs","You rise up on your knees, ostensibly to be able to bear down onto her shoulder muscles with greater force.","","\"Yeah,\" Tamara says. \"Push in there hard.\"","","From your new vantage point, you're able to surrepetitiously glance down and see her boobs, and the lust level rises in your body. You feel something grow in your pants, and if you move your body just an inch or two forward, you can brush it against Tamara's spine.","*choice","\t#Do it.","\t\t*goto frottage","\t#That might be pushing it.","\t\t*goto nofrot","\t","*label frottage","Pretending to press down into her shoulder muscles at a different angle, you pull back slightly on Tamara's body while simultaneously moving yours forward until contact is made. It feels great, and so far, Tamara says nothing. You continue working her muscles while rubbing yourself on her back, and you start to get harder. You need more. Bad.","*choice","\t#Hump her back a little.","\t\t*goto humpback","\t#You can't take anymore. It's either quit or explode, so... quit.","\t\t*goto quitmassage","\t","*label humpback","*achieve backrub","With every pull on her muscles, you press forward with your hips, and soon you have a nice rhythm going. Your desire makes you pull hard on Tamara's muscles, making her moan appreciatively. ","","\"That's not where that goes, but I still like this technique,\" she says.","*choice","\t#Put it where it goes, and show her your better technique.","\t\t*goto technique","\t#Keep going.","\t\t*goto wavetech","\t#Apologize and stop.","\t\t*goto apolostopwave","\t","*label technique","One the next pull of her body, instead of pressing forward with your hips, you let Tamara's body continue falling back, and surprisingly, she doesn't resist, letting you push her all the way down until she's lying on her back looking up at you. ","*fake_choice","\t#It goes in her mouth.","\t#It goes in her pussy.","You start to undo your belt buckle, but Tamara quickly sits up. ","","\"Okaaaaay,\" she says. \"We better stop now. I want it too, but we can't. We really need to maintain our professional relationship.\"","*goto professionalchoice","","*label wavetech","With each pull, Tamara's body rocks backwards, and your cock presses into her spine as you squeeze her shoulder muscles. Then you release, and her body rocks forwards. Back and forth you rock her.","","\"Stop...\" Tamara says weakly. \"Stop... This is turning me on too much.\"","*choice","\t#Stop.","\t\t*goto stopwave","\t#Ask why you need to stop.","\t\t*goto whystop","\t","*label whystop","Tamara doesn't say anything at first, but then she forces herself to pull away and turn to face you.","","\"Because we really need to maintain a professional relationship,\" she says, grabbing clumsily for her top, and as she puts it back on, you take a last, lingering look at her luscious boobies.","*goto professionalchoice","","*label stopwave","Reluctantly, with great force of will, you stop your rocking motion, and Tamara sits still for awhile, unable to move.","","Finally, she grabs clumsily for her top, and as she puts it back on, you take a last, lingering look at her luscious boobies.","","Her hands shake a bit as she rummages through her pack for her cooking utensils and ration packs, and you catch her looking at you from time to time.","","*goto massagedone2","","*label apolostopwave","\"No need to apologize,\" Tamara says. \"I kinda liked it.\"","","She puts her top back on and rummages through her pack for her cooking utensils and ration packs.","","*goto massagedone2","","*label quitmassage","\"I have to stop,\" you say.","","\"Aww, already?\" Tamara says. \"It was feeling so good, though!\"","","You know. Boy, do you know.","","\"Well, all right,\" she goes on. \"I guess I'll let you off.\"","","Get you off? No... sadly.","","She puts her top back on and rummages around in her pack for her cooking utensils and ration packs.","","*goto massagedone2","","*label nofrot","You settle for just staring at her boobs while you massage her shoulders, and mesmerized, you go on and on.","","Finally Tamara stops you. \"Wow, that was almost an hour,\" she says. \"I didn't know you had such strong hands, but thanks!\"","","She picks up her top, but before putting it on, she bounces her shoulders a bit and says, \"Oh, I feel so nice and relaxed. You're the greatest!\"","","She gives you a hug, pushing her still naked boobs against your body and then puts her top on like it was nothing.","","*goto massagedone2","","*label avoidbosom","Constantly fighting the urge to peek at her boobs, you can manage only distracted squeezes on Tamara's tight shoulder muscles.","","*goto massagedone","","*label sleep","Slowly, the sun sets, and it gets colder.","","Tamara sets up her bedroll on the opposite side of the fire, sits down, takes off all her clothes until she's buck-naked right in front of you, puts on a white nightshirt, and climbs under her blanket, facing away from you. ","","All you have is your thin blanket, but it's fine--you're used to camping out. What's not fine is the raging boner you have again.","*label sleepchoice","*choice","\t#Go to sleep","\t\t*goto try2sleep","\t*disable_reuse #See if Tamara wants to talk for a bit","\t\t*goto try2talk","\t","*label try2sleep","You try to sleep, but it's no use. You can't stop thinking about Tamara over there and how you want so badly to go climb into the bedroll with her. It's too embarrassing to masturbate, so you just lie there in agony. ","","The minutes tick by slowly, the crackles of the fire marking time. ","","One crackle. You're in agony. ","","Two crackle. You're still in agony. ","","Three crackle. Why did Tamara insist on this professional relationship??? ","","Four crackle. You're about to explode! ","","Five crackle. That does it! You decide you just have to go out into the forest and masturbate.","","You're about to sneak away, claiming you had to \"shake dew off your lily pad\" if she happens to notice, but you're pretty sure she's asleep. She hasn't moved in a long time. ","","You carefully roll over to your side and are just beginning to slooooowly push yourself up to a sitting position when you hear Tamara changing positions.","","*choice","\t#Freeze. Pretend to sleep.","\t\t*goto pretendsleep","\t#Peek.","\t\t*goto peeksleep","\t#Keep going.","\t\t*goto lilydew","\t#Look to see what she's doing.","\t\t*goto looksee","\t","*label pretendsleep","You lie there, eyes closed, listening. You can't tell what Tamara's doing, but there's a lot of rustling of fabric as she's moving about. You can tell she's trying to be quiet, but still, you're able to hear a lot. Eventually the rustling sounds become rhythmic, like she's moving something under the covers in the same way again and again.","","*choice","\t#Try to see what's going on.","\t\t*goto trysee","\t#Just keep listening.","\t\t*goto justkeeplistening","\t#Ask if she's having fun.","\t\t*goto askfun","\t","*label trysee","Unfortunately, you were facing the other way when you froze, so to see, you're going to have to roll over. You try to make it sound like you're just shifting in your sleep, but when you move, you hear all sound stop.","","Carefully you slit one eye open, and you see Tamara on the other side of the fire staring straight at you. You almost scream but hold it in, composing yourself, and resume studying the situation. You can't see much more than her upper body, so it looks like she's just lying there looking at you.","","After a few moments when you don't move again, she turns away and closes her eyes. The rhythmic sound starts again, and you see that she has both arms under the covers, hands perhaps between her legs. It looks like she's pulling something towards her again and again.","","*label tempoincrease","Soon, the tempo increases, and she begins to move a little, shifting the position of her legs. Her back arches, and her head occasionally rolls from side to side. Finally, a soft moan escapes her lips.","","*fake_choice","\t#Stand up.","\t#Masturbate too. She won't hear you, with all the noise she's making.","\t#Force yourself to do nothing and just wait for it to be over.","","*label rethink","\"I'm ready to rethink this master/apprentice thing,\" you hear her say.","","You're up in a flash and by her bedside.","","*label involved","You see that she's spread her legs, one leg almost completely out of her bedroll. Her lower body is completely naked, and you can nearly see her crotch. She peels back the covers, and you see that she's hiked her nightshirt up over her breasts. Her sword is between her legs, the pommel almost entirely inside her. She slides it out until only the tip is still inside her.","","*label phallicsword","\"Did you notice before?\" she asks, \"My sword has a phallic-shaped pommel.\" She grins.","","You see that it indeed looks exactly like a penis, carved from ivory,","*if pommelpummeled","\tbut you hadn't noticed before, not even when she was pummeling you with it before. Ew!","\t*goto nextpommel","*else","\tbut all this time, you hadn't noticed. You just thought it was oddly decorative.","*label nextpommel","","\"I don't know why, but it gives me comfort in battle to grip it,\" she says. \"And then there's this use.\" She smiles up at you, and her eyes twinkle.","","Slowly, she slips it back into herself, closing her eyes and starts to move it in and out in a hypnotic rhythm.","","\"I do this alone just about every night,\" she says. \"But now I have you.\"","","She pulls the pommel out again, slides the sword up her body, and softly licks the glistening shaft.","","\"Does it make you hard? Do you want to be inside me?\"","","You climb on top of her, your member already rock-hard. It's been so for the last half-hour! It feels so good inside her, her snatch already in full slipperiness from the motions of the sword.","","You begin to move in and out of her, sometimes with long strokes, other times short, sometimes fast, other times slow. You alternate this with grinding your hips, mashing her sex between you.","","\"Oh, apprentice,\" Tamara cooes, \"You've learned your lessons well.\"","*choice","\t#Tease her.","\t\t*goto barbknock","\t#Pound her.","\t\t*goto pound","","*label barbknock","You pull out all the way and make Tamara wait for you to put it back in. ","","\"I feel so empty without you inside me,\" she says. \"Please fill me again.\"","","You move forward and just the tip of your member barely penetrates her opening. There you stay, rocking back and forth, never fully entering her.","","\"You drive me crazy,\" she says. \"My body longs for you so bad.\"","","You pick up speed but still do not fully enter.","","\"Please...\" she begs.","","You increase your speed yet again, entering slightly further each time, and Tamara's whole body tenses in anticipation. Finally, you plunge in completely, all the way to the hilt, and Tamara cries out, her desperate need filled at last. She wraps her legs around you, holding you inside her, and she continues to moan and shudder. It doesn't stop, only intensifies, and you realize she must be coming already! You pound her, pulling out as far as she'll let you before slamming home again. Whap! Whap! Whap! Your pelvis slaps into hers again and again as she fills the night with her moans. You nearly explode yourself, but with great force of will, you hold it in. Finally, Tamara's body relaxes beneath you.","*label barbknockchoice","*choice","\t#Start to fuck her again.","\t\t*goto fuckagain","\t#Pull out, move up her body, and put it in her mouth.","\t\t*goto blowjob","","*label fuckagain","Tamara's body lies below yours quiet and still now as you begin moving in and out of her again, now nice and slow with an even rhythm to slowly stoke her fire back to a bright flame.","","You take your time, enjoying the feel of her body beneath you, how she's spread her legs just for you, how her nipples harden as your chest scrapes over them again and again.","","You gently nibble her earlobes, then move down her neck, kissing and trailing your tongue. By bending your body, you're able to reach her nipples and dab at them with your tongue as you continue fucking her below.","","You feel Tamara's body begin to stir. \"I felt done, but you're making me want you again,\" she says. \"This has never happened before.\"","","You continue your exploration down Tamara's body, having to pull out so that your tongue can reach her ribcage, then navel. She stretches and rolls like a cat enjoying being petted.","","You kiss up and down her thighs, inching closer to her sex, teasing her again, this time with your mouth, stimulating everywhere except where she wants it most. When finally you begin running your tongue up and down her folds, she moans and grasps the back of your head with both hands.","","You make a circular, rhythmic motion with your head, running your tongue over her sex again and again, only occasionally brushing against her clitoris above.","","Tamara's body writhes, and her face contorts as if in pain, her legs thrashing, her hips pushing.","","Finally, she can take no more, and already crying out, she pulls at your arm, wanting to be mounted.","","You're up in a flash and inside her before you know it, pounding her hard, causing her to explode instantly a second time. Once again her cries fill the night, and her head thrashes from side to side, her hands grabbing at you, pulling as if to pull you even closer. Her hips buck wildly, and the passion of it sends you over the edge as well. Your cries join hers, and each thrust brings you to new heights until finally the spasms subside.","","You lie on top of her for awhile but then slide off to one side. Tamara turns toward you and pulls you close, puts her blanket over both your bodies.","*page_break","*achieve twotimes","*goto_scene juliette","","*label blowjob","Walking on your knees, you move slowly up Tamara's body, relishing how it feels between your legs. The hairs of her mound tickle you; then, the softness of her belly. You push your dick between her breasts, feeling their softness give way under your rod of steel. You push it against her throat and chin, feeling it press against her pipes and bones. You lift her head, and though her body is still languid from her orgasm, she moves to cooperate, to let you into her mouth.","*choice","\t*if (deepthroat) #Push your cock down her throat.","\t\t*goto deepthroat","\t#Come on her face.","\t\t*goto comeface","\t#69 her.","\t\t*goto 69","\t","*label deepthroat","You remember how good it felt when Tamara deepthroated you before, and you wonder if she'll let you do that again. You push in, sliding easily down her throat, and though she makes a gagging sound, she allows it. You move in and out of her for a few strokes, before finally retreating past the epiglottis and letting her breathe. Her chest heaves under you, and you allow her only a few breaths before you push in again. You hold yourself fully inside her and push in deeper a few times, jamming your pube hard against her face. Tamara's body stiffens, but she allows it, keeping her hands raised by her head in surrender. ","","It feels so good inside her, but you fight the urge to plunge in again to let her breathe. ","*choice","\t#Plunge in again.","\t\t*goto deepthroat2","\t#69 her.","\t\t*goto deep69","\t","*label deepthroat2","Tamara takes two quick breaths, knowing you're poised to push down her throat yet again.","","Before she can complete her third, you thrust in, and she grunts in surprise, her body stiffening. Briefly, her hands push on your hips, but she removes them, fighting the instinctual urge to push you away and breathe.","","She keeps them there even as her epiglottis convulses, trying to swallow but unable, and this brings you to the very edge of orgasm as Tamara's body emits gutteral choking sounds.","*goto deep69choice","","*label deep69","While Tamara lies there, chest heaving, you move around her body. She turns her head and lifts her chin, enabling you to enter her mouth once again. You sit and look at her body laying before you, chest heaving, legs spread, and you watch her stiffen as you push down her throat again. You lay on top of her and begin to move back and forth, fucking her mouth, her pussy right in front of your face. You wrap your arms around her body like you do during regular sex, kiss her lips like in regular sex too, treating her crotch like her face and her face like her crotch. You're nearly ready to come.","*label deep69choice","*choice","\t#Come on her face.","\t\t*goto comeface69","\t#Shoot your come down her throat.","\t\t*goto comethroat","\t#Turn her over.","\t\t*goto turnover","","*label comethroat","*achieve deepthroat","Tamara's body is bucking, her body screaming for air, but you stay inside her, humping in small furious strokes until her desperate movements send you over the edge. You feel your hot jizz shoot deep inside her, past the vestibular fold. You pull out finally, and Tamara's gasping under you. You press your cock flat against her whole face, humping it, shooting more onto her lips and cheeks until her whole face is covered in it. You remain collapsed on top of her, and she lies under you, doing nothing, breathing gradually returning to normal.","","Finally, you roll to one side, and Tamara curls her body to rest her head on your chest.","","\"You used me like a ragdoll, but I liked it,\" she whispers, looking up at you. She swirls her fingers in the come you've left on her face, pushing some into her mouth.","","The two of you fall asleep backwards in her bedroll.","*page_break","*goto_scene juliette","","*label turnover","You pull out of Tamara's mouth and gently twist her body at the shoulders to turn her over. She understands what you want and helps you turn her until she's lying on her belly, head and torso raised on her elbows.","*choice","\t#Lift her hips, push her head down, and do her doggie style.","\t\t*goto doggie","\t#Lay on top of her.","\t\t*goto rearentry","\t","*label doggie","*achieve doggie","You slide your body on top of Tamara's, and she lets her arms collapse, resting her head on her hands. You then move her arms down by her sides and put one hand on her neck, holding her head against the ground. You use your legs to spread her legs apart and feel her sex with your other hand, finding it soft and very wet, aching to be entered. You slide your hand further under her until it's on her mound, and you pull up gently. Tamara again understands what you mean and rises to her knees, her head still held against the ground. You release her, but she stays, head resting on the ground, arms by her sides.","","You spread her cheeks apart and let the tip of your member touch her sex, feel its wetness, how much she wants you. Without even using your hands, you keep her spread wide as your member maneuvers its way into her. It goes in part way, and then you can shift your body and slide it in all the way, making Tamara moan. You pick up her arms and cross them behind her back, holding onto each wrist, and you begin to fuck her, now completely helpless. Each thrust pushes her head against the earth, but she trusts you, allows you to keep holding her wrists. She moans half in pleasure, half because she feels out of control, but that's a pleasure too.","","As the pleasure builds in your body, you want to slam her harder, so you release her wrists and take hold of her hips. She puts her hands down, but keeps her face on the ground. Slam, slam, slam! The forest echoes with the sound of flesh against flesh intermingled with Tamara's cries of pleasure as you pound her from behind.","*page_break","*achieve twotimes","Ecstasy builds in you to nearly unbearable levels, holds there for an excruciating moment, then spills over into orgasm. You cry out and fall upon her, flattening her against the earth, but still you pound her, your cock thrusting again and again between her cheeks.","","Then Tamara begins to cry out too, having an orgasm of her own, and you feel her body struggling beneath you against your weight. She tries to push herself up but cannot, and your thrusts push her back into the ground, the two of you becoming as a single writhing mass of limbs and ecstasy.","","At long last, the orgasmic spasms finally wane, and you collapse on top of her, both your chests heaving as you breathe heavily together into the earth by her face. The two of you stay like this a long time, enjoying the intimacy, and you kiss her on the cheek and neck.","","\"That was wonderful,\" Tamara says. \"No man has ever made me feel so completely owned by him as you just did.\"","","The two of you turn onto your sides, you still inside and behind her, falling asleep still conjoined.","*page_break","*goto_scene juliette","","*label rearentry","You slide your body on top of Tamara's, and she lets her arms collapse, resting her head on her hands. You slip your arms under hers into a loose full-nelson, and your cock slips between her cheeks. Even though you're not even inside her yet, just being enclosed by soft warm flesh is already wonderful.","","Slowly you move your body down, sliding your cock down her crack until it falls into the space between her legs. Hands still on her head, you use your knees to force her legs further apart, and you move your body to help your cock find its way into her slippery hole. You push a few times before it finally slides in, and you move back up her body until it's fully inside her. ","","You slip your hands under her, and she raises herself up to let you cup her breasts. You hold them, fondling them gently as you begin thrusting in and out of her without any hurry. ","*choice","\t#Stay in this position.","\t\t*goto rear2","\t#Turn her on her side.","\t\t*goto siderear","\t","*label rear2","With each thrust you pull Tamara gently upward, arching her back, all the while still cupping her breasts. As the pleasure builds in your body, your hands become more active, squeezing her breasts, pulling on them, and rotating them in large circles.","","\"Ooohh, squeeze them a little harder, please,\" Tamara says, exhaling pleasureably when you do so. You take her just to the point where the pressure pleases her but not beyond.","","The pleasure in your body increases even further, making you desperate for release. Unable to focus on her breasts now, you snake one arm around her throat, pulling to arch her back further, allowing you to pump her faster and harder than before. You hear Tamara's breathing, already quick and deep from her arousal, now forcing itself through her constricted throat, but you can tell by the way she's moving her body and the sounds she's making that she likes it. ","*label rear2.2","*page_break","*achieve twotimes","You're humping in broad, powerful strokes now, pushing hard each time against the cushion of her buttocks. It lets you pound with abandon, and Tamara even spreads her legs and arches her back further to give you greater access. Neither of you have any need to hold anything back, and Tamara begins to cry out and thrash about as her orgasm begins. ","","This summons your own from deep within like a siren calling seamen to their doom. You explode inside her as the two of you cry out in unison, ecstasy reaching excruciating heights before crashing down into the oblivion of bliss. Her spasms relax, and your release is complete with a few final, longing thrusts, ejecting the last of your seed into her.","","You lay on top of her, both your chests heaving as you breathe heavily together into the earth by her face. The two of you stay like this a long time, enjoying the intimacy, and you kiss her on the cheek and neck.","","\"That was wonderful,\" Tamara says. \"No man has ever made me feel so completely owned by him as you just did.\"","","The two of you turn onto your sides, you still inside and behind her, falling asleep still conjoined.","*page_break","*goto_scene juliette","","*label siderear","You lay on top of Tamara and, still cupping her breasts, roll to one side, taking her with you so that she's laying on her side too with you behind her. You enfold her in your arms, your left hand on her right breast now and vice versa as you resume your unhurried thrusting.","","Tamara bends her top leg at the knee, spreading her legs a little and allowing her to touch herself with her fingers. You feel her make broad circles on her clitoris which pulls her outer lips against first one side of you, then the other. She reaches down and touches you, her fingers playing over your scrotum and shaft, stimulating you and making you want to go faster. Tamara sighs, the pleasure building in her body too.","*choice","\t#Put her on her stomach again to finish inside her from behind.","\t\t*goto finishbehind","\t#Roll on your back, Tamara lying on top of you.","\t\t*goto behindbelow","\t","*label finishbehind","Soon, you can take no more. You roll to get on top of Tamara again, and she cries out in surprise as you flatten her again, pressing down on her body with both hands. Holding yourself up like this, you're able to thrust in and out of her by bucking your hips.","*goto rear2.2","","*label behindbelow","Squeezing Tamara tighter to keep her body locked to yours, you roll onto your back, bringing her with you. You release her now, your hands free to rove over her entire torso.","","\"We are like the first couple,\" Tamara says. \"Under the stars.\"","","Through the canopy of leaves, on this clear night, the two of you watch the wheeling heavens. You hands move from her breasts to between her legs, and you spread her legs as wide as they'll go with your legs, giving you unfettered access to her sex, still filled with yours. ","","You slowly move in and out of her, your fingers touching all around the filled opening. You rub her clitoris in a slow circle in rhythm to your thrusts, gradually building the pleasure in her body, making her sigh and arch her back. Her hands grasp at your forearms or what part of her body she can reach below her.","","\"I need it bad,\" she whispers.","*page_break","*achieve twotimes","You bring your hands back to her torso, holding her body tight to yours, sometimes wrapped around to the opposite breast, on her throat, or pressing into her stomach. This enables you to increase the speed of your thrusts, and Tamara reaches between her legs to work her clitoris while you pump her below. She begins to jerk and cry out as she nears orgasm, and her voice echoes in the treetops when she finally spills over into a writhing, bucking climax.","","You hold her fast to your body, weathering the storm, and though you're close, the lack of freedom of movement wasn't quite enough to take you there. Finally, Tamara's spasms subside, and her body relaxes on top of yours. You cup her breasts again, feeling her chest heaving under them.","*page_break","\"I will finish you now,\" Tamara says. \"I'm going to make your spurt reach my chest, maybe even my face.\"","","You stop your thrusts, relax, and feel her fingers upon your manhood, still thrust inside her. She begins to make slow circles over your frenelum, rubbing, rubbing. The pleasure builds in you, making you shift and hold her tighter.","","Tamara shifts her body to ease you out of her, and you feel her wet softness rub against the back of your shaft's head. She moves her pelvis rhythmically, her clit and lips moving over your head's rim again and again, all the while the circles on your frenelum never stopping.","*page_break","Orgasmic energy fills your entire shaft, making it even harder, and it even bends slightly with its fullness reaching a fever pitch. The quivering pleasure holds there a moment before exploding, shooting your seed upward. Globs of it arch through the air with each pulsing spasm, Tamara's circles never ceasing, sending you to new heights with each one. Your seed splatters on her stomach, chest, cheeks, forehead, and lips. She takes it into her mouth with her tongue.","","Waning now but still flowing, your seed oozes down your shaft, both over her fingers and onto her mound, where it continues down between the two of you, covering her pussy. Tamara runs her fingers up and down your shaft, spreading the seed. She pushes her fingers into herself to push it inside her. She rubs it over her lips and into her folds.","","Finally spent, your shaft begins to soften, nestled between Tamara's legs. She runs her hands up her body, rubbing your seed into her skin wherever it landed. She runs her hands over her mound, stomach, and finally her chest, smoothing it into the flesh of her tits.","*page_break","At long last, she slides off you, and turns around to envelope your body with hers. You feel her breasts, slick with sweat and cum, against your chest, and one leg snakes over yours. You feel her sex hot and moist on your hip. She lays her head on your shoulder, globs of your seed still on her face, but she doesn't care. Idly she rubs at them and puts her fingers in her mouth.","","Sleep comes to both of you at some point, but you don't remember exactly when.","*page_break","*goto_scene juliette","","*label comeface","You slip your member into her mouth, and holding her head to keep it in position, begin to thrust in and out. Tamara glances up at you from time to time with her warm, dark eyes. It's so soft inside her mouth, just like a pussy, but by pushing in different directions there are other sensations. You thrust against the firmness of the roof of her mouth or down into the squishiness of her tongue, all this bringing you closer and closer to orgasm.","","Finally, when you're ready, you pull out and begin masturbating at a furious pace with one hand, the other still holding her head in position. Tamara realizes what you're doing but doesn't turn away. She closes her eyes but parts her lips slightly, wanting to take in your seed.","","Her fingers begin to play over your balls, and this sends you over the edge. Hot cum spurts first onto her cheek, then forehead, hair, and finally mouth. You push into her mouth and shoot some down her throat, pull out, and press your member against her face, rubbing your seed into it.","","\"Give me your tongue,\" you say, and Tamara begins to lick your shaft, letting you rub it all over its wet writhing softness.","*page_break","*achieve comeface","When finally you've exhausted all orgasmic energy in your loins, you lay beside Tamara, and she rests her head on your stomach, hugging your leg. You feel your thigh nestle between her breasts, and she wraps her leg around yours. You feel her sex against you knee, still hot and moist.","","Sleep comes to both of you at some point, but you don't remember exactly when.","*page_break","*goto_scene juliette","","*label comeface69","You fuck Tamara's face, the pleasure building and building, and you speed up, able to keep your cock from ever pushing too far and making her choke. Tamara's body doesn't even tense, her trust in your skill complete.","","Finally, you pull out and mash your cock on her face just as you begin to explode. You can't tell where your cum is going exactly, but you feel it spilling all over between you. It's running down her cheeks and into her hair. You're pressing in along the edge of her nose, scraping it over her lips and eyes, mashing your scrotum on her forehead.","","All the while, Tamara's holding you close with her hands and seems to actually like it. At long last, the spurting stops, but some orgasmic energy remains. You press your cock hard against her face a few more times, squeezing the last drops from it before rolling off her.","*page_break","*achieve comeface2","Tamara lies on her back, face covered in come, for awhile, recovering her bearings. She turns and crawls down your body until she can rest her head on your thigh, and she spreads her legs so you can rest your head on hers, lying in a sideway 69. You fall asleep with Tamara's pussy before your face, her head between your legs.","*page_break","*goto_scene juliette","","*label 69","You push in and out of Tamara's mouth a few times as she looks up at you with her soft, dark eyes. Then you move so that your legs are above her head, and Tamara turns her head and lifts her chin to keep you in her mouth, your cock twisting inside it. You lay down on top of her and begin to probe her sex with your tongue. Meanwhile, she begins to suck your cock, and you feel her tongue squirming around inside her mouth. As the pleasure builds in your body, you begin to go faster, increasing the pleasure in her body which in turn makes her go faster. It's a difficult angle, but she's able to take you in and out of her mouth to some degree, her ministrations growing more frantic as time goes on. You hands claw at her flesh, and you reach under her legs and desperately squeeze her buttocks. One finger even slips inside her rear hole, but she doesn't seem to mind, even likes it. You alternate between a wild dabbing at her clitoris with your tongue to running your tongue and lips up and down her pussy lips, smearing your face with her wetness. You jam your face deep in her crotch and plunge your tongue into her as far as it can go. You take her entire clitoral area into your mouth, suck hard, and smash her bits back down with your tongue again and again, bobbing your whole head to do it, almost as if fucking. ","*page_break","*achieve sixtynine","*achieve twotimes","*set deepthroat true","This drives her over the edge, and her whole body spasms beneath you. She cries out, your cocks still in her mouth, but somehow she retains the self-control not to bite down. She continues to moan, open-mouthed, your cock in her, and suddenly, she grabs your hips and thrusts your cock down her throat, cutting off her own cries. She takes you deep within, and it's extraordinarily tight, causing you to explode immediately, shooting you seed straight into her stomach. Despite her choking sounds, you're able to thrust again and again down her throat, sending your body into paroxyms of ecstasy you've never known before. Tamara's tongue thrashes wildly, stimulating you even more, and her own body continues its bucking and thrashing in the throes of its own orgasm.","","Finally, as both your spasms are finally waning, she can take no more and pulls you from her throat, her chest heaving hugely in rapid succession beneath you. You roll off her to give her more air, and she lies next to you on her back, panting deeply, hand between her legs, squeezing hard in the final convulsions of her orgasm. ","","Your own final spurts ooze onto her cheek as you press your cock against her face before relaxing into post-coital bliss. Tamara too doesn't move for awhile, but finally she turns her head and takes you into her mouth again, sucking what seed remains in your now soft member. You turn toward her and envelop her head with your legs to keep your cock inside her longer. You rest your head on her thigh, and she in turn envelopes your head, you face pressed against her hot, moist sex.","","Sleep comes to both of you at some point, but you don't remember exactly when.","*page_break","*goto_scene juliette","","*label pound","*achieve pound","As the pleasure builds in your body, you begin to need more. You start to thrust in and out more strongly until you're pounding Tamara's body beneath you. Tamara lifts her legs, holding them to either side to spread her legs wider, giving you free access to her sex. She begins to moan and reaches down between your bodies to clutch at her sex, stimulating herself even more, and sometimes her fingers brush against your thrusting cock, doing the same for you. She watches with fascination the pounding between her legs, and you watch her boobs bouncing in step with your incessant rhythm.","","Tamara gasps and claws at your back, then desperately clutches at your ass, brought close to orgasm and needing it badly. You're close too and increase your pace to as fast and hard as you can possibly go, and Tamara stays right with you in perfect synchronicity. You won't be able to maintain it for very long, but luckily you feel the orgasmic pressure building, ready to burst. You and Tamara cry out simultaneously as you both finally explode. Your hot cum shoots deep inside her again and again, each time sending you to new heights of orgasmic ecstasy. Tamara's body bucks and writhes violently beneath you, and she pushes her pelvis into yours again and again, pressing her feet on the ground.","","Finally her convulsions begin to wane, and her legs fall apart to either side as her body relaxes. She kisses your neck tenderly as her hands caress your back, thanking you for the pleasure you've just given. Slowly, she regains full composure and entwines her legs with yours, holding you close like she never wants to let you go.","","Sleep comes to both of you at some point, but you don't remember exactly when.","*page_break","*goto_scene juliette","","*label justkeeplistening","You hear the rhythmic sound getting faster, and something's scraping Tamara's blanket again and again under the covers. You hear her body shifting from time to time, and then soft moans. ","","Dammit! Why did you just happen to be facing the other way when all this began??? You fight the urge to roll over and have a look.","","\"Are you awake?\" Tamara whispers, her voice strained.","*choice","\t#\"Um, yeah, why?\"","\t\t*goto rethink","\t#Leap up and join her in her bedroll.","\t\t*goto leapjoin","\t#Continue pretending to sleep.","\t\t*goto pretendsleep3","\t","*label leapjoin","You're by Tamara's sleeping area in an instant and already starting to lift the blanket off her. If you could move this fast in combat, you'd be unbeatable!","","\"Whoa, WHOA!\" Tamara cries, pulling the blanket back over herself, but not before you catch a glimpse of her sword between her legs, its pommel buried deep inside her. \"I just asked if you were awake, not for you to pounce on me. Geez!\"","","\"Come on,\" you say. \"We both know why you asked me that.\" Your lust is already fully aroused, and it's hard to sit still.","","\"True,\" Tamara says, \"But we've got this master-apprentice relationship going on. This must not mess that up.\"","*choice","\t#Reassure her it won't.","\t\t*goto reassure","\t#Lift the blanket.","\t\t*goto liftblanket","\t","*label reassure","It might be the right thing to do, but going against your own instincts lowers your self-esteem slightly.","","*gosub_scene adj_esteem -10","","\"It better not,\" Tamara says, \"But if it does... if you do ANYTHING disrespectful, anything at all, well, we'll have to do something. How about a MAJOR punishment?\"","","She stops and thinks a moment, and you can't help but notice the blanket moving a bit around her crotch area.","","Finally, she comes up with:","*label punchoice2","*choice","\t*hide_reuse #Castration.","\t\t\"Be serious,\" Tamara says. \"What punishment do you really choose?\"","\t\t*goto punchoice2","\t*hide_reuse #Forfeiture of all your possessions to her including your clothes.","\t\t\"On second thought, that won't work,\" Tamara says. \"What punishment do you really choose?\"","\t\t*goto punchoice2","\t*hide_reuse #Put a giant beetle up your butt.","\t\t\"No way would you really do that,\" Tamara says. \"What punishment do you really choose?\"","\t\t*goto punchoice2","\t#Become her personal slave.","\t\t\"That's what I was thinking too,\" Tamara says. \"Is it a deal then?\"","\t\t*choice","\t\t\t#Say yes.","\t\t\t\t*goto slavery2","\t\t\t#Say no.","\t\t\t\t*goto noslavery4","\t\t\t","*label slavery2","\"Good,\" Tamara says, almost giggling. \"Well, now that we have a deal, aren't you going to unwrap your present?\"","","You lift the blanket from her body, and you see that she's hiked her nightshirt up over her breasts. Her sword is between her legs, the pommel almost entirely inside her. She slides it out until only the tip is still inside her.","","*goto phallicsword","","*label noslavery4","\"Are you sure? It might be fun being my slave,\" Tamara grins.","*choice","\t#\"Weeeell, okay then, I guess.\"","\t\t*goto slavery2","\t#Say no to slavery.","\t\t*goto noslavery5","\t","*label noslavery5","\"But it won't be all the different than being an apprentice,\" Tamara insists. \"And... sex. Don't you want to have sex with me?\" She lifts her blanket to one side, inviting you into her bedroll.","*choice","\t#\"Weeeell, okay then, I guess.\"","\t\t*goto slavery2","\t#Still say no to slavery.","\t\t*goto noslavery6","\t","*label noslavery6","\"Okay, fine,\" Tamara pouts. \"But I'm going to tell everyone you left a horny girl out in the cold.\"","","She pulls her sword out of her and puts it back in its shealth, then begins to put her boots on, her sex in plain view as she sits on her bedroll.","","*label goingforawalk","\"I'm going for a walk, you know, to let the cool night air dissipate my desire, but DO NOT follow me.\"","","She gets up, and the hem of her nightshirt falls to cover her privates. She walks off into the forest with her sword without looking back.","*choice","\t#Follow","\t\t*goto peefollow","\t#Don't follow","\t\t*goto peenofollow","","*label liftblanket","While Tamara talks, you begin to lift the blanket and see that she's hiked up her nightshirt over her boobs.","","\"This is serious!\" Tamara complains.","","\"I know,\" you say. \"Very serious.\" ","","You lift the blanket further, see the sword between her legs, and begin to reach for it to remove it from her body.","","Tamara wants to talk but is too mesmerized by what you're doing. She gasps as you pull the sword from her body and begin to climb on top of her. You never noticed it before, but Tamara's sword's ivory pommel is shaped just like a long phallus. Who knew!","","\"If this causes you to lose respect for me...\" she starts to say, but you put your finger on her lips, silencing her.","","You slide into her wet hole, already well-lubricated from her work with the pommel, and you pick up where she left off.","","For a little while, she wants to speak again but doesn't, the new sensations in her body taking precedence.","","\"Oh, apprentice...\" is all she finally manages, and you start to thrust harder, words giving way to moans.","*choice","\t#Tease her.","\t\t*goto barbknock","\t#Pound her.","\t\t*goto pound","","*label pretendsleep3","When you don't say anything, the rhythmic rustling sound resumes, along with the soft moans Tamara just can't stifle. It's driving you crazy, but you're afraid she'll stop if she knows you're awake.","*choice","\t#She's so distracted, you could probably masturbate without her knowing...","\t\t*goto secretmastur","\t#You can't stand it anymore. Tell Tamara to stop.","\t\t*goto cantstandstop","\t#Force yourself to stay quiet no matter what.","\t\t*goto forcequiet","","*label cantstandstop","\"Stop it! Stop it! Stop it!\" you cry, and all the rustling instantly stops.","","\"So you are awake,\" Tamara says, her voice strained and full of desire. \"Is it that you really want me to stop, or can I keep going if you're involved?\"","*fake_choice","\t#\"I can be involved???\"","\"Yes,\" Tamara says, an urgent lilt to her voice.","*fake_choice","\t#\"But what about needing professional distance?\"","\"Are you trying to talk me out of it???\" Tamara asks, aghast.","*choice","\t#\"Yes, I agree professional distance is important, so as much as I want to, I think we should just not do it.\"","\t\t*goto prodist","\t#Get involved.","\t\tYou decide you definitely would like to be involved in Tamara's night-time activities and crawl over to her bedroll.","\t\t","\t\t*goto involved","\t","*label prodist","You fight against raging hormones to turn down something you desperately want. ","*gosub_scene adj_esteem -10","","Tamara sighs, sits up and starts putting on her boots. She's sitting on her bedroll, knees bent, legs parted slightly, and you can't help but get a clear view of her sex.","*choice","\t#Lose control.","\t\t*goto losecontrol","\t#Ask her where she's going.","\t\t*goto wherego","\t#Tear your eyes away.","\t\t*goto teareyes","\t","*label losecontrol","It's too much. All the teasing earlier, then having to listen to her masturbating, and now this... You may have prodigious will power, but even you have limits. You get up and approach Tamara, who stops what she's doing and looks up at you.","*choice","\t#Charge and tackle her.","\t\t*goto tackle","\t#Ask if you can join her on her walk.","\t\t*goto walk","\t#Gently lay her down and put your cock in her pussy.","\t\t*goto gentlelaydown","\t","*label tackle","Your lust has been like a pot of furiously boiling water for the past half-hour, and finally, it explodes. You charge at Tamara and tackle her, making her half-tied boot fly off her foot. She screams in surprise, but even before her body hits the ground, she's already reaching between your legs to guide you cock into her. You land on top of her, the force of gravity causing your cock to sink fully into her with great speed and force, causing Tamara to cry out in ecstasy. She lays back, her whole body shuddering, her head thrashing from side to side, and it just doesn't stop. ","*page_break","*achieve instanto","You have just given Tamara a one-thrust orgasm! You were close too, so when she came, you almost came. However, that would've been so unsatisfying that with great force of will, you hold back. Gradually, Tamara's shuddering, moaning, and thrashing subside.","*goto barbknockchoice","","*label walk","\"Sure,\" Tamara says, and you realize that's probably the first time you've ever heard her say anything even marginally friendly. After her boots are on, she stands up, and the hem of her nightshirt falls to cover her privates.","","The two of you walk into the forest together, the dim, orange firelight giving way to the bluish light of a half-full moon. The air is cool and crisp, and you look around, enjoying the beauty of the silent trees. Perhaps you are the first to have ever done so, this place never frequented by human beings.","","You notice that Tamara seems oblivious to her surroundings and has her hand pressed tightly between her legs while she walks.","*choice","\t#Ask her if it feels good.","\t\t\"Not really,\" Tamara says, \"But it's better than nothing... which is what you're giving me right now.\"","\t\t\t\t\t\t","\t\t*gosub_scene adj_respect -10","\t\t","\t\t*choice","\t\t\t#Give her cock.","\t\t\t\t*goto cockuse","\t\t\t#Give her tongue.","\t\t\t\t*goto tongueuse","\t#Ask her if she wants something else there.","\t\t\"I thought you'd never ask,\" Tamara says.","\t\t*choice","\t\t\t#Put your cock there.","\t\t\t\t*goto cockuse","\t\t\t#Put your tongue there.","\t\t\t\t*goto tongueuse","\t#Make it romantic. Take your time and enjoy the night air for a bit longer.","\t\t\"Why did you even come along?\" Tamara says. \"Are you going to put yourself to use or what?\"","\t\t","\t\t*gosub_scene adj_respect -10","\t\t","\t\t*choice","\t\t\t#Put your cock to use.","\t\t\t\t*goto cockuse","\t\t\t#Put your tongue to use.","\t\t\t\t*goto tongueuse","","*label cockuse","Tamara leans up against a tree when she sees you approaching, stiffening, and closing her eyes.","","You know she's ready, so without preamble, you bend at the knees and push right in, causing her to gasp.","[This option is yet to be written.]","","*label tongueuse","[This option is yet to be written.]","\"You were a big tease, you know that? Making me diddle myself alone for so long.\"","*label gentlelaydown","[This option is yet to be written.]","","*label wherego","\"Never mind where I'm going,\" Tamara says sullenly. \"I'll be back in fifteen minutes or so.\"","","She stands and walks into the forest wearing only her nightshirt, carrying her sword.","*label wheregochoice","*choice","\t#Follow.","\t\t*goto prodistfollow","\t*disable_reuse #Sleep.","\t\tYou can't sleep.","\t\t*goto wheregochoice","\t#Masturbate.","\t\tNow you can sleep, and shortly after you do, Tamara returns and goes to sleep too.","\t\t*page_break Morning","\t\t*set camp1_no_sex true","\t\t*goto_scene juliette","","*label prodistfollow","You step from the dim, orange glow of the campfire into the gloom of the dark forest lit only by a half-moon. Tamara's already nowhere to be seen, and with her silent step, you can't hear her either. You move forward in the most likely direction she's gone, and after a few steps you see Tamara, naked except for her boots, leaning against a tree, looking straight at you with come-hither eyes.","*choice","\t#Go hither.","\t\t*goto gohither","\t#Say you were just checking up on her but now that you've seen she's all right, you'll go back now.","\t\t*goto checkingup","\t","*label gohither","You approach to within five feet of Tamara, and she continues to stand silently, waiting for you, wanting you.","","You approach closer until you can feel the heat emanating from her body.","*choice","\t#Ask if it was okay that you followed her.","\t\t*goto askokayfollowed","\t#Assume she's okay with it.","\t\t*goto assumeokay","\t","*label askokayfollowed","\"Is it...\" you begin to say, but Tamara places a finger on your lips.","","\"Just for tonight,\" she whispers and draws you to her. Her flesh is so warm under your hands, and you just hold her while she strips off your night clothes.","*choice","\t#Enter her.","\t\t*goto gohitherenter","\t#Kiss her.","\t\t*goto gohitherkiss","\t#Carry her back to the fire.","\t\t*goto gohithercarry","\t","*label gohitherenter","[This option is yet to be written.]","","*label gohitherkiss","You enfold Tamara in your arms, and she returns your embrace, pressing her naked body against yours. You sex, already full with lust, presses against her body, but instead of entering her, you kiss her. She kisses you back passionately, and a hand snakes down to fondle you. She grasps your shaft firmly, she runs her palm up and down its length, and her fingers play over your balls, all the while, her tongue plunging again and again into your mouth.","*choice","\t#Keep kissing her.","\t\t*achieve soulkiss","\t\t*goto gohitherkeepkissing","\t#Enter her.","\t\t*goto gohitherenter","\t#Carry her back to the fire.","\t\t*goto gohithercarry","","*label gohitherkeepkissing","*temp unimaginable_heights false","Tamara's kisses become more and more passioniate, and she begins moaning softly as she presses herself more and more desperately against you. Sometimes her sex brushes against you, and she's so wet you feel the cold moisture on her fine hairs, knowing that just beyond lies her fiery lust. When you don't make a move to take things further, Tamara slides her body down yours, and you feel her breasts move down your entire body. Her tongue touches you too on her descent, sending you into paroxyms of pleasure. She reaches her knees, and still pressing her body against yours, gently kisses your cock. She kisses it again in a different place, then dabs at it in just the right place with the very tip of her tongue. It's driving you crazy with desire.","*choice","\t#Force yourself to hold back and just enjoy what she's doing.","\t\t*goto forceenjoy","\t#Give in to your desires and make her suck it.","\t\t*goto givesuck","\t#Give in to your desires and take her from behind.","\t\t*goto desirebehind","\t","*label forceenjoy","*set unimaginable_heights true","All you want to do is grab her and use her body for pleasure. Her mouth. Her pussy. It doesn't matter as long as you thrust into her soft warm wetness, but you hold back, your whole body literally shaking with suppressed desire. Your hands want to clutch and grasp at her head and your hips to thrust, but no, all there is is Tamara's maddeningly gentle touch, slow kisses. Each time her lips or the tip of her tongue touch you, the fire, seemingly already at its peak, flares to even more unimaginable heights. Finally, you can't take it anymore:","*choice","\t#Give in to your desires and make her suck it.","\t\t*goto givesuck","\t#Give in to your desires and take her from behind.","\t\t*goto desirebehind","","*label givesuck","Though you want to throw Tamara down and jump on her, you force yourself to move slow and sensually as you gently move the hair from her face. She looks up at you soulfully as you run your hands over her hair, gently tilting her head to place your cock in her mouth. She willingly takes you into her and lovingly bobs her head a few times until you, already fully erect, are even harder still.","","Lingeringly she removes her mouth from you and holds you close, her arms wrapped around your lower body, face pressed against your stomach. Your cock presses against her throat, and you can feel her breasts against your thighs. ","*fake_choice","\t#Wonder what she's doing.","Tamara then slides her body upward, and you feel the incredible softness of her breasts move over your aching member. She arches her back as she continues until she's bent over completely backwards, her hands on the ground over her head.","*fake_choice","\t#Enter her.","You know what she wants. Gingerly you ease between her legs, careful not to upset her balance, and she spreads her legs the best she can. You slide in easily, and Tamara moans, almost collapsing from the pleasure but rallies. Her legs wrap around you, her feet now off the ground, and by grasping her hips, you're able to thrust in and out of her with ease. Each time you do, Tamara's whole body flexes, her back arching even further, and it acts like a spring. With each thrust, her breasts buoy out, and you watch them, mesmerized, as you plough her again and again. Your thrusts are so enthusiastic that it drives her backwards towards the tree, and soon her chest is against the trunk, her nipples brushing against the smooth bark with each stroke. She wraps her arms around the tree, then, in an upside-down embrace, and you can fuck her with abandon. If you drive too far forward, her back bows, and if you step back a bit, her hold on the tree stabilizes you, all the while, her body upside-down and bent backwards. You're about to come.","*choice","\t#Keep pounding her.","\t\t*goto backtreepound","\t#Watch your come run down her body.","\t\t*goto comerun","\t","*label backtreepound","*achieve rtreespring","As the pleasure builds in her body, Tamara can no longer maintain her hold on the tree. She lets go, and a final thrust by you splatters her onto the ground. She lays there and spreads her legs wider in silent request for you to get back in her and finish her off. You fall upon her and oblige, plunging in once again and ramming her hard again and again into the soft earth.","","Tamara's chest heaves with unbearable passion, and soon she's screaming as waves of orgasmic pleasure wash over her body. You explode inside her, your cries joining hers until finally the spasms subside, and the two of you are lying breathless, limbs all atangle.","*page_break","*label pcbliss","The two of you lie together for a long while, enjoying the post-coital bliss, and the heat of the exertion and each other's bodies keep you warm despite the cool night air. It's pleasant in fact, and you wish you could lie there with Tamara forever.","","Finally, Tamara stirs and gently pulls her body off you, your member, spent and satisfied, slipping from her equally satisfied hole.","","She stands, still completely naked except for her boots, and you enjoy the view from below.","","\"Come,\" she says, offering her hand, and the two of you return to camp, holding hands.","","*label manwoman","\"Sleep with me tonight,\" Tamara says. \"It's okay. We may be master and apprentice tomorrow, but tonight we're just a man and woman.\"","","You cozy up with Tamara in her bedroll, neither of you needing to put your clothes back on. Sleep comes quickly.","*page_break Morning","*goto_scene juliette","","*label comerun","*achieve cumriver","Just before you come, you pull out and press the front of your shaft into Tamara's wet softness, and you thrust against her clitoris, building the pleasure in your body. You feel it rise, watching the way she clings to the tree, the way her back arches, and the way her legs spread for you. You explode, and your first shot reaches the tree, flowing down to her face, neck, and hair. Your second hits her right breast. Your third and fourth are inside her, for you needed to feel her soft warmth enclose you and to shoot within it. There is still much come in your for the fifth and beyond, which flow in rivulets down from her mound, over her stomach, between her breasts, and finally to her throat and then hair.","","For your last drops, you push inside her again to let her love muscles squeeze you dry. Her body collapses to the ground, and you go down with her, managing to stay inside despite the flagging erection.","","Tamara lies under you, smoothing your cum into her skin, and sometimes she licks her fingers. ","","\"There's enough here to father a whole army,\" she laughs.","*page_break","*goto pcbliss","","*label desirebehind","When finally your lust is boiling within you, a veritable frenzy of desire, you can take no more. You grab Tamara under each armpit and hoist her to her feet. You turn her around and roughly bend her over at the waist, making her gasp with surprise, but once bent over, she spreads her legs for you. She made you so hard, your member is like a spear when it penetrates her, and she cries out in pleasure. You begin to fuck her hard, driving her forward, but she keeps her body bent over for you as she's forced to take steps to keep her balance. Eventually, she reaches the tree, and with her back against it, her body becomes like a spring, cushioning the force of each powerful thrust. ","*page_break","*achieve treespring","Tamara's so wet with desire that she easily takes all you can give, and you pound her with abandon, each thrust sending the both of you higher and higher toward orgasmic bliss. Your bodies smack into each other again and again, and soon, Tamara, bent in half, body crushed against the tree, is crying out in ecstasy. You explode inside her, hot cum filling her. You slip out momentarily, and cum splatters over her breasts and face below you before you can re-enter. Her cries of pleasure mix with yours as you keep pounding her, each spasm rocking your body like your powerful thrusts rock hers.","","Your orgasms reach crescendo, and you're still pushing into her while Tamara's body is starting to collapse into the relaxation of post-coital bliss. She manages to move to one side of the tree and falls to her knees, and you fall upon her, still inside her, crushing her to the ground. Your last spasms are with you on top, pushing mightily between her two soft cheeks, pressing her body into the soft earth. Finally, you collapse too and lay upon her, utterly relaxed and content.","*page_break","The two of you lay like this for a long time, you inside her from behind, and Tamara seems happy to let you stay in her for as long as you desire. Finally, you withdraw your member, now flaccid and spent, and Tamara rolls over languidly to smile up at you. You pick her up, throw her over your shoulder, and carry her back to camp. She squeals at first, laughs, and tries to escape, but eventually she gives in and lets you. ","","You lay her on her bedroll, and as she climbs in, she pulls you in with her. ","*goto manwoman","","*label gohithercarry","With one smooth motion, you sweep Tamara off her feet, and though she lets out a little scream of surprise, she quickly nestles into your arms. You begin to carry her back to camp, but after a little while, Tamara puts her leg over your shoulder. She then climbs up your body until she's straddling your face. You're carrying her on your shoulders now but backwards so that you can't see. She presses her sex right into your face, and you find she's already very wet. ","","She starts to buck and kick as if riding a horse, and you realize that she's sending you signals with her body. When she kicks lightly and you start to walk, she moans softly and relaxes, letting you know it's what she wanted. She moves her pussy slightly left and right, and you turn in that direction to get her feminine goodness back in front of you where you like it. With these silent signals, she guides you all the way back to camp, you unable to see anything the whole way.","","Just before entering camp, you pass under a low branch, and Tamara seemed to have planned it. She grabs onto it, and hanging there, leans back so that she can angle her pussy at your mouth.","","\"Eat me,\" she pleads. \"Make me come hanging here!\"","*page_break","Already her pussy is pressing against your face, so you hardly have to open your mouth before your tongue is upon it. Just like before, with little movements of her body, she's able to guide you to exactly where she wants and do exactly what she needs at that moment. Because of this, you have her approaching orgasm in very short order, and she starts to buck with her whole body, throwing you left, right, back, and forward. She starts to lose control, pulling you in hard with her legs, then bucking and pushing you back, but all the while you keep your tongue working her wherever she places you. She's screaming and moaning, the tree's leaves shuddering violently each time she thrashes as the limb bounces up and down, and when finally she spills over into orgasm, she can hold on no longer.","","She clamps her legs around you as her body falls, and it makes you fall forward. Oblivious, she just continues to cry out in the throes of pleasure, as she lands, actually quite gently, on her stomach, while you go bowling over her. Desperate to maintain contact, she keeps your head locked between her legs, and after you land, she lets the momentum carry her until she's on top of you, her pussy still pressing against your mouth.","","\"Don't stop, don't stop!\" she cries, breathlessly. ","","She starts to hump your face, her need so unbearable, crying out in ecstasy with each thrust of her hips. It's like she's still riding a horse but using it, or rather you, for far more than just transportation.","*page_break","Finally, the spasms and cries begin to die down, and she stops bucking. She looks down at you and smiles gratefully. ","","\"I like horses,\" she says.","","You'd answer except you still have a mouth full of pussy. She bounces a few more times just for fun, then \"dismounts.\" ","*fake_choice","\t#Ask if you get a turn to ride.","\t#Worry that you won't get a turn.","\"Well,\" Tamara says. \"I guess the damage has already been done, huh? If you can ride me without letting me throw you off, then you can have your way with me.\"","*fake_choice","\t#\"Really?!?\"","\"Yup,\" Tamara says. \"That orgasm I just had was great, but I do like to be filled... However! Tomorrow, if you ever lose apprentice-level respect because of this, you will need to be punished. Big time.\"","*fake_choice","\t#\"How?\"","*label punchoice3","\"Hmmm...\" Tamara muses. \"How about...\"","*choice","\t*hide_reuse #Castration.","\t\t\"Be serious,\" Tamara says. \"What punishment do you really choose?\"","\t\t*goto punchoice3","\t*hide_reuse #Forfeiture of all your possessions to her including your clothes.","\t\t\"On second thought, that won't work,\" Tamara says. \"What punishment do you really choose?\"","\t\t*goto punchoice3","\t*hide_reuse #Put a giant beetle up your butt.","\t\t\"No way would you really do that,\" Tamara says. \"What punishment do you really choose?\"","\t\t*goto punchoice3","\t#Become her personal slave.","\t\t\"That's what I was thinking too,\" Tamara says. \"Is it a deal then?\"","\t\t*choice","\t\t\t#Say yes.","\t\t\t\t*goto horseslavery","\t\t\t#Say no.","\t\t\t\t*goto horsenoslavery","\t\t\t","*label horseslavery","\"Good,\" Tamara says. \"Now tonight, I'm a wild, unbroken mare. Come break me!\"","","She gets on her hands and knees, waiting for you to mount.","*fake_choice","\t#Mount.","You can't. After all the talking and then the talk about castration, you're not hard anymore.","","\"The horse needs to bring from her trough,\" Tamara says, turning around and crawling over to you, still on all fours.","","Without using her hands (because now they're hooves), she bends her head to take your member into her mouth and starts sucking on it and swirling her tongue. It only takes a second or so before you're hard again.","*choice","\t#Don't do anything. Just let her keep going.","\t\t*goto moreheadplease","\t#Time to mount up!","\t\tRelucantly you pull out of Tamara's mouth and move around behind her. ","\t\t*goto mountup","\t","*label moreheadplease","You want to mount up, but what Tamara's doing feels so good you can't make yourself make her stop. Tamara obliges you for a little while, starting to bob her head, but after a little bit, she turns around and pushes her rearend against you.","","\"Time to break this mare,\" she says.","","*label mountup","On your knees, you push in her.","","\"You better hang on,\" Tamara says. \"I'm unbroken.\"","","Just as you start to grab her hips, she suddenly starts to crawl away from you as fast as she can.","*choice","\t#Leap after her and crush her to the ground under you.","\t\t*goto leapcrush","\t#Hold her with your hands to keep her from getting away.","\t\t*goto holdcrawl","\t","*label leapcrush","With a prodigious spring, you manage, against all odds, to stay inside her, but the only way to keep her from getting away is to let the full force of your weight crush Tamara to the ground. She's a trained warrior, so she should be all right physically. However, you worry she might get upset, but well, it WAS her idea to play the horse-breaking game.","","Tamara laughs as you land on top of her. She likes it! ","*choice","\t#Grab her hips, hold on tight, and start ploughing.","\t\t*goto hipplough","\t#Get her in a full-nelson.","\t\t*goto fullnelson","\t","*label hipplough","You only manage a few thrusts before Tamara's on all fours again and struggling to escape. You just keep ploughing away, and it's only when she almost gets to her feet that you have to slam her back to the ground again. She lands on her side, and to stay in her, you must fall on your side as well. She starts thrashing with her legs, and you nearly fly out of her, only able to stay inside by throwing your leg over hers to hold them in place. You can't thrust much anymore, but Tamara's bucking and squirming provides stimulation enough. You feel the pleasure build in you and are about to come.","*choice","\t#Let yourself come.","\t\t*goto strugglecome2","\t#Roll on top of her. For a brief moment, she'll have a greater chance to escape, but afterwards, you'll have the advantage.","\t\t*goto horseroll","\t","*label horseroll","What is your strategy?","*choice","\t#Push in as deep as you can and pick the right moment.","\t\t*goto pickmoment","\t#Just do it as soon as possible.","\t\t*goto assoon","\t","*label pickmoment","*temp sidehold_str 1","*comment 0=weak, 1=medium, 2=strong","You push inside Tamara as deep as you can and hold her there, and then, just after she makes an extra strong thrash, you make your move. Unfortunately, Tamara seemed to anticipate this. (Perhaps she's played this game before???) Just as you lift your leg's hold on her, she scrambles away with her legs, and your member pops out of her. She spins and manages to get on top of you, sideways, pressing her chest into yours to pin you to the ground. Her pussy is now fully out of reach.","","\"Ha! Ha!\" she cries. \"The filly got away, and now the stallion gets no dinner.\"","","Your cock lies ineffectually on your belly, shrinking, cooling in the breeze, and you're filled with the desperate need to get back inside Tamara as soon as possible.","*choice","\t#Get out from under her and effect a reversal.","\t\t*goto reversal","\t#Move your lower body toward hers and try to catch one of her legs with yours.","\t\t*goto legcap","\t#Reach between her legs and put a finger inside her.","\t\t*goto fingerin","\t\t","*label reversal","*set sidehold_str 2","Tamara feels you trying to escape and snakes her arms around you into a devious hold. One arm is wrapped around your neck, and the other goes between your legs and hangs onto your far hip. Thus she's able to keep her body pressed against yours, and it'd take a mighty struggle before you could escape. However, her naked breasts do feel quite nice on you, and your cock likes being at least somewhat near female flesh again, even if it's only her tricep.","*label reversalchoice","*choice","\t#Struggle mightily.","\t\t*goto mightystruggle","\t*disable_reuse #Fuck her tricep.","\t\t*goto tricep","\t#Move your lower body toward hers and try to catch one of her legs with yours.","\t\t*goto legcap","\t#Reach between her legs and put a finger inside her.","\t\t*goto fingerin","","*label mightystruggle","*if sidehold_str = 2","\tYou're stronger than Tamara, so your thrashing creates considerable space between your bodies, which normally, you'd be able to take advantage of. However, Tamara seems to have had training in groundfighting and is able to move with you and use her weight rather than strength to resist you. You're beginning to tire, and your erection is gone.","\t","\tTamara glances down at it and says, \"Well, I guess you don't want me anymore, so you can go to bed?\" ","\t","\tNothing could be further from the truth.","\t*page_break","\tTamara laughs. \"Just kidding,\" she says. \"The mare got away, so though you can't have your way with her, she can still have her way with you. Do you want it?\"","\t*fake_choice","\t\t#\"YES!!!\"","\t\"The mare says, 'lie down,'\" Tamara says.","\t*fake_choice","\t\t#Lie down.","\tTamara slides over until she's on top of you, pivoting on her chest, giving you the exquisite pleasure of feeling her breasts rotate on your chest. She then slides up your body until you're face-to-face, her sex right above your sex. Her breath is hot on your neck, and you're hard again.","","\t*goto marewants","*else","\t*comment sidehold_str = 0 (or 1?)","\tYou thrash wildly, not giving Tamara a chance to recover, and her body slips from atop yours.","\t","\t\"Damn you, distracting me with your man meat!\" she cries.","\t","\tYou push one arm straight between her boobs, breaking her hold, and she falls, boobs-first, onto the ground. You push her head down into the ground as well, enabling you to turn onto your stomach, now totally free.","\t","\tUnfortunately, you've gone totally soft.","\t*choice","\t\t#Mount her anyway.","\t\t\t*goto mountsoft","\t\t#Ask if the mare needs another drink from the trough.","\t\t\t*goto troughdrink","\t\t","*label mountsoft","You keep her head pressed into the earth as you move around her body to lie on top of her. ","","Tamara feels your soft member between her cheeks and says, \"Mare breaking attempt part two... if you can.\"","","She starts to struggle again, trying to rise to her knees and throw you off.","","Your dick, nestled between her soft cheeks, quickly gets hard from all the movement.","*choice","\t#Put it in her.","\t\t*goto mareparttwo","\t#See if it'll go in by itself.","\t\t*goto goinbyself","\t","*label mareparttwo","\"You can't break the mare unless you're inside her,\" Tamara says.","","She stops struggling and spreads her legs, and you lift off her to look down and insert yourself. She rises onto her knees, legs still spread wide, her head and chest still pressed onto the ground. As you try to enter, Tamara shifts slightly left to right, thwarting you, and she giggles. ","","\"Aim it!\" she cries.","","You anticipate her movement and thrust fast and hard where you predict her pussy will be, and you timed it right. You penetrate her like a spear, and she cries out in pleasure. However, she instantly throws her body forward, and you pop out again. ","","\"Mare: two. Horsebreaker: zeee...\" she begins to say, but you fall upon her and thrust inside again. \"Ooohhh!\" Tamara cries in both surprise and pleasure.","*page_break","You start to thrust in and out, and Tamara doesn't move. You wonder if something's wrong. Is she hurt?","","\"It feels too good,\" Tamara laughs. \"The mare is almost taking to the rider.\"","","She starts to struggle again, but it's half-hearted and easy to thwart. She struggles to her knees again and again, but you throw her down each time, all the while maintaining your incessant thrusting that slowly bring the both of you to the brink.","*page_break","\"You...\" Tamara manages, her breaths fast and shallow. \"You win....\" She begins to moan as orgasmic pleasure overtakes her. Her body continues to struggle beneath you, but now it's the throes of pleasure instead of attempts to escape.","","You ram her harder and harder until you explode as well, each thrust sending your seed deep into her body. You lay on top of her, thrusting again and again while she squirms in orgasmic pleasure, until finally you've given her everything. ","","The two of you lie like that, you on top of her, for a long time, and you feel her softly breathing beneath you. Her body is so warm, and in this moment, it belongs completely to you.","","Tamara reaches over and draws her blanket over the both of you, and you fall asleep, still inside her.","*page_break","*goto_scene juliette","","*label goinbyself","You keep your weight on Tamara, preventing her from rising to her hands and knees, and you try to maneuver inside her. It's harder than it seems when your hands are occupied trying to hold down a struggling partner, and Tamara takes advantage. She's starting to get away again.","*choice","\t#Hold her down as best you can while continuing to try to get inside her without using your hands.","\t\t*goto keepbyself","\t#Put her in a full nelson.","\t\t*goto fnelson","","*label keepbyself","It's no use. Once Tamara gets to her hands and knees, she's able to start crawling away, and you have to grab her around the waist to prevent it. The only action your dick now sees is the thrashing of her calves, and while that IS still technically female flesh, somehow it is far from satisfying. Her wet hole is just a few feet away, if you can only get your dick back to it!","*choice","\t#Bite her on the buttocks.","\t\t*goto bite","\t#Scramble up her body and stick your dick back in her.","\t\t*goto scramble","\t#Worm your way back up her body.","\t\t*goto worm","","*label bite","You take a playful chomp out of Tamara's buttocks, and it makes her squeal. Laughing, she redoubles her efforts to escape as if empowered, and you almost regret doing it. Almost.","*choice","\t#Bite again.","\t\t*goto biteagain","\t#Lick her buttocks.","\t\t*goto lickbutt","","*label biteagain","You bite Tamara again, and she squeals even louder this time. Her struggle seems super-empowered now, and with a giant barrage of flailing arms and legs, she gets away. You're now lying in the dirt alone.","","Tamara sits by the fire, looking at you, legs bent at the knee, demurely horizontal and pressed together, so you can't see anything. ","","\"Now you really lost,\" she says, \"But that was so fun, you get a consolation prize.\"","*fake_choice","\t#Claim your prize.","\"Lie down,\" Tamara says.","*fake_choice","\t#Lie down.","Tamara mounts you, her pussy on top of your member, squashing it into your stomach.","","*goto marewants","","*label lickbutt","Tamara stops struggling, and you realize what you're doing must be feeling good to her. She just lies on her stomach while you make little swirls on her cheek with your tongue.","","If you ever pause for a tiny moment, perhaps to change to another location, she starts to struggle again but quickly stops when you resume.","","You take the opportunity to creep up her body, and if she knows what you're doing, she doesn't let on. Her body's poised for flight, hands planted on the ground by her breasts, but her eyes are closed.","*choice","\t#Run your tongue up and down her crack.","\t\t*goto crack","\t#Start to kiss and lick the small of her back.","\t\t*goto smallback","\t#Scramble up her body and get back inside her.","\t\t*goto scramblebl","","*label crack","You hear Tamara inhale, so you know she's really liking it.","","\"Let's forget about the horse game,\" she says. \"Will you fuck me?\"","*choice","\t#Agree to fuck her.","\t\t*goto agreefuck","\t#\"Only if you admit I won.\"","\t\t*goto onlywon","\t#No deal. You want to win under the original rules.","\t\t*goto origrules","","*label agreefuck","[This option is yet to be written.]","","*label onlywon","\"You win when you finish inside me, remember?\" Tamara says... and waits.","*fake_choice","\t#Get the picture.","You crawl up her body, and it's much easier now that she's completely compliant. You spread her legs apart with your legs and slip inside her.","*fake_choice","\t#Win the horse game.","*achieve horsebreaker ","You finish inside her and thereby win the horse game. Wahoo! Wasn't that great? ","*fake_choice","\t#Look around for your trophy.","You see a chalice.","*fake_choice","\t#Drink from it.","The chalice is Tamara. How? Well, like the moon, the chalice is the symbol of the Feminine. Imagine a crescent moon, rotated so that the two points are facing upwards. Those are her ovaries, and a chalice is shaped the same way. ","","A chalice is a receptacle and therefore [i]receptive[/i], like the Feminine. The moon is not just a sun at night (Ten points if you know where that's from.), though that is what the kings and queens might have you believe.","","The Holy Grail, then, is found inside every woman... if you know where to look. (And how. This is explored further in our upcoming game: [b]SeductQuest: The Faerie and the Farmer's Daughters.[/b]) For now, you enjoy Tamara.","","\"Now that you won,\" Tamara says. \"Can we have sex where it's about actually enjoying each others' bodies?\"","*label grailchoice","*choice","\t#Enjoy each others' bodies.","\t\t*goto enjoybody","\t*disable_reuse #Go for the ten points.","\t\tWhat song contains the lyrics, \"[i]The moon is just a sun at night[/i]?\"","\t\t*choice","\t\t\t#\"Set the Controls for the Heart of the Sun\" by Pink Floyd","\t\t\t\tNo, sorry...","\t\t\t\t*goto grailchoice","\t\t\t#\"Sun and Moon\" by Above & Beyond","\t\t\t\tNo, sorry...","\t\t\t\t*goto grailchoice","\t\t\t#\"Harvest Moon\" by Neil Young","\t\t\t\tNo, sorry...","\t\t\t\t*goto grailchoice","\t\t\t#\"Moon\" by Bjork","\t\t\t\tNo, sorry...","\t\t\t\t*goto grailchoice","\t\t\t#\"Heaven and Hell\" by Black Sabbath","\t\t\t\t*achieve heavenandhell","\t\t\t\tYes, that's it, but do you know the meaning? Do you bleed for the dancer?","\t\t\t\t*goto grailchoice","","*label enjoybody","I don't know... are you up for that?","*fake_choice","\t#Check to see if you're \"up\" for it.","Sadly, you're not \"up\" for it right now, but you do have \"reserves,\" don't you? (Ten points if you know where that's from.)","*label trophychoice","*choice","\t#Call in the reserves.","\t\t*goto reserves","\t*disable_reuse #Go for the ten points.","\t\t*choice","\t\t\t#American Gigolo.","\t\t\t\tYou're half right, but that's only worth points in a game of Horseshoes and Fireballs.","\t\t\t\t*goto trophychoice","\t\t\t#An Officer and a Gentleman","\t\t\t\tYou're half right, but that's only worth points in a game of Horseshoes and Fireballs.","\t\t\t\t*goto trophychoice","\t\t\t#American Pie","\t\t\t\t*achieve ampie","\t\t\t\tYes you do have reserves!","\t\t\t\t*goto trophychoice","\t\t\t#American Beauty","\t\t\t\tYou're half right, but that's only worth points in a game of Horseshoes and Fireballs.","\t\t\t\t*goto trophychoice","\t\t\t#Hamburger Hill","\t\t\t\tYou're half right, but that's only worth points in a game of Horseshoes and Fireballs.","\t\t\t\t*goto trophychoice","","*label reserves","*achieve holygrail","Tamara is still lying on her stomach, waiting, oblivious to the grail within. (Franklee, you are too.)","","What do you do to \"call in the reserves?\"","*choice","\t#Sound the bugle.","\t\t*goto bugle","\t#Polish the flute.","\t\t*goto flute","\t#Wait fifteen minutes.","\t\t*goto 15min","","*label bugle","[This option is yet to be written.]","","*label flute","You try to rub yourself back to life, but it doesn't work. Tamara turns around and laughs.","","\"I'm right here,\" she says. \"You don't have to do it yourself.\"","*fake_choice","\t#Let her polish the flute for you.","\"Lie down,\" Tamara says. \"Relax.\"","","She nestles between your legs and starts using her mouth on your sex in a very skillful, gentle way. She rolls your balls around with her tongue, dabs at your shaft, runs just the tip of her tongue up and down your shaft. She's patient, puts no pressure on you. She dabs at your perineum for awhile, holding your shaft in her hand, and she sucks on your balls, one then the other. ","","You almost start to get hard again but aren't quite there, and Tamara takes you into her mouth for the first time. Using her tongue, she brings you back to semi-life.","*choice","\t#Fuck her now.","\t\t*goto fucksemi","\t#Let her keep going.","\t\t*goto keepblow","","*label fucksemi","*set rise_vortex true","You pull Tamara's head off you, and she, understanding what you want, quickly mounts you before you have time to get soft again. She grips your member by the base and squeezes it full of blood, which enables it to just push inside her.","","You start to try to thrust, but you're still too soft.","","\"Wait...\" Tamara whispers, putting a hand on your chest.","","You start to feel something oddly pleasurable going on inside her, but you're not sure what it is. Regardless, you soon feel yourself return to full strength, and Tamara starts riding you.","*page_break","Up and down she goes, her breasts bouncing in front of you, and if you weren't fully hard before, you certainly are now.","","\"It's like I'm riding a spear!\" Tamara says.","*fake_choice","\t#Keep spearing her.","You thrust your spear up into her again and again, and she can't get enough, just keeps slamming her body down upon it. ","","You reach up and gently squeeze her nipples between your index and middle fingers, holding them in place while the rest of her breasts continue their bouncing.","","Tamara's movements begin to speed up as the pleasure increases in her body, and she starts to make sounds almost like she's crying.","","\"I'm so close,\" she says, \"But I can't quite make it.\"","","You grab her by the waist and help her move up and down faster, and Tamara reaches between her legs, pressing on her sex while she rides you.","*page_break","*achieve volcano","Finally, she makes it and explodes in ecstasy, and you're not far behind. You seed erupts like a volcano inside her, white magma in dark tunnels of female flesh.","","You and Tamara crest together, then plateau, each spasm bringing renewed bliss without the unbearable necessity of the moment before. She moves her body up and down upon yours more slowly now, savoring each one until finally you're both spent, relaxed, and happy.","","Tamara lays down on top of you, and the two of you lay like this, holding each other, for a long time.","","\"Two times,\" Tamara says. \"That's impressive.\"","","The two of you fall asleep just as you are, you still inside her.","*page_break Morning","*goto_scene juliette","","*label keepblow","Now that you're semi-rigid again, Tamara's able to start to suck, making her mouth as tight as a pussy. She uses her tongue a little, but you quickly become hard enough for good old-fashioned head-bobbing.","","It feels really good, but in a little while, Tamara wants hers. She stands and straddles you, then slowly squats until her pussy is hovering right over your cock. It must take incredible leg strength for her to hold herself there, but she does, waiting.","*fake_choice","\t#Lift your member until it's sticking straight up.","Slowly, Tamara begins to lower herself, and you watch, transfixed, as her luscious pussy, that which is about to enfold you in exquisite pleasure, gets closer and closer. ","","Finally, male and female parts meet, and you easily slip into her. Tamara, still squatting, using just her leg muscles, begins to bounce up and down, like little hops. You watch her breasts bouncing, her eyes closed.","*page_break","Tamara lifts off you, half-standing again, and you hold your member straight up again, wanting to feel the pleasure of initial entry for the second time. Tamara doesn't disappoint, lowering herself again, tantalizingly slowly, on, then off again, on, then off again. She slides down halfway most of the time, but sometimes she slides down all the way until you're fully inside.","","She keeps doing this again and again, and surprisingly, just from this, she seems to have brought herself close to orgasm. Her legs are shaking from fatigue, but she seems to be having trouble continuing more because of the pleasure building in her body. She starts to moan softly, her body tensing, but still she continues her leg-only bounces.","","Finally, she collapses on top of you and flattens her body.","","\"Take me now!\" she says, breathlessly.","*fake_choice","\t#Roll the both of you over so that you're on top.","*achieve straingasm","You pull Tamara's body close to yours and hold it there as you roll, momentum carrying you so that you're able to get on top of her without pulling out. ","","She spreads her legs, already writhing in pleasure, her orgasm beginning. You start to pound her and bring yourself to orgasm too, and she screams in ecstasy as you pump her full of cum.","*page_break","Your and her cries echo in the treetops as each orgasmic spasm rocks your bodies. ","","Finally, at long last, they subside, and you lay on top of her for awhile, before rolling off to let her breathe. She turns and nestles into your arms as she pulls her blanket over the both of you.","","\"Two times,\" Tamara says. \"That's impressive.\"","","Even though you've gone flaccid again, it still feels nice when Tamara presses her body against you, and sleep comes easily.","*page_break Morning","*goto_scene juliette","","","*label 15min","\"Just give me fifteen minutes,\" you tell Tamara.","","\"Really?\" she asks, lifting herself onto her elbows. \"You can rise again?\"","*fake_choice","\t#\"Yup!\"","\"Okay, then!\" Tamara says, excited. \"What are you going to do for me in the meantime?\"","*choice","\t#Lie with her and hold her.","\t\t*goto liehold","\t#Offer her another backrub.","\t\t*goto backrub","\t#Your tongue. Her whole body. ","\t\t*goto tonguebody","\t#Endless cunnilingus.","\t\t*goto cunni","","*label liehold","*gosub careful","[This option is yet to be written.]","","*label backrub","*gosub careful","[This option is yet to be written.]","","*label tonguebody","[This option is yet to be written.]","*gosub careful","","*label cunni","*gosub careful","Tamara turns on her side and lifts her leg high into the air, completely exposing her sex. She looks so hot that you don't need fifteen minutes to recover, but she also looks so hot you just have to stick your tongue in her first.","","You kneel in front of Tamara's shrine to hotness and start to worship it... with your tongue. First you dab at it reverently, and when you're satisfied the goddess of sex is looking upon you favorably, you, emboldened, begin to dart your tongue at a rapid pace. You alternate this with deep pokes and long, slow licks.","","Eventually, you lie on your side and rest your head on Tamara's thigh, just taking your time, enjoying her pussy, and the whole time, she keeps her leg raised.","*page_break","*achieve shrine","\"You're ready, already,\" Tamara says. \"That's very impressive, but can you go a bit longer? It's feeling too good to stop.\"","","You keep going, and Tamara sighs, relaxing, just enjoying what you're doing. You feel her hands touch your body appreciatively, roving over your hip, belly, and briefly touching your sex, making it jump in anticipation.","*page_break Cunt lapping continues","Under your skillful ministrations, Tamara begins to near orgasm. Her body tenses, her breathing quickens, and she has trouble keeping her leg raised. It bends at the knee and she starts to moan, clutching desperately at your head.","","You feel her move her body closer to yours, and she pulls your body to hers with both hands, her bottom arm threading through your legs and onto your sacrum. You feel her breasts press against your stomach and her face against your thigh.","","She moans a bit louder and finally, her leg collapses. She takes your already very erect member into her mouth and starts bobbing her head with an intensity powered by the incredible passion you're awakening in her body.","","She seems like she'd be perfectly happy to end like this, and you certainly wouldn't mind coming in her mouth.","*choice","\t#End it just like this.","\t\t*goto sidecunend","\t#You want to end it by pounding her.","\t\t*goto sidepound","","*label sidecunend","You start to lose control, fall half onto your back, and have to hold Tamara's pelvis with your hands to keep your mouth upon her. She rolls with you, both to keep her pussy on your mouth as well as keep your cock in her mouth. ","","She's teetering on the brink, her body full of indescribable passions, but still, she's able to keep up her ministrations on your cock. She feels you explode and pushes her head down onto you so fully that you slide down her throat, shooting your cum deep inside her. You cry out, the tightness of her throat taking you to even greater heights of pleasure. ","","Tamara can't keep you there, however, for she's coming too. She keeps you in her mouth, drinking each spurt, almost losing control. You thrash wildly with your tongue, finally driving her over the edge, and she screams half-cock-muffled screams.","","She can't help herself and has to let your cock out of her mouth for a moment, the pleasure in her body too great, and she lets several spurts hit her in the face. She's oblivious as two streams of cum roll down her cheeks, one into her open mouth, the other dripping off her chin. ","","She lets herself have two orgasmic spasms, moaning and thrashing, before she takes you into her mouth once again to finish you off. She sucks you dry as more waves of bliss continue to wash through her body.","*page_break","Finally, at long last, your orgasms reach completion, and you fall apart from each other, sweaty, spent, and totally content.","","\"That was incredible,\" Tamara says at long last.","","The two of you lie together, looking up at the stars, wondering what they may be foretelling of your fate on the coming day. Sleep comes easily.","*page_break Morning","*goto_scene juliette","","*label sidepound","[This option is yet to be written.]","","*label careful","\"Careful, apprentice,\" Tamara says. \"If you keep this up, I might fall in love with you.\"","*gosub careful","*choice","\t#Get scared.","\t\tTamara laughs. \"Just kidding,\" she says. \"I know you only have eyes for your princess.\"","","\t\t*return","\t#Get happy.","\t\t\"Or at least just your body,\" Tamara winks. \"In fact, I think I'm already in love with that, but don't worry. I won't be jealous or anything tomorrow when you seduce Juliette. Do your job right, and she might be, though, when you rescue Princess Elsbeth!\"","","\t\t*return","","*label origrules","[This option is yet to be written.]","","*label smallback","[This option is yet to be written.]","","*label scramblebl","[This option is yet to be written.]","","*label scramble","[This option is yet to be written.]","","*label worm","[This option is yet to be written.]","","*label fnelson","[This option is yet to be written.]","","","\t","","[not done]","","","*label troughdrink","[This option is yet to be written.]","","*label tricep","You can't really get to it, bucking your hips to no avail. You're shrinking fast.","*choice","\t#Keep bucking. You think you might be able to reach her armpit in time.","\t\t*goto armpit","\t#Try something else.","\t\tWhat do you try?","\t\t*goto reversalchoice","","*label armpit","*set sidehold_str 0","By continually bucking your hips, you manage to shift Tamara's body enough that your member is somewhat under her arm and poking into her armpit. ","","\"That tickles,\" Tamara laughs and shifts her body to get you out of there.","","This creates a tiny opening in her defense.","*goto reversalchoice","\t","*label legcap","[This option is yet to be written.]","","*label fingerin","[This option is yet to be written.]","","*label assoon","[This option is yet to be written.]","","*label fullnelson","Before she can rise to her knees and resume her struggle, you begin to apply a full-nelson hold which should render her arms useless and prevent her from escaping. However, as you are snaking your arms under hers, your hands must pass maddeningly close to her breasts but not touch them.","*choice","\t#You must touch them!","\t\t*goto touchboobs","\t#Resist the maddening urge.","\t\t*goto notouchboobs","\t","*label touchboobs","Tamara is lying fully on her belly, so you can't fully cup her boobs. Instead you grab as much as you can from the two sides, and they're soft and wonderful. She begins to struggle, but you lunge forward to put your full weight on her upper torso, preventing her from pushing up with her arms. Your foward lunge also plunged you deeply into her, and despite her struggle, Tamara also let out a paradoxical cry of pleasure. Her body is covered by a thin film of sweat, so your hands easily slide under her. You ease a tiny bit of weight off her, enabling you to cup her boobs fully when she pushes with her arms, trying to rise. How convenient!","","Holding onto her boobs, with your full weight on her, you're able to thrust in and out quite a few times while Tamara remains pinned beneath you, her legs thrashing vainly from side to side.","","Eventually, though, she starts to get a little away to a small degree, and it's just a matter of time before she escapes unless you can regain the advantage. However, if you keep thrusting, you might be able to come in time.","*choice","\t#Keep thrusting.","\t\t*goto rodeokeep","\t#Regain your advantage.","\t\t*goto rodeoregain","\t","*label rodeokeep","*achieve horserider","You focus solely on pounding Tamara for as long as possible and feel the pleasure building. Somehow, taking a woman from behind, especially when she's struggling to escape, awakens a primal sense in you, and your animal nature takes over. You're close to coming already, and you've never wanted something so badly in your life. Even as Tamara's able to buck and create more and more space between your bodies, you just use the added space to pound her harder.","","Just as you reach orgasm, you feel Tamara's body slip away, and your seeds spews into the earth below. She sees that you're coming and turns onto back, for after all, it's only a game. More important is the pleasure, and you leap upon her again, instantly penetrating her and planting your seed. You thrust in and out of her again and again until finally your primal lust is spent.","","The two of you lie there, you on top of Tamara, for a long time, your humanity slowly returning.","","Finally, Tamara says, \"I won, and then you won.\"","","She reaches over to pull her blanket over both your bodies, and the two of you roll onto your sides.","","*label entervortex","\"Fall asleep inside me?\" she asks and you oblige. Sleep comes easy, but throughout the night you awaken briefly, still in Tamara's arms, still inside her. You're hard again. Is it a dream? Sometimes you hear Tamara moan, and it comes to you as if from very far away, little more than a whisper of it penetrating the fog of sleep. All night long, it seems, you dream of endless orgasmic pleasure, and a few times, for only a brief moment, you half-awaken to find the pleasure real in your body before drifting back into an orgy of celestial delights.","*set sleep_sex true","*page_break","*goto_scene juliette","","*label rodeoregain","You fight your primal urges and pause thrusting to get your weight firmly back on top of Tamara.","*gosub_scene adj_esteem -5","","You need to let go of her right boob briefly to scramble back on top of her, but you successfully crush her back down into the ground. ","*choice","\t#Hold her down with your hands and pound her mercilessly.","\t\t*goto holdmerciless","\t#Keep cupping her boobs while you fuck her.","\t\t*goto cupboobfuck","\t","*label holdmerciless","You put one hand on the back of her neck and the other between her shoulder blades, stuffing her face and chest against the earth. It works for awhile, and you get several good thrusts in. However, with much of your body off her, this gives Tamara the room she needs to get to her knees again. She starts to thrash and buck, and you're hard pressed to stay inside her. Despite not being able to thrust much, Tamara's struggles themselves stimulate you, and you near orgasm.","*choice","\t#Let yourself come just from her struggles.","\t\t*goto strugglecome","\t#Crush her to the ground to finish.","\t\t*goto crushfinish","\t","*label strugglecome","Sometimes Tamara rises up on her arms, but you sweep them out from under her, causing her to fall face-first back into the ground. If she gets to her knees, you thrust forward, crushing her flat onto her belly again. The two of you thrash about like this for a long time, and you find yourself drifting ever closer to orgasm.","*label strugglecome2","Your grip begins to falter as pleasure courses in your body, and you drift almost into a trance of orgasmic bliss. You sense Tamara continuing to struggle but are helpless to stop it, and just as you explode inside her, she wrenches free. ","","She sees that you're coming and turns onto back, for after all, it's only a game. More important is the pleasure, and you leap upon her again, instantly penetrating her and planting your seed. You thrust in and out of her again and again until finally your primal lust is spent.","","The two of you lie there, you on top of Tamara, for a long time.","","Finally, Tamara says, \"I got away, but you got some in me. I say it's a tie.\" She smiles.","","She reaches over to pull her blanket over both your bodies, and the two of you roll onto your sides.","","*goto entervortex","","*label crushfinish","[This option is yet to be written.]","","*label cupboobfuck","[This option is yet to be written.]","","*label notouchboobs","[This option is yet to be written.]","","*label holdcrawl","Tamara breaks free from your grasp, and your cock pops out of her. She turns around and sits, legs curled under her, hands still on the ground.","","\"The mare wins already,\" she says sadly. \"I guess you have to go to bed by yourself now.\"","","Noooooo... You realize you underestimated Tamara's strength. You could've easily held her in place if she were another woman, but she's a trained warrior. It was just your hands, strong though they are, against the momentum of her whole body, powered by her entire legs.","","\"Just kidding,\" Tamara says. \"Lie down.\"","*fake_choice","\t#Lie down.","Tamara mounts you again, this time over your middle instead of your face.","","\"If the mare wins, the mare gets to have her way with you instead of the other way around,\" she says. \"That's fair right?\"","*fake_choice","\t#Nod.","\t#Agree.","*label marewants","\"The mare wants you to put yourself inside her, and she will ride you until you squirt,\" Tamara says.","*fake_choice","\t#Insert dick in mare.","You reach down and lift your member, Tamara lifting herself slightly to accommodate. Once it's inside her, she sits back down, taking you in fully, and then she closes her eyes and begins to undulate rhythmically. Her whole body moves in a long slow wave, and her hips move much like a horse rider's. She keeps this up without variation for a long, long time, and though it's slow and unvarying, you find pleasure building in your body. Tamara too begins to softly moan, and her forehead creases slightly. Her pace increases a little.","*page_break","*achieve horseplay","Soon she's sweating, grinding her hips, and can no longer maintain the steady rhythm. Instead, she undulates in different ways at different times, doing exactly what her body needs at that moment. Her breathing gets desperate and her motions stronger, really pushing you deeper inside her. Finally, she spills over into orgasm, filling the night with her cries, and this sends you over the edge as well, your cries joining hers. You buck your hips, and she rides you, your bodies moving in unison to the beat of the primal drum. Your seed shoots deep into her again and again until finally the orgasmic spasms subside in both your bodies.","","Tamara lays down on top of you, and you enjoy the warmth of her body, the softness of her breasts against your chest.","","She reaches over and draws her blanket over the both of you, and you fall asleep, still inside her.","*page_break","*goto_scene juliette","","*label horsenoslavery","[This option is yet to be written.]","","*label assumeokay","[This option is yet to be written.]","","*label checkingup","Tamara doesn't say anything, and you turn around, return to camp, and climb in your bedroll.","*label checkingupchoice","*choice","\t*disable_reuse #Sleep.","\t\tYou can't sleep.","\t\t*goto checkingupchoice","\t#Masturbate.","\t\tNow you can sleep, and shortly after you do, Tamara returns and goes to sleep too.","\t\t","\t\tThough it was probably the right decision, you had to suppress very strong urges and made Tamara feel rejected.","\t\t","\t\t*gosub_scene adj_esteem -10","\t\t","\t\t*gosub_scene adj_respect -10","\t\t","\t\t*page_break Morning","\t\t*set camp1_no_sex true","\t\t*goto_scene juliette","","*label teareyes","You turn away and close your eyes, and shortly, you hear Tamara get up and leave camp.","*goto wheregochoice","","*label forcequiet","It takes more will power than you knew you had, but you remain quiet, forcing yourself to just listen while Tamara, only a maddening few feet away, writhes and moans in masturbatory bliss. She's trying to be quiet, so you know that what you're hearing is a mere tiny fraction of the pleasure roiling in her body. Every instinct in your body screams for you to leap up and pounce upon her, but you force yourself to stay still by keeping yourself utterly rigid, muscles tensed to bursting. Your body is almost shaking with pent up energy, your member harder than you think it's ever been, quivering on the brink.","","Tamara cries two little stifled cries, and the intensity is too much. Incredibly, you start to come from no manual stimulation whatsoever, and you can't stay still anymore. You're unable to stop a gasp escaping your lips, and your hips thrust forward in an also involuntary spasm.","","Suddenly, Tamara's cries and the incessant rustling cease.","","\"Um, what's going on over there?\" you hear her say.","*choice","\t#Pretend to sleep.","\t\t*goto cumsleep","\t#\"Nothing. What's going on OVER THERE???\"","\t\t*goto tableturn","\t","*label cumsleep","You force yourself to lie still even as your cock continues to spurt under your blanket, and you feel cum running down your body.","","You hear Tamara's blanket rustle. Then, silence.","","Strange... where's the rhythmic sounds? The panting? The stifled gasps and moans?","","Something touches your blanket, and you jerk with a start to see Tamara hovering over you.","","\"Ha! I knew you were awake,\" she laughs. \"I think you have something in there I want.\"","","She starts to stick her head under your covers.","*choice","\t#Let her.","\t\t*goto coverdive","\t#Don't let her.","\t\t*goto nocoverdive","\t","*label coverdive","*achieve deadrise","*set butterfly true","First her head disappears under your blanket, then her shoulders as she pushes down into the nether regions.","","\"It smells like callery flowers in here,\" you hear her muffled voice say. \"That can only mean one thing.\"","","You feel Tamara move your loincloth aside.","","\"Yup,\" she says. \"You're hoarding and keeping to yourself.\"","","Unbelievably, you feel her put her mouth on you, taking your softening member into her mouth, and dabbing at your frenelum with her tongue. She sucks you and drains the last few drops of semen. She starts kissing and licking the rest of the semen from where you spilled it.","","\"Naughty boy,\" she says. \"Wasting all this precious fluid.\"","","She takes you back in her mouth and dabs at your frenelum again, and though at first you don't think there's a chance, she just keeps going, patiently, never varying what she's doing. Slowly, you rise again, filling her mouth with your renewed manhood. ","","Tamara starts to bob her head now, making you harder and harder until you're almost fully erect again.","","\"You're keeping it to yourself again,\" she says, throwing a leg over your head, straddling your face. \"Start giving back.\"","*page_break","*achieve ttop69","*set butterfly2 true","You happily press your face into her gloriously wet twat and stick your tongue inside her. You swirl it around in there and then start dabbing like she had just been. She starts dabbing again, and you fall into a rhythm, both dabbing at the same time. When you move to a different place, she moves to the corresponding place on your shaft. She also starts to dab in different places, making you move to the corresponding place on her pussy. Thus, for a long time, you just lie there, mouths upon each other's sex, enjoying each other without hardly any movement. Tamara crosses her ankles under your head, making you a headrest, and it feels like the two of you could go like this forever. ","*page_break","Tamara pops her mouth off your cock, and your now rock-hard member flops onto your belly. She crawls backwards, treating you to a closeup, underside view of her belly and chest. She smothers you with her boobs, and your tongue searches for her nipples. She then crawls back some more and kisses your lips upside-down, giving both of you the pleasure of suckling the other's full lower lip.","","\"I want you to fill me with your precious fluid,\" she says.","*choice","\t#Throw her down and pound her.","\t\t*goto throwdown","\t#Gently invite her into your bedroll.","\t\t*goto gentleinvite","\t","*label gentleinvite","[This option is yet to be written.]","","*label nocoverdive","[This option is yet to be written.]","","*label tableturn","[This option is yet to be written.]","","*label secretmastur","You ease your hand to your member, careful to make no rustling sound as it slides under your blanket. You carefully remove it from your loincloth, take it in your hand, and begin rubbing, all the while cursing the stupid master-apprentice thing that's keeping you from enjoying Tamara's hot body, just a few feet away. She obviously wants sex. It's so frustrating.","","You get so frustrated, for a brief moment, you made too much noise. Suddenly, Tamara's rustling stops.","","\"Hey, what are you doing over there?\" you hear her ask.","*fake_choice","\t#\"What do you think I'm doing?\"","\t#Ignore her.","\t\t","\"Are you pleasuring yourself?\" she asks with a tone that makes it sound like that's a bad thing.","*fake_choice","\t#\"Yes, I am, no thanks to you and your stupid master-apprentice arrangement.\"","\t#Ignore her.","","\"Do you prefer your hand to a live, warm, female body?\" she asks.","","You stop.","","Wait a minute... Could she really be saying what it sounds like she's saying?","*fake_choice","\t#Ask her if she's really saying what it sounds like she's saying.","\t#No, she can't mean that, not after stressing the master-apprentice thing so much. Just keep masturbating.","*goto rethink","","*label askfun","The rustling from under Tamara's blanket abruptly stops.","","Then, silence.","*fake_choice","\t#Wait.","\t#Look to see what's going on.","Tamara sighs. \"It was somewhat fun until you interrupted me,\" she says disgustedly.","*choice","\t#Say nothing.","\t\tYou hear Tamara moving around in a different way now and look over at her. She's sitting on her bedroll, putting on her boots, legs slightly apart, inadvertently letting you see her sex. ","\t\t","\t\t*goto goingforawalk","\t#Ask if it wouldn't be more fun with a live, warm, male love-sword.","\t\t*goto malesword","","*label malesword","\"It would be...\" Tamara says, her voice trailing off.","*choice","\t#Say nothing.","\t\t*goto rethink","\t#\"But...\"","\t\t\"But we can't,\" Tamara says finally.","\t\t","\t\tYou hear Tamara moving around in a different way now and look over at her. She's sitting on her bedroll, putting on her boots, legs slightly apart, inadvertently letting you see her sex. ","\t\t","\t\t*goto goingforawalk","","*label peeksleep","You see Tamara sit up and reach over to her belongings. She lifts her sword from where it was sitting and carefully lies back down with it. She glances over in your direction but seems satisfied that you're asleep. She slips the sword under the covers, and unfortunately you can't see what she's doing with it because the fire's in the way. However, there's a lot of rustling of fabric as she's moving about. You can tell she's trying to be quiet, but still, you're able to hear a lot. Eventually the rustling sounds become rhythmic, like she's moving something under the covers in the same way again and again.","","She glances over at you again, and your heart leaps into your throat. However, you must've been able to control yourself well enough, because she turns away again and closes her eyes. You can see her head moving in the same rhythm as the sound, and her lips part.","","*goto tempoincrease","","*label lilydew","As you get up, you see Tamara had been starting to sit up. She lets out a little scream when she sees you and cries, \"What are you doing?\"","*choice","\t#\"What are YOU doing?\"","\t\t*goto youdoing","\t#\"I was going to rape you.\"","\t\t*goto rape","\t#\"Can't a guy shake the dew off his lilypad in peace?\"","\t\t*goto lilydew2","\t","*label youdoing","\"Nothing. What are you doing?\" Tamara says, repeating her original question.","*choice","\t#\"The lilypad shaking thing.\"","\t\t*goto lilydew2","\t#Ask her if she needs to sit up to do \"nothing.\"","\t\t\"I was getting a drink of water,\" Tamara says. \"Is that okay with you???\"","\t\t","\t\tI guess there's nothing more for it. You go off into the forest... for the lilypad shaking thing.","\t\t","\t\t*goto masturforest","","*label rape","Tamara giggles. \"No really, what are you doing?\"","","\"The lilypad shaking thing?\" you say.","","\"Really? You just went,\" Tamara says, and you realize you did, just after dinner.","","\"A walk then.\"","","\"Why?\" Tamara asks.","","\"To cool off, you know... because of the fire.\" (Nothing to do with you. Honest.)","","\"Really?\" Tamara says. \"You should just move a little bit away if that's the case. It's a somewhat cool night.\"","*choice","\t#Ask her why she's asking so many questions.","\t\t*goto askingalot","\t#Just go off into the forest... for the lilypad shaking thing, of course.","\t\t*goto masturforest","\t","*label askingalot","\"No reason,\" Tamara says, a little too quickly. \"Go on then.\"","","She lies back down, curling up like she's going to sleep.","*choice","\t#Ask her why she was getting up.","\t\t*goto whygettingup","\t#Just go off into the forest... for the lilypad shaking thing, of course.","\t\t*goto masturforest","\t","*label whygettingup","\"Now who's asking a ton of questions,\" Tamara snaps. \"Never mind what I was doing. You're leaving, so go.\"","*choice","\t#Insist to know.","\t\t\"I was getting a drink of water,\" Tamara says. \"Is that okay with you???\"","\t\t","\t\tI guess there's nothing more for it. You go off into the forest... for the lilypad shaking thing.","\t\t","\t\t*goto masturforest","\t#Just go off into the forest... for the lilypad shaking thing, of course.","\t\t*goto masturforest","","*label masturforest","You go out into the forest a ways, planning to find a private place to masturbate, but then you wonder what Tamara was doing. She seemed way more embarrassed than someone caught getting a drink of water, and in fact, now that you think about it, she might've even been blushing.","*choice","\t#Sneak back and spy on her.","\t\t*goto masturcamp","\t#Better not. Stick to the original plan.","\t\t*goto masturforest2","\t","*label masturcamp","You creep back to camp, using the silent stepping skills Tamara taught you before, and you make no sound. There may be downsides to Tamara being your teacher, but there are upsides as well.","","You peer through the trees and see Tamara, buck-naked, straddling a fallen log that happened to be near where you setup camp, and she's moving rhythmically, obviously masturbating somehow. The amazing view is more than you could have possibly hoped for!","","Looking closer, you see that she's positioned her sword at the end of the log so that its tip is thrust into the earth and the blade embedded in the wood, enabling her to put the pommel inside herself. She's facing away from you, bent over slightly, and moving her body forward and back, fucking the pommel. You can see everything!","*choice","\t#You gotta get a closer view. You're confident you can move closer without her knowing.","\t\t*goto betterview","\t#Stay where you are, whip it out, and jerk yourself silly.","\t\t*goto jerksilly","\t","*label betterview","You, creep, creep closer and then closer still until only a single tree separates you from the luscious, unbelievable scene. Tamara's humping ass is so close you can almost reach out and touch it, but she's completely oblivious to your presence. The fire casts flickering shadows over her naked body, mimicking the caresses you so want to be giving. Occasionally she sighs or moans as she slowly moves forward and back, taking her time, obviously enjoying herself greatly.","","You begin to enjoy yourself as well, and the two of you stand there, each masturbating, for a long time.","*page_break","You're just about to come when suddenly Tamara says, \"How long are you just gonna watch for?\" You are so startled that you feel your jizz, which had just begun to come out, GO BACK IN! ","","Astonished, you emerge from the shadows into the firelight, and Tamara doesn't stop her rhythmic movements. Her voice is shaky as she speaks, \"I taught you the silent step, but there's also the listening skills... which I have.\"","*choice","\t#Go over to her.","\t\t*goto goover","\t#Better not.","\t\t*goto nogoover","\t","*label goover","You walk over to Tamara, your powerfully erect member swaying to and fro with each step, and all the while, she continues fucking herself on the pommel. You stand next to her, and she says nothing, just keeps going.","*choice","\t#Ask her if she wouldn't prefer a real dick.","\t\t*goto preferreal","\t#Just keep watching.","\t\t*goto watchswordfuck","\t","*label preferreal","\"Of course I would,\" Tamara says, a bit breathlessly, the passion obvious in her voice. \"I want it real bad.\"","","She starts to move faster and moans deeply.","","You need it really bad too, but Tamara says nothing more, just keeps fucking her sword's pommel.","","\"Mmm... please, I need it!\" Tamara says, and you don't know what she means.","*label preferrealchoice","*choice","\t*hide_reuse #Ask her what she means.","\t\t*goto needswhat","\t#Straddle the log behind her.","\t\t*goto straddlebehind","\t#Straddle the log in front of her.","\t\t*goto straddlefront","","*label needswhat","\"A real cock!\" Tamara cries and moans long and deep. \"Hurry!\"","*goto preferrealchoice","","*label straddlebehind","*set anal true","You straddle the log behind her, Tamara's humping ass now mere inches from your throbbing member, but she keeps fucking her sword.","","Clumsily she hands you a small plate, and you find it contains some cooking oil.","*fake_choice","\t#Ask her what you're supposed to do with cooking oil.","\t#Stare at the plate, dumbfounded.","\"Oooohhh!\" Tamara cries in frustration and jerkily swats her hand into the oil, then rubs your dick with it, almost making you spew right then. ","","\"Fuck my ass,\" she says, gripping you tight and pulling you toward her.","*fake_choice","\t#Put your cock in her ass!","\t#Put your cock in her ass!!","\t#Put your cock in her ass!!!","Your cock slides easily into Tamara's ass, and though her legs buckle briefly, she quickly resumes her motions, now fucking both you and her sword.","*goto fuckasschoice","\t\t","*label straddlefront","\"Oh, it's been so long!\" Tamara cries as she grabs you, pulling you toward her, hugging you, her fingers clawing at your flesh like she can't get enough of your raw masculine form. ","","A little plate of cooking oil was sitting on the log in front of her, but she takes it and pours oil down the front of her body, then rubs her chest against yours. She hangs onto you, pulling her body on and off the sword, each time her boobs, wet with sweat and oil, scraping over your chest again and again. It feels wonderful, but you need more, your cock about to burst from unrequited desire.","*choice","\t#Pull Tamara off her damn sword!","\t\t*goto pulloff","\t#Shove Tamara's head down onto your throbbing member.","\t\t*goto shovehead","\t#Grab her hand and put it on your cock.","\t\t*goto grabhand","\t#Start masturbating yourself.","\t\t*goto straddlemast","\t","*label pulloff","\"Ooh!\" Tamara says, surprised, when you yank her off the sword, but then she looks deeply into your eyes in anticipation of what you have planned.","","Not wanting to disappoint, you pull her forward until you're both sitting on the log, your dick wedged between you. ","*label pulloff2","*set anal true","Tamara lifts her body and has to strain on tip-toes in order to get you into her, but she manages to do it, sitting back down and enfolding you in her warm tunnel of pleasure.","","\"Come back with me,\" she whispers, and the two of you clumsily walk, you forward, her backwards, the log between your legs. The tip of her sword's pommel begins to push between her cheeks, and she leans forward to guide it into her other hole. Once it penetrates her sphincter, she sits down on it and moans. \"I feel so full...\"","*page_break","*achieve doublepene","Tamara puts one foot up on the log, then the other, until she's squatting before you, and then she begins to move up and down, fucking both you and her sword. She closes her eyes, moving rhythmically, building the pleasure in both your bodies.","","\"Oooohhhh... it feels so good,\" she says dreamily.","","You lean back on the log and relax, finally enjoying her body, that which you weren't sure you would ever get to touch. All the tension from your accumulated sexual frustration melts away with each stroke, but soon, it's replaced by another tension, that of the need for release, its urgency building. ","","Luckily, it builds in Tamara too, and she begins to speed up, her hands roving her grease-covered body, grasping at her own breasts and running up and down her torso. Her hands push between her legs and circle around your member as you go in and out of her, and the contrast between the firmness of her fingers and the softness of her pussy excite you to no end. Slowly, she starts to pound you harder and harder, crying out with desperate need.","*page_break","Soon Tamara is screaming from the top of her lungs, orgasm finally ripping through her body, and she plunges herself again and again on top of you until your cries join hers. Your member erupts inside her, filling her with your seed, spurting again and again, each spasm more powerful than the last.","","Gradually, the storm abates, and the two of you enter the inbetween time, where orgasmic forces still move, yet in a quieter way. The passion still roils in your bodies, but you can look into each other's eyes, knowing from where the passion comes. Tamara pumps you gratefully, milking your last drops, and your hands squeeze and caress her body until finally, it's over.","","Tamara lays her head on your chest, and you caress her back lovingly. At long last, Tamara begins to move forward, slowly pulling herself off both penetrating swords.","","*goto temptapol","","*label shovehead","\"Oohh!\" Tamara cries in surprise as you grab her head and shove it down, but once down there, she likes what she sees. ","*label shovehead2","You feel her put your cock in her mouth and start to bob her head. She then starts to move back and forth with her whole body, and when she moves away from you, the sword pushes into her. Then, moving toward you, the sword moves out while you enter her. She keeps this up for a long time, nursing the pleasure in your bodies, and you find it gradually increasing. ","","It seems to increase in her body as well, as she begins to move faster and faster, until she's pounding herself again and again on her sword. You look down, and her head is moving forward and back on your cock, her eyes closed in bliss. What she's doing feels incredible, but you start to need more. You want to grab her and thrust into her.","*choice","\t#Do it.","\t\t*goto ftgrab","\t#Restrain yourself.","\t\t*goto ftrestrain","\t","*label ftgrab","[This option is yet to be written.]","","*label ftrestrain","You force yourself to keep your hands off her by putting them behind your back, and you grip your own flesh just above the hip bones. You thrust your pelvis forward as far as it'll go, close your eyes, and lean back, letting Tamara do all the work. The pleasure in your body, already at a fever's pitch, stays at a nearly unbearable level, your whole body shaking with pent up tension.","","You hear Tamara begin to cry out as orgasm overtakes her body, and you explode inside her mouth. Cum spills from her lips as she continues pumping you just as furiously as before, moaning as best she can with your cock in her mouth.","","She pulls you forward, and you feel your cock slide into her throat, sending you to higher levels of bliss. Her body is shuddering, despite her inability to vocalize, and she writhes in a spastic undulating motion as waves of pure pleasure rip through both your bodies.","*page_break","*set deepthroat true","*achieve fingertrap2","Finally, after she's squeezed the last of your cum from your now flagging member, she lets it slide from her throat into her mouth, where she strokes just the frenulum with her tongue. Slowly, her bounces on her sword stop, but she leaves it in as she collapses onto the log and rests her head in your lap. ","","Finally, at long last, she lifts her head and smiles up at you. ","","*goto temptapol","","*label grabhand","Tamara realizes what you want and begins jerking you, and though it feels wonderful, you long to feel her soft wetness.","","\"Don't you want more?\" Tamara asks as if reading you mind, but she doesn't stop.","*temp tamaraschoice","*rand tamaraschoice 1 3","*choice","\t#Pleasure too great... Can't speak.","\t\t*goto masturlog","\t#Manage to say yes.","\t\t*goto manageyes","\t","*label masturlog","[This option is yet to be written.]","","*label manageyes","\"What do you want me to do?\" Tamara asks, still jerking you off, and you can hardly think for the pleasure.","*choice","\t#\"Anything!\"","\t\t*if tamaraschoice = 1","\t\t\tTamara stops jerking you while she thinks a moment, then smiles and slowly moves her head down your body to your waiting cock, all the while looking deeply into your eyes.","\t\t\t*goto shovehead2","\t\t*elseif tamaraschoice = 2","\t\t\tTamara stops jerking you while she thinks a moment, then eases off her sword and sidles up to you until your bodies are pressed together, your dick wedged between you. ","\t\t\t*goto pulloff2","\t\t*else","\t\t\t*goto fingertrap","\t#\"Suck me!\"","\t\tTamara smiles and looks up at you as she slowly moves her head down your body.","\t\t*goto shovehead2","\t#\"Fuck me!\"","\t\tTamara eases off her sword and sidles up to you until your bodies are pressed together, your dick wedged between you. ","\t\t*goto pulloff2","\t#You simply can't think or speak.","\t\t*goto nothinkspeak","\t","*label nothinkspeak","Tamara realizes you're unable to speak, so she continues masturbating you. She leans forward, hugging you with her other arm, and you feel her breasts push against your chest, still slick with oil. She starts to hump herself on the sword again, her boobs scraping over you up and down, again and again, and the combination of this, plus her masturbating hand, is incredible, almost as good as fucking or sucking. ","","Tamara sees that you're close to orgasm, so she stops her own pleasuring of herself to focus on you. She sits back up and concentrates on pumping you hard and fast with her hand, all the while watching your face and body, enjoying the visible signs of pleasure she's giving you.","","Soon you spurt a fountain between you, and it splashes onto Tamara's chest. She squeezes you a bit and moves down to just pumping your shaft, and she aims your next spurt onto her own face. Cum drips down her cheek as she switches to rubbing your frenelum, your cum oozing down your shaft as she smears it against it.","*page_break","You lay back as she bends to use her mouth, running her tongue over your member, taking your cum into her mouth, forming long gooey trails. Finally, you're very clean and flaccid, and Tamara removes her mouth and sits back up, the cum still on her cheek and chest.","","\"I bet you're the kind of man who can go again,\" she says smiling. \"Come lie in my bed and see if I can make you rise again.\"","*page_break","You climb off the log, and Tamara eases the sword out of herself, then dismounts the log as well. She takes the remaining cooking oil and finishes covering her torso, then spreads it downward onto her inner thighs.","","You and Tamara lie down on her blanket, and she nestles her oil-covered body against yours. Your leg slides easily between hers, and she starts rubbing her body rhythmically up and down yours, scraping her lubed breasts against the side of your chest again and again.","","\"Just lie and relax,\" she says. \"It's okay if you don't rise again. I'll like this just as much.\"","","It seems she really means what she says, as you lie a long time with her seeming to really enjoy just holding you, feeling your bodies slide against one another. Her nipples harden, and her breathing quickens, but her motions are still long and unhurried. When her sex presses against your thigh, you can feel her heat, and slowly, it gets wetter and wetter until it's a veritable flood down there.","*page_break","Tamara oozes her body on top of yours, her sex right on your hip bone as if she were trying to push it into herself. She begins to undulate her body, mashing her sex against your hip bone again and again until she's emitting soft moans. Her eyes are closed, head tilted back, totally lost in the oblivion of bliss. You watch her, mesmerized.","","It's only when she oozes over further to sit more fully upon you that you realize that you're getting hard again. Her pussy slides over your almost erect cock, and it slips easily inside her. Still moving slow, eyes closed, she starts to ride you, arching her back in a way that lets her take you in completely. She gyrates her hips exactly the way she needs and has her first orgasm, her moans filling the night.","","She keeps going, extracting plenty of pleasure from your still only semi-erect member, undulating her body on top of you. You reach up and fondle her breasts, exploring her body in the same slow rhythm.","","You become fully hard, and Tamara rises onto her feet, moving her body forward and back above you, each stroke filling your cock with renewed vigor. You watch her breasts swinging, enjoy the look of utter ecstatic bliss on her face. You put your hands under her, and her breasts scrape over the backs of your hands again and again. ","*page_break","Tamara starts to need more, and now you're more than capable of giving it. She gets back on her knees and starts to bounce, and you keep your hands where they are, each bounce rubbing her breasts across the backs of your hands.","","As the pleasure builds in you as well, you press your hips up as Tamara continues to bounce, her cries of pleasure getting more intense. Soon she's writhing and moaning on top of you, her second orgasm, while you're only just getting started.","*page_break","*achieve twotimes2","*achieve threetimes","Pleasure builds further in your body, and you clutch at one of her breasts, your other hand holding the small of her back. She continues to bounce, one breast held, the other free. She's writhing again, yet another orgasm building inside her body.","","You're desperately close now, and you grab her around the waist with both hands, thrusting up into her again and again. It's all she can do to stay in the saddle, but she holds on, able to start her gyrations again despite your pounding.","","Suddenly, Tamara cries out, her third orgasm wracking her body, and you too begin to shoot. Your first spurt is inside her, but Tamara pulls you out of her and holds your thrusting member against the outside of her pussy. It's still soft, warm, and oh so slick that the pleasure is no less than when you were inside, and Tamara too is treated to your rock-hard flesh moving over her clitoris again and again. The two of you take turns crying out in orgasmic bliss while you seed, not quite as strong as the first time, nevertheless flows quite copiously, covering both of your abdomens.","","When finally both your bodies calm, Tamara looks down and pushes your cum about with her fingers. ","","\"Still so much!\" she says admiringly.","","She moves down until she's lying between your legs, and she starts dabbing at the cum puddle on your stomach with her tongue. She continues until she's taken it all in, then rests her head on your thigh, your cock inches from her face. ","","Sleep comes to you both at some point, but you don't remember when.","*page_break","*goto_scene juliette","","*label straddlemast","\"No,\" Tamara breathes. \"Not when I'm right here.\"","","*label fingertrap","Slowly she lowers herself until she's horizontal and nearly hugging the log, all the while continuing to move her body on and off the sword, looking deeply into your eyes. Her lips are parted, wanting you. ","*page_break","*achieve fingertrap","*set deepthroat true","You put your dick in her mouth, and she pulls you forward until you slide down her throat. The tightness feels incredible, and she doesn't even choke. You thrust even deeper, to the hilt, and push Tamara back onto sword. Then as you pull back, both sword and you move out of her, letting her breathe. You thrust again, and you and the sword fills her again.","","\"Ooohhh!\" Tamara screams in pleasure, but her cry is cut off when you push into her throat. The night is filled with the cacophonous rhythm of silence and cut-off screams of ecstasy, and as the pleasure builds in both your bodies, your pace increases until you're pounding her in desperate fury. Her inhales come in many pieces, throat plugged with each rapid thrust, and sometimes, in your exuberance, you plunge down her throat not letting her breathe at all. ","*page_break","Tamara begins to come, her whole body wracked with uncontrollable orgasmic spasms, and you let her scream as well as she can with your cock still in her mouth. You fuck her mouth but don't push down her throat while she screams in pleasure, then shove in, and though it's suddenly quiet, Tamara's body continues to shudder and thrust itself violently forward and back on her sword for a long time.","","You let her breathe again, and now her cries, though still intense, are quieter. No longer completely out of control, she begins using her tongue on you, all the while the orgasmic waves continuing to wash over her body one after the other until you lose control yourself.","","You thrust into the incredible tightness of her throat again, causing an explosion of nearly unbearable pleasure that wracks your whole body, and you shoot your seed deep into her. Tamara clutches you at the hips and milks you with her throat, again and again, squeezing out great spurts of cum, each one a paroxym of ecstasy.","","Finally, your orgasm subsides, and Tamara pulls off and collapses onto your lap, chest heaving mightily.","*page_break","At long last, Tamara lifts her head and smiles at you. \"You have no idea how wonderful that was for me,\" she says.","","Slowly she eases off her sword, and for the first time, you notice the pommel is shaped just like a long, thick phallus.","","*goto temptapol","","*label watchswordfuck","\"I want you so bad!\" Tamara says, her voice strained with desire. Her body has a sweaty sheen in the flickering firelight as you watch her rhythmic motions, her body on her sword, her breasts as she breathes. Her fingers clutch the log beneath her.","","Your member hardens further and rises straight up, and Tamara stares at it a moment, longing for it, needing it. You make her wait a bit longer, for though the urge to grab and fuck her is nearly overpowering, you're also mesmerized by the sight before you.","*choice","\t#Tell her she needs to come before she can have you.","\t\t*goto waitcome","\t#Stand closer.","\t\t*goto standcloser","\t","*label waitcome","[This option is yet to be written.]","","*label standcloser","You move closer to Tamara's rhythmically moving body, so close you can feel the heat emanating from her body. You want to touch her so badly.","","Tamara grabs your cock and squeezes it. \"It's so hard,\" she says, a desperate lilt in her voice.","","You reach forward and let her breasts scrape over the back of your hand, feeling how soft they are, how they move under your touch, and the hardness of her nipples.","*page_break","Tamara's breathing heavily and can hardly speak, but she manages, \"Lie on your back on the log. Sixty-nine me!\"","","She pulls you toward her, never stopping her movements on her sword.","","You're able to put your head next to her sword so that you can see her pussy sliding up and down the pommel, and Tamara lifts her leg to accommodate you. When she slides down, if you stick out your tongue, you're able to reach her clitoris, and she does this again and again.","","Meanwhile, you ease your lower body onto the log, lying face up like she asked, and she bends forward. You feel her breasts touch your belly, which is already fantastic, but then you feel her mouth upon your incredibly hard member. She kisses it, her lips so soft and wet.","","With each forward movement, she kisses it in different places, sometimes with her lips, other times with her tongue, and when she moves back, you return the favor. The pleasure is indescribable, but it's also driving you mad. You need more.","*page_break","As if reading your mind, Tamara takes you fully into her mouth, and a surge of pleasure fills your body. You feel her tongue slide around your shaft for awhile, and then she begins to suck harder and harder until her mouth is as tight as a pussy yet still just as soft inside. She stops moving, seems to be waiting for something.","","You can't stand it. By putting one foot on the log, you're able to get the leverage to thrust, and you begin to fuck her mouth. Each time you thrust, Tamara lets you push her body backwards onto the pommel, and so your thrusts cause her to be fucked on both ends. ","","The pleasure in your body quickly builds to a fever pitch, and you can tell Tamara is also close by the increasing intensity of her cock-muffled moans and gyrations of her body.","","*if deepthroat","\tYou know she can take you into her throat, so you begin to thrust with abandon, pushing down her throat and slamming her pussy all the way onto the hilt of her sword.","\t","\t*goto 69slam","*else","\t*set deepthroat true","\tSometimes, accidentally, you thrust too hard and feel the tip of your member push a little way down Tamara's throat. However, she doesn't gag and seems to be urging you on. You thrust with abandon and feel your member push deep down her throat, which pushes her body all the way to the hilt of her sword. You start pumping furiously, slamming her hard on both ends.","\t","*label 69slam","Though you're almost overcome by your own overwhelming ecstasy, once in awhile, you manage to touch her clit with your tongue again, and each time Tamara cries out a bit louder until finally she reaches orgasm, screaming. ","","You come too and feel your seed shoot deep in her throat. You grab her head and push it down onto you, pushing in as far you can, her face buried in your pubes. You make hard little thrusts, shooting down her throat again and again while pressing the sword fully inside her as well, her sex repeatedly bouncing off the hilt while she screams.","*page_break","*achieve fingertrap3","Tamara's throat muscles milk the last drops of seed from your shaft, each contraction sending you to new heights of pleasure, and you press your face hard into her crotch to thrust your tongue on her clitoris again and again. Finally, at long last, she screams subside to sighs, and the sighs to heavy breathing. She lays on top of you, panting, and the two of you remain, bodies draped over the log in post-coital bliss for a long time.","","Finally, almost reluctantly, Tamara slides off and helps you sit up. She pulls you down to her bedroll and holds you close while she pulls the blanket over both your bodies. Neither of you say anything because nothing needs to be said. Each caress speaks a thousand words, and you remain in silent communion until sleep overtakes you.","*page_break","*goto_scene juliette","","*label nogoover","*set anal true","\"Silly apprentice,\" Tamara says. \"Get your ass over here.\"","","You get your ass over to her ass.","","\"I'm loving on my sword, right now,\" she says. \"But if you put your cock in my ass, I wouldn't mind at all.\"","*fake_choice","\t#Put your cock in her ass!","\t#Put your cock in her ass!!","\t#Put your cock in her ass!!!","\"Rub yourself with this,\" Tamara says, handing you a little plate of tallow. It melts in your hand and becomes like oil. She must've had that ready. She planned this whole thing!","","You slather your cock in the oil, and it slides easily into her ass, making her legs buckle. ","","\"Mmmmm...\" Tamara says, rising to her feet again and resuming her rhythmic movements. \"That feels so good.\"","*label fuckasschoice","*choice","\t#Start pounding.","\t\t*goto poundass","\t#Reach around and grab her breasts.","\t\t*goto assboobs","\t","*label poundass","\"No, wait,\" Tamara says. \"I'm not ready for that yet. Just hold me close.\"","","*label assboobs","You wrap your arms around her and cup her breasts as you push inside her as deeply as you'll go. You never feel as deep inside a woman as from behind.","","Tamara continues her slow rhythm, and your body now moves with it, along for the ride. Inside, you feel the butt of the pommel moving up and down your shaft, just on the other side of what feels like a tenuously thin membrane. It drives you wild, and you find yourself grunting and clutching madly at Tamara's body.","","Tamara speeds up, now pounding herself again and again on the pommel of her sword. You can't hold on anymore, so you let go and just stand there behind her, watching her working furiously, pleasuring you both. Each time she slams down, you thrust forward, and the two of you enter perfect synchronicity (Ten points if you know where that's from.), driving you both perilously close to the edge of orgasm. Tamara begins crying out, her voice echoing in the treetops, and soon yours joins hers.","*page_break","*achieve asscome","You explode inside her, grabbing her from behind and wrapping your arms around her to pound her mercilessly. Her back arches and she cries out even louder than before. Your hands spasmodically rove all over her breasts, throat, and sex, unable to get enough of her as each convulsion sends you into higher ecstasy. Tamara's hands clumsily find yours and lock into a death grip as her own orgasmic spasms wrack her body.","","Finally, the two of you collapse forward onto the log, utterly spent.","","It's a long time before either of you move, but finally Tamara stirs and slowly pulls her body off both penetrating swords. When she does so, you realize that her sword's ivory pommel is shaped just like a long, thick phallus.","","*label temptapol","\"I'm sorry, apprentice,\" Tamara says, dismounting the log. \"I knew where you were going and just couldn't help tempting you like this. It's been such a long time since I've been with a man, but you better not let this mess up our master-apprentice relationship.\"","","With a yank she frees her sword from the log and puts it back in its shealth. She puts her nightshirt back on and climbs in her bedroll.","*choice","\t#Ask if you can join her.","\t\t\"Of course, you can!\" Tamara says. \"After what we just did, I wouldn't have it any other way.\"","\t\t","\t\t*goto sleeptogether","\t#Sleep in your own bedroll.","\t\t*goto sleepown","\t","*label sleeptogether","You happily climb into Tamara's bedroll, grateful for more contact with her luscious body. With the master-apprentice thing going on, she could very well never let you touch her again.","","You fall asleep holding each other.","*page_break","*goto_scene juliette","","*label sleepown","\"Hey!\" Tamara says. \"After what we just shared, you better get your ass over here and sleep with me.\"","","*goto sleeptogether","","*label jerksilly","[This option is yet to be written.]","","*label masturforest2","[This option is yet to be written.]","","*label lilydew2","[This option is yet to be written.]","","*label looksee","You see Tamara sit up and reach over to her belongings. She lifts her sword from where it was sitting and carefully lies back down with it. She glances over in your direction and cries out in surprise when she sees you watching her.","","\"I just like to sleep with my sword,\" she says and quickly turns her back to you, hugging her sword like a teddy bear.","","*choice","\t#Ask her if her sword is as rock-hard as your sword.","\t\t*goto asksword","\t#Try to sleep.","\t\t*goto stilltrying","\t","*label asksword","\"Yes, now go to sleep,\" Tamara says. \"You're bothering me.\"","","*label stilltrying","You go back to trying to sleep, and now, even the idea of sneaking off to masturbate is too embarrassing. You lie there ready to explode.","","You hear Tamara moving again.","","*choice","\t#Pretend to sleep","\t\t*goto pretendsleep2","\t#Peek","\t\t*goto peeksleep2","\t#Look to see what she's doing","\t\t*goto lookseeagain","\t","*label pretendsleep2","[This option is yet to be written.]","","*label peeksleep2","[This option is yet to be written.]","","*label lookseeagain","You see Tamara slowly moving her sword from where it was on the outside of her covers to under the covers. She glances over at you, sees you watching her, and sighs.","","\"Why are you watching me all night long?\" she complains, gets up, and stalks off into the forest, taking her sword with her. ","","\"I'm going to pee,\" she says, \"Want to watch that too? Don't answer that.\"","","She takes a few steps, turns around, and says, \"That question was completely rhetorical. I don't want you to watch me pee. Seriously, do not follow me.\"","","She turns and stalks off into the forest, shaking her head.","","*choice","\t#Follow","\t\t*goto peefollow","\t#Don't follow","\t\t*goto peenofollow","\t","*label peefollow","*set camp1_no_sex true","You wait a little while, then, as quietly as you can, get up and follow Tamara into the forest. It's dark, but the light of the moon guides your way. You can see her ghostly form making its way ahead of you.","","She turns, sees you, but just keeps walking.","","You keep following, and she keeps walking, eventually making a big circle. You arrive back at camp, and she climbs into bed.","","\"Good night,\" she says sullenly.","","*page_break Morning","*goto_scene juliette","","*label peenofollow","She's gone an awfully long time. Do you go check up on her?","","*choice","\t#Check up on her. Maybe something happened to her.","\t\t*goto checkup","\t#She said not to follow, so you're not going to follow, not even if you hear a bear roaring and her screaming.","\t\t*goto bearnofollow","\t","*label checkup","You head off into the forest in the direction she was going when you last saw her, wondering if you'll even be able to find her in the dark. In a moment, you hear a sound and head toward it, and as you get closer, you realize that it's the leaves of a tree rustling rhythmically intermixed with the sound of deep breathing and soft moans.","","You round a bend and come face to face with Tamara, but somehow she's grown taller. Her face is a foot above you! Then you realize it's because she's up in a tree. Then you realize she's completely nude up in a tree.","","She's has each foot on a low branch, her legs splayed wide apart, and she's hanging onto higher branches with her hands, facing the trunk. Her eyes are closed, and she seems to somehow be having sex with something, the tree branches shuddering with each bounce. It takes a moment, but eventually, you realize that it's her sword--she has it staked into the earth at the base of the tree, the pommel inside her.","","When she sees you she screams and tries to leap off, but the sword, still inside her, makes her fall backwards instead. Luckily it falls over. She lands hard on her buttocks and scrambles backwards with her legs to get the sword out of her.","","\"What are you doing here!\" she demands, and even in the dim light of the half-moon, you see her turning red.","","*fake_choice","\t#\"Um... shaking the dew off my lily pad?\"","\t#\"You were taking way too long, so I thought something happened.\"","\t#\"Let me finish the job!\"","\t\t","\"Shut up and get down here!\" Tamara cries and grabs you by the waistband, pulling you on top of her. Her hands are scrambling to free your cock from your trousers.","","\"Get inside me before I change my mind,\" she says, finally pulling your swollen member free. ","","She grabs your collar and pulls your head down for a passionate kiss while simultaneously wrapping her legs around your waist. Pulling with her legs and guiding your cock with one hand, it easily slips inside her.","","\"Ride me!\" she screams.","","*label bearnofollow","You wait for Tamara to return, and just when you think it's been so long something MUST'VE happened, you see her finally come back into camp. She's quiet and seems pensive. She stands by her bedroll for awhile, staring out into the night, then glances at you.","","\"You awake?\" she finally says.","","*choice","\t#Say nothing.","\t\t*goto bearsaynothing","\t#Say yes.","\t\t*goto bearsayyes","\t","*label bearsaynothing","\"Oh, come on, I know you're awake!\" Tamara shouts.","","*choice","\t#Still say nothing.","\t\t*goto stillsaynothing","\t#Admit to being awake.","\t\t*goto bearadmitawake","\t","*label stillsaynothing","You pretend to be asleep, watching Tamara through slitted eyelids. She's standing by the fire, facing you fully now, just looking at you, wondering what she should do. After a minute or so, she tosses her sword on her bedroll, removes all her clothes, and is standing there naked, just in her knee-high leather boots.","","She sidles over to you, steps over you with one foot, and kneels down over your head, her pussy mere inches from your nose. You can smell her musk and feel the heat of her arousal. Slowly, she moves it closer and closer to your mouth.","","*choice","\t#Pretend to sleep.","\t\t*goto pretend2sleep","\t#Open your eyes.","\t\t*goto bearopeneyes","\t","*label pretend2sleep","[This option is yet to be written.]","","","*label bearopeneyes","[This option is yet to be written.]","","","*label bearadmitawake","[This option is yet to be written.]","","","*label bearsayyes","\"If I asked you,\" she begins, still standing by the fire gazing out into the night, \"to have sex with me, but only tonight, would you be able to do it? Would you be able to maintain an apprentice's level of respect for me after that?\"","*choice","\t#Say yes.","\t\t*goto respectyes","\t#\"Ummm...\"","\t\t*goto respectum","\t","*label respectyes","\"Really?\" she asks, suspicious. \"It's important.\"","*choice","\t#Insist yes.","\t\t*goto insistyes","\t#\"Ummm...\"","\t\t*goto respectum2","","*label insistyes","\"Will you accept grievous punishment if you fail?\" Tamara asks.","*choice","\t#Ask what the punishment is.","\t\t*goto askwhatpunishment","\t#Say yes.","\t\t*goto yespunishment","\t","*label askwhatpunishment","\"Hmmm... what should the punishment be?\" Tamara muses to herself. ","","She thinks a moment, then comes up with:","*label punchoice","*choice","\t*hide_reuse #Castration.","\t\t\"Be serious,\" Tamara says. \"What punishment do you really choose?\"","\t\t*goto punchoice","\t*hide_reuse #Forfeiture of all your possessions to her including your clothes.","\t\t\"On second thought, that won't work,\" Tamara says. \"What punishment do you really choose?\"","\t\t*goto punchoice","\t*hide_reuse #Put a giant beetle up your butt.","\t\t\"No way would you really do that,\" Tamara says. \"What punishment do you really choose?\"","\t\t*goto punchoice","\t#Become her personal slave.","\t\t\"That's what I was thinking too,\" Tamara says. \"Is it a deal then?\"","\t\t*choice","\t\t\t#Say yes.","\t\t\t\t*goto slavery","\t\t\t#Say no.","\t\t\t\t*goto noslavery","\t\t\t","*label slavery","\"Okay,\" Tamara says, \"This is probably a really bad idea, but okay. Come on, then. Have sex with me, but remember, respect me tomorrow or pay the ultimate price, your FREEDOM.\"","","She stands there waiting.","*label slaverychoice","*choice","\t*hide_reuse #Ask what she wants to do.","\t\t\"You're the man,\" Tamara says. \"Take charge.\"","\t\t*goto slaverychoice","\t#Ask her to take off her clothes.","\t\t*goto askundress","\t*hide_reuse #Ask if she wants you to take her clothes off for her.","\t\t\"You're the man,\" Tamara says. \"Take charge.\"","\t\t*goto slaverychoice","\t#Take off your clothes.","\t\t*goto undress","\t","*label askundress","\"I will if you will,\" Tamara says and seems uncharacteristically shy. ","*choice","\t#Undress.","\t\t*goto undress2","\t#Help her take off her clothes.","\t\t*goto undresstamara","\t","*label undress2","When you begin to take off your clothes, Tamara does the same. She tosses her nightshirt onto her bedroll, but she's still wearing her boots. ","","\"Do you want me to take off my boots also?\" she asks.","*choice","\t#Tell her to take them off.","\t\t*goto tellbootsoff","\t#Help her take them off.","\t\t*goto helpbootsoff","\t#Let her leave them on.","\t\t*goto leavebootson","","*label tellbootsoff","Tamara begins to take her boots off while you watch, and the sight of her nude before you causes your member to grow to full-size.","","Tamara happens to glance up and see it, and it makes her pause, fascinated. She quickly pulls off her last boot and stands before you as naked as the day she was born.","","\"What now?\" she asks, unable to take her eyes off your fully erect member.","*choice","\t#Tell her to \"suck it.\"","\t\t*goto suckit","\t#Tell her to go lie down.","\t\t*goto tellliedown","\t#Tell her to come to you.","\t\t*goto tellcome","\t","*label suckit","Tamara falls to her knees and takes your cock into her mouth like she was just waiting for the chance. She begins to suck and bob her head, and she can suck so hard her mouth is almost as tight as a pussy. She's pumping at a furious pace, and at this rate, you'll come in only a few minutes... but boy, does it feel good!","*choice","\t#Give in and just let her keep going.","\t\t*goto furioussuck","\t#Force yourself to ask her to slow down.","\t\t*goto forceslow","\t","*label furioussuck","*set deepthroat true","You want to ask her to slow down, but you just can't get yourself to do it. You say nothing as she keeps pounding away, ","*label enthusiastic","and sometimes she's so enthusiastic that the tip of your member touches the back of her throat, which sends a surge of pleasure through you each time. As time goes on, this starts to happen more often, and she takes you deeper down her throat, which feels even better! You're about to explode.","*choice","\t#Come on her face.","\t\t*goto comefacepermission","\t#Come down her throat.","\t\t*goto comedownthroat","\t#Come in her mouth.","\t\t*goto comeinmouth","\t","*label comedownthroat","Just as you're about to explode, you grab Tamara's head and push all the way in, making her emit a stifled cry, but she doesn't try to push you away. Instead she pushes forward, jamming her face into your crotch, taking you into her as far as you can go. You explode, shooting your seed deep within her, and she holds you there, letting your cum spurt down her throat again and again, reaching her stomach without having to be swallowed. The muscles of her throat constrict and relax again and again, taking the pleasure roiling in your body to new heights.","","Tamara begins to struggle for air, but still she keeps you pushed all the way down her throat as you continue to shoot. Finally, you're done, and Tamara lets herself breathe, sucking great gasps of air while still keeping your cock in her mouth.","","Finally, composure regained, she looks up at you with her soft, dark eyes and runs the tip of her tongue over your frenelum, milking the last of your orgasm, not stopping until all pleasure has washed through your body.","","Soft now, you carefully extract yourself from her mouth.","*page_break","*goto tamaradidntgethers","","*label comeinmouth","Orgasmic pressure builds and builds in your sex, reaches an excruciating plateau, stays there for a long, indescribable moment, and all the while, Tamara's bobbing and bobbing her head. Finally you explode, flooding her mouth with your sperm, but she doesn't stop. Jizz leaks from her mouth as she continues to pump you, carrying your pleasure to new heights, and it's only when your spasms begin to wane that she stops, knowing you'll be sensitive now. She stops bobbing and sucking, but she keeps you in her mouth, using her tongue on your shaft and frenelum, which continues your pleasure.","","Slowly you lose your erection, and she carefully removes her mouth from your member.","*page_break","*goto tamaradidntgethers","","*label forceslow","\"Tamara...\" you gasp. \"Not quite so fast...\"","","Tamara listens and slows down, changes from a furious pace to a very slow one, but she begins to use her tongue as well, tilting her head from side to side to keep changing where her tongue touches.","","\"It's okay,\" she says. \"You can come if you want.\"","","\"Really?\" you ask, as she puts your cock back in her mouth. The prospect sure seems inviting.","","She pumps you two more times, then says, \"Yes, this time, for me, this is enough.\" ","","She resumes, and slowly her pace increases. This time you let her, freed from worrying about her needs, and you just enjoy the pleasure sensations as they grow more and more intense the faster she goes. She takes you to where you're vibrating at a fever's pitch,","*goto enthusiastic","","*label tellliedown","Obediently, Tamara instantly goes to her bedroll and lies down, legs facing in your direction, knees bent, legs slightly apart. Then she lets her knees fall open, revealing herself fully to you.","","\"Does the sight of this fill you with as much desire as the sight of your cock in full bloom excites me?\" she asks seductively.","","It does, of course, but you play it cool.","","\"Let me check,\" you say, saunter over, and kneel between her legs. You put your hands under each of her knees and spread her legs even wider. She is so incredibly [i]revealed[/i], and you feel your member harden further, lifting until it's nearly straight up.","","\"There's your answer,\" you say, as Tamara's eyes widen with desire. ","","\"Give it to me, please!\" Tamara says desperately, hands grasping for you, wanting to pull you toward her.","*choice","\t#Tease her.","\t\t*goto patpussy","\t#Give it to her.","\t\t*goto giveplunge","\t","*label patpussy","[This option is yet to be written.]","","*label giveplunge","[This option is yet to be written.]","","*label tellcome","Tamara does as you ask, comes, and stands before you, so close that occasionally her hair or breast brushes against you. She's looking down at your sex and says, \"I've been dreaming about this all day. Can I touch it?\"","*choice","\t#Give permission.","\t\t*goto touchit","\t#Push her down to her knees and tell her to suck it.","\t\t*goto kneesuck","\t\t","*label touchit","Gingerly, Tamara touches your cock and takes it into her hand, and you feel it jump with delight at her contact.","","\"It's so warm,\" she says and squeezes it. \"And so hard.\" She begins to stroke it.","*choice","\t#Let her continue jerking you off.","\t\t*goto jerkoff","\t#Push her down to her knees and put it in her mouth.","\t\tTamara lets you push her onto her knees and takes your cock into her mouth when you pull her head toward it. She starts to bob her head while simultaneously swirling her tongue all over.","\t\t*goto kneesuckchoice","","*label jerkoff","Tamara moves closer to you and embraces you with her free arm while her other continues pumping. She presses her body against yours, and you feel her breasts against your arm, her lips on your shoulder. Her leg brushes against yours and she steps even closer to press her sex into your thigh, and it's already hot and wet as she holds you close. Slowly she begins rubbing herself on you and moans softly, still pumping away on your cock with her hand. She slides down your body and onto her knees, spreading her legs so wide she's able to rest her sex on your instep, and by embracing you with her free hand, stimulates herself against it, all the while never stopping the pumping of your cock. She rests her cheek against you thigh, and you cradle her head there with your hand.","","Her handjob is wonderful, already bringing you to incredible heights of pleasure, but you long for more. Tamara's moans increase slightly in intensity.","*choice","\t#Don't disturb her.","\t\t*goto dnd","\t#You can't take it anymore. Stuff your cock in her mouth.","\t\t*goto handblow","\t","*label dnd","Tamara squeezes you more tightly as she begins to lose control.","","\"Master, may I suck you?\" she asks, looking up at you entreatingly.","*choice","\t#Give permission.","\t\t*goto suckpermission","\t#Stuff your cock in her mouth.","\t\t*goto handblow","","*label suckpermission","You nod, and Tamara smiles gratefully. She puts it in her mouth and bobs her head on it a few times. \"It's so big,\" she says and resumes. \"I want you so bad!\" she says and quickly resumes again as if she can't get enough of you. Just sucking your cock is driving her crazy with desire. ","*choice","\t#Make her beg to be fucked.","\t\t*goto makebeg","\t#Come on her face.","\t\t*goto comefacepermission","\t","*label makebeg","\"Do you want to be fucked?\" you ask, looking down on her.","","Tamara stops and looks up at you with her soft, dark eyes. \"Yes, master,\" she says.","","\"I will fuck you,\" you say, \"But first you must clean your slime from my foot.\"","","Without a word, Tamara lowers herself and begins sucking and licking your instep. She holds your ankle with one hand, and her sucking and licking is done tenderly, even lovingly, like she's worshipping you. When she's done, she says, \"I did as you asked, master. Now will you fuck me?\"","*choice","\t#Tell her to stand, turn around, bend over, and grab her ankles.","\t\t*goto ankles","\t#Throw her down and jump her bones.","\t\t*goto throwdown","\t#Take her back to your bedroll.","\t\t*goto bedroll","","*label comefacepermission","The intensity of Tamara's desire arouses you to no end, and her skills with her lips and tongue drive you to the edge of orgasm already. You have a fleeting thought that maybe she would like something more tonight, but the pleasure is already too great for you to give this thought any mind. Already at the edge, you push yourself over by bucking your hips a few times, and you feel your cock fill with orgasmic energy. You pull out and shoot loads of hot cum onto Tamara's face, and if she's disappointed she doesn't show it. On the contrary, she seems to thoroughly enjoy trying to catch your spurts in her mouth and continuing to run her tongue up and down your shaft in various places. ","","Finally, the spasms begin to die down, and Tamara calms as well, now just kissing and licking your shaft softly. It begins to lose its hardness, and you slip it into her mouth, longing to feel her moist softness one last time. Tamara encloses you with her lips and runs her tongue over your frenelum again and again, milking you to the very last drop.","","Soft now, you carefully extract yourself from her mouth.","*page_break","*achieve comeface3","*label tamaradidntgethers","\"Can I sleep with you, master?\" Tamara asks, curling up next to you like a dog once you lie down. \"I didn't get my orgasm, but that's okay,\" she says. \"You let me worship you, and that's enough.\"","","You let her lie with you, and she holds you close, her sex, still hot with desire, on your knee. She doesn't pressure you, just humps you gently, like rocking you to sleep, and indeed, you do fall asleep.","","It seems like you sleep a long time, waking up to a strange rhythmic motion next to you. As consciousness fully returns, you realize that it's of course Tamara, masturbating. Her legs are spread wide, one draped over yours, and her hand is making circles between her legs.","","She notices you've awakened and says, \"Sorry, master, go back to sleep. I loved worshipping your cock.\"","*choice","\t#Go back to sleep.","\t\t*goto declinemastursex","\t#Watch what she's doing.","\t\t*goto legcover","\t","*label declinemastursex","[This option is yet to be written.]","","*label legcover","You watch Tamara masturbate, mostly making the circles, but sometimes she runs her fingers up and down her inner lips. She keeps alternating in this rhythm, sometimes moaning softly and shifting her legs.","","You find yourself getting aroused again and pull Tamara's leg up a little to cover your cock. It feels nice.","","Tamara doesn't say anything, just keeps doing what she's doing.","*choice","\t#Masturbate too.","\t\t*goto masturtoo","\t#Help Tamara masturbate... with your cock.","\t\t*goto mastursex","\t","*label masturtoo","*achieve masturtoo","You start to masturbate, and the two of you lie together for awhile, each pleasuring oneself. Tamara reaches over and plays with your balls, helping you, and you snake your hand down to her sex. She puts her hand on your hand and lets you take over, and you probe her wet hole with your fingers. Tamara begins to masturbate you, jerking you at the same rhythm and the same way you just were, and likewise, you imitate what Tamara was just doing for herself.","","Slowly the pleasure builds in both of your bodies, and you lie next to each other, both moaning and squirming. You'd of course like more than just her hand, but neither of you are willing to stop. You both just keep going, rhythm intensifying, faster and faster, until you both finally explode in unison. Your first spurt of cum flies straight up, and Tamara clamps her hand on your shaft, still jerking but no longer stimulating the now over-sensitive head. ","","You turn and quickly mount her, wanting to finish inside her, and she hurriedly spreads her legs to accommodate. Your second spurt splashes on her stomach, but you're inside her for the third, feeling it shoot deep within. As you begin to thrust, it sends Tamara's already orgasming body to new heights, and she cries out with pleasure, hugging your body to hers tightly. ","","The two of you hump and squeeze each other desperately until finally all the orgasmic energy is spent. You lay in silence for a long time, and finally Tamara says, \"I finally got my orgasm!\"","","You both fall asleep, and this time nothing disturbs you.","*page_break","*goto_scene juliette","","*label mastursex","*achieve assist","You start to need more than just Tamara's leg, so you carefully extract yourself from under it and climb on top of her. She ignores what you're doing, just keeps masturbating herself, and you position yourself between her legs. Your cock is now full strength, and you put the tip of it just inside her while she continues to masturbate.","","\"That feels nice...\" she murmurs, never stopping.","","You start to thrust in and out gently, just with the tip, and Tamara says, \"Mmmmmmmmm.....\" sighing with pleasure.","","This by itself feels wonderful, but by and by, you of course begin to need more. You start to push in deeper, your thrusts longer, but you're still able to avoid disturbing her fingers.","","\"Oh my gods, yes,\" Tamara says, her hips bucking now, spreading her legs wider.","","You can't help yourself. You push in fully, crushing Tamara's fingers between your two bodies. She tries to keep masturbating, but as you begin to thrust fully again and again, she cannot and stops. It doesn't matter, though, because she's already in orgasm, triggered by your deep penetration. Her cries echo in the treetops, and the bucking of her hips sends you over the edge. Your cries join hers, and the two of your grasp each other tightly, humping and squeezing each other desperately until finally all orgasmic energy is spent. You lay in silence for a long time, and finally Tamara says, \"I finally got my orgasm!\"","","You both fall asleep, and this time nothing disturbs you.","*page_break","*goto_scene juliette","","*label handblow","You grasp Tamara's hair and pull her head away from your thigh, then grabbing your cock by the base, push her head toward it. She's able to take it into her mouth, but because she's sitting on your instep, this forces her to lean backwards. She doesn't seem to mind but can no longer hump against your foot.","*choice","\t#Let her suck you.","\t\tTamara adjusts her position, lifting herself off your foot and moving backwards, enabling her to start bobbing her head in earnest. Her eyes are closed in total absorption.","\t\t*goto kneesuckchoice","\t#Fuck her mouth.","\t\t*goto standingmouthfuck","\t*if (deepthroat) #Push your cock down her throat.","\t\t*goto standingdeep","\t","*label standingmouthfuck","You begin to thrust in and out of Tamara's mouth, always mindful not to push too far and make her choke, but slowly Tamara's body is forced backwards more and more until she's forced to support herself with one hand. One of your feet is still between her legs, and you step over her thigh with your other to keep your balance. Still grasping her hair, you hold her head in place and you plunge in and out while Tamara holds onto you with her other hand.","","Eventually, she falls backward even more until she's lying on the ground, legs still under her, back arched, and you're thrusting downward into her mouth. It's a bad angle now, so you swing around over her head, her whole contorted body in front of you for your viewing pleasure.","*choice","\t#Keep fucking her mouth.","\t\t*goto contortblow","\t*if (deepthroat) #Push your cock down her throat.","\t\t*goto contortdeep","\t#Caress her body.","\t\t*goto contortcaress","\t","*label contortblow","[This option is yet to be written.]","","*label contortdeep","[This option is yet to be written.]","","*label contortcaress","*set deepthroat true","You pause your fucking of Tamara's mouth for a moment to enjoy the rest of her body, running your hands up and down her torso. Tamara reaches up with her hands and holds you about the waist and pulls you slightly forward, and you feel your cock push into her throat. She holds you here while you continue your caresses, fondling her breasts and lightly pinching her nipples. Every inch of her torso you explore before sliding one hand between her legs. You rub her sex up and down and then slip a finger effortlessly into her, so wet she is. She gasps a cock-stifled gasp at the sudden intimacy and covers your hand with hers to pull you deeper into her.","","Finally, she needs to breathe, but she keeps you in her mouth, chest heaving desperately but still breathing only through her nose.","","She arches her back even more and is able to rise into a backbend, her hands over her head and then all the way onto the ground, all the while your cock still in her mouth. She then does a back walkover until she's in a handstand, her sex right in front of your face. She spreads her legs in an upside-down splits, waiting for you, already bobbing her own head on your cock again.","","You wrap your arms around her to hold her steady and begin to push your tongue in and out of her. You hold it against her sex and move it from side to side. You dab at her clitoris, then push it in and out of her again. ","","As the pleasure builds in her body, Tamara can no longer keep her legs in the splits position--her knees bend first, and finally she wraps her thighs around your head, squeezing tight as she enters unbearable ecstasy. The pleasure in her body makes her redouble the efforts on you, and you feel your member fill with orgasmic energy. You start to go faster, making her go faster, and finally the two of you explode together. Her first spasm makes her scream and arch her back, and your cock flies out of her mouth, shooting seed all over her chest and face. The two of you fall to the ground, but you're able to keep working her sex with your mouth. Tamara, her body wracked with spasms, still manages to get back to your cock and thrust it down her throat, where you shoot the rest of your jizz straight into her stomach. Your two bodies convulse against each other for a long time as wave after wave of orgasmic pleasure floods your senses.","*page_break","*achieve bb69dt","\"I've never had an orgasm like that from just oral,\" Tamara says breathlessly when she can finally speak. \"What do you think of my contortion ability? I bet my teachers never dreamed the uses I can put it to.\"","","You never dreamed of it either, but this night you do again and again. You dream of a whole troupe of female contortionists showing you each and every secret in the Kama Sutra.","*page_break","*goto_scene juliette","","*label standingdeep","[This option is yet to be written.]","","*label kneesuck","Tamara lets you push her onto her knees and takes your cock into her mouth when you tell her to. She starts to bob her head while simultaneously swirling her tongue all over.","*label kneesuckchoice","*choice","\t#Put your hand on her head.","\t\t*goto handhead","\t#Better not.","\t\t*goto nohandhead","\t","*label helpbootsoff","[This option is yet to be written.]","","*label leavebootson","[This option is yet to be written.]","","*label undresstamara","[This option is yet to be written.]","","*label undress","You stand and take off your clothes while Tamara watches. Now you're completely nude while Tamara's still in her nightshirt and boots. She stands there frozen, not knowing what to do.","*choice","\t#Ask her to take off her clothes.","\t\t*goto askundress2","\t#Ask if she wants you to take her clothes off for her.","\t\t*goto askclothes","\t#See what's under her nightshirt.","\t\t*goto nightshirt","\t#Tell her to come over to your sleeping area.","\t\t*goto yourarea","","*label askundress2","[This option is yet to be written.]","","*label askclothes","\"That would be a good idea,\" Tamara says.","","You go over to her and begin to lift off her nightshirt. She raises her arms to help you, and once the nightshirt's off, you see bare boobs and bare snatch.","","Your manhood begins to rise in response, and Tamara fixes her eyes upon it, licking her lips in anticipation.","","\"I'm getting wet,\" she says.","*choice","\t#Dip your wick and see how wet she is.","\t\t*goto wick","\t#Take her boots off.","\t\t*goto boots","\t","*label wick","You move closer to Tamara until you're almost touching. You put one foot between her and gently push her to one side, making her take a step and spread her legs. Then, bending at the knees, you position your member, already standing straight up, right underneath her. You slowly straighten your legs until your member touches her sex.","","You find she's not very wet yet, only just beginning to get aroused.","*choice","\t#Try to push inside.","\t\t*goto trypush","\t#Make her wet by using your mouth.","\t\t*goto makewet","\t","*label trypush","You push and meet resistance, only getting a tiny bit into her. You pull back out and push in again, and after doing that a few times, you get a tiny bit further in.","","\"I like when a man pushes inside me when I'm still dry,\" Tamara says. \"I can really feel it then.\"","","\"Really?\" you ask.","","\"Yes,\" she says. \"You can push harder.\"","","You push a bit harder, but you only go in a little more.","","\"Go ahead. Push,\" Tamara encourages, so you thrust hard, your member forcing its way inside at last. ","","\"Now fuck me,\" Tamara says.","","You pull out and push in again, and this time, you slide in easy. She was wet on the inside like she said, and now she's fully lubricated. You stand humping her for awhile, the two of you holding each other by the fire.","*choice","\t#Try to walk to one of your bedrolls.","\t\t*goto trywalk","\t#Get her to put her legs around you.","\t\t*goto legsaround","\t#Just keep fucking her standing.","\t\t*goto fuckstanding","\t","*label trywalk","[This option is yet to be written.]","","*label legsaround","[This option is yet to be written.]","","*label fuckstanding","[This option is yet to be written.]","","*label makewet","[This option is yet to be written.]","","*label boots","[This option is yet to be written.]","","*label nightshirt","You lift her nightshirt a little bit, and her naked sex is revealed. You lift it further, and her naked boobs are revealed. There is no Christmas in this fantasy world, but if there were, this would be it.","","You wad up the nightshirt's fabric behind her, and by holding it there with one hand, you keep the nightshirt from falling back down. You bend slightly and kiss her nipples, and Tamara closes her eyes.","*choice","\t#Touch her between the legs.","\t\t*goto betweenlegs","\t#Take her back to your bedroll.","\t\t*goto bedroll","","*label betweenlegs","[This option is yet to be written.]","","*label bedroll","[This option is yet to be written.]","","*label yourarea","[This option is yet to be written.]","","*label noslavery","\"Are you sure? It might be fun being my slave,\" Tamara grins.","*choice","\t#\"Weeeell, okay then, I guess.\"","\t\t*goto slavery","\t#Say no to slavery.","\t\t*goto noslavery2","\t","*label noslavery2","\"But it won't be all the different than being an apprentice,\" Tamara insists. \"And... sex. Don't you want to have sex with me?\" She puts her hands out to the side, palm up.","*choice","\t#\"Weeeell, okay then, I guess.\"","\t\t*goto slavery","\t#Still say no to slavery.","\t\t*goto noslavery3","\t","*label noslavery3","\"Okay, fine,\" Tamara pouts. \"But I'm going to tell everyone you left a horny girl out in the cold.\"","","She stomps over to her bedroll, climbs in, and deliberately faces away from you.","*choice","\t#Change your mind.","\t\t*goto slavery","\t#Try to sleep.","\t\tIt's a looooong night.","\t\t*page_break","\t\t*set camp1_no_sex true","\t\t*goto_scene juliette","","*label yespunishment","\"You're not taking this serious,\" Tamara says and climbs into her bedroll, disgusted. She deliberately turns away from you.","","It's a loooong night.","*page_break Morning","*set camp1_no_sex true","*goto_scene juliette","","","*label respectum","\"Are you at least willing to try?\" Tamara asks.","*choice","\t#\"Heck yeah!\"","\t\t*goto heckyeah","\t#\"As much as I would like to, we better not.\"","\t\t*goto betternot","\t","*label respectum2","\"That's what I thought,\" Tamara says and climbs into her bedroll. ","*label goodnight","\"Good night. Rest well, for tomorrow we meet our fate.\"","","You don't rest all that well, but eventually the fatigue of the journey allows you to fall into a restless slumber full of dreams of dragons and sexy female thieves taking their clothes off by firelight.","*page_break","*set camp1_no_sex true","*goto_scene juliette","","*label heckyeah","\"Then what are you waiting for,\" Tamara says, still just standing by the fire in her nightshirt and boots.","*choice","\t#\"Really?\" You can't quite believe it yet.","\t\t*goto cantbelieve","\t#Jump up and strip her!","\t\t*goto stripher","\t","*label cantbelieve","\"Yes,\" Tamara says, \"Do it before I change my mind.\"","","*label stripher","You jump up and tear her nightshirt off, revealing a totally naked Tamara except for her boots.","","You're about the grab her and throw her down when she stops you.","","\"If you start to disrespect me tomorrow, you become my personal slave as punishment. Got it? Do you agree?\"","*choice","\t#Throw her down and jump her bones.","\t\t*goto throwdown","\t#Push her down onto her knees and stuff your cock in her mouth.","\t\t*goto stuffmouth","\t","*label throwdown","You bend and reach between Tamara's legs, and she's so wet, you easily slide your arm around her until her crotch is in the crook of your elbow. You put your other hand on the back of her neck and easily jerk her from her feet. Despite the violence of the manuever, Tamara remains relaxed, trusting you implicitly, and as you rise to your feet, she remains docile in your arms. You hold her helpless body against your chest, her breasts squashed between you, her sex hot and wet against your arm. You bring her back to your bedroll and unceremoniously dump her upon it.","","Before she can even react, you're upon her, forcing her legs apart. Tamara lays down for you, and you plunge in, making her cry out in pleasure and surprise. You begin pounding her, and she entwines your legs with hers, arching her back and pressing her sex up into you. You mash it down, and she presses it up again. The two of you keep up this rhythm for a long time, the pleasure ever building in both your bodies.","*page_break","*achieve jumpbones","The pleasure builds faster in Tamara, and soon she's thrashing from side to side, moaning, and bucking her hips as she nears orgasm. You start pounding her harder and faster, sending her over the edge, and she cries out as the waves of ecstasy begin to wash over her. Her wild thrashes soon send you over the edge as well, and you shoot your seed deep into her. Each spasm is more powerful than the last, and it seems they could last forever. Finally, though, they subside and a great relaxation comes over both your bodies. ","","\"You used me like a ragdoll, but I liked it,\" Tamara whispers, and soon sleep overtakes the both of you.","*page_break","*goto_scene juliette","","*label stuffmouth","Tamara lets you push her onto her knees but starts to say, \"I'm serious! If you...\"","","You force your cock into her mouth, and she begins to suck it, her head bobbing. After a few bobs, she tries to talk again.","*choice","\t#Let her.","\t\t*goto lettalk","\t#Put your cock in her mouth again.","\t\t*goto mouthagain","\t","*label lettalk","\"I'm taking this as tacit agree...\"","","You put your cock in her mouth again, and she sucks it again. She seems satisfied with what she was able to say and doesn't stop again, her head now bobbing in earnest for a long time.","*choice","\t#Put your hand on her head.","\t\t*goto handhead","\t#Better not.","\t\t*goto nohandhead","\t","*label handhead","You can't help yourself. It feels so good, you have to put your hand on Tamara's head, but she doesn't complain. Emboldened, you even pull her head forward and thrust your member into her mouth, and still she just continues her ministrations.","","She's an expert fellatist, sucking incredibly hard and also knowing just how to use her tongue to give you maximum pleasure. She brings you close to the edge in no time, but just before you spill over into orgasm, she stops.","","\"Please, master,\" she says, looking up at you with wide, needy eyes. \"Can it be my turn now?\"","*choice","\t#Tell her to go a little longer first.","\t\t*goto golonger","\t#Tell her to turn around, bend over, and grab her ankles.","\t\t*goto ankles","\t","*label golonger","\"You promise you won't come?\" Tamara asks in a little girl voice.","","You just put your cock back in her mouth and start humping it, holding her head with both hands, and Tamara loses her balance. With a little stifled scream, she falls into a sitting position, but you just step over her legs and keep going. Now she's more stable, so you fuck her mouth with abandon. You were already close to orgasm, so you thrust fast and hard to bring yourself still closer, always mindful of not pushing too far and choking her. You push so hard, Tamara starts to fall backward, but she's able to stay upright by clinging to your body. You keep going, bringing yourself closer still, and finally Tamara does fall backwards.","","\"Please, master,\" she says. \"I need it!\"","*choice","\t#Give it to her.","\t\t*goto giveit","\t#Put your cock back in her mouth.","\t\t*goto pushups","\t#Ask her to show you how much she needs it.","\t\t*goto showneeds","\t","*label giveit","Tamara's lying on her back by the fire, her legs bent at the knee. You spread her legs with your foot, gently kicking one of her calves, then the other. She spreads her legs for you, and you can't believe she's the same woman who harangued and bossed you around all day. ","","You get on your knees between her legs, look her in the eye a moment, then thrust into her. Hard.","","You slide in easy, her entire sex sopping wet, whipped to a frenzy from the way you fucked her mouth.","","*label pushups","[This option is yet to be written.]","","*label showneeds","Tamara pauses a moment, thinking how she can show you. Then she slowly straightens her legs and runs her hands down her torso until they reach her sex. She spreads herself wide before you, knees locked, and her legs just keep going, spreading wider and wider until she's nearly doing the splits. ","","\"This is how much I need it,\" she whispers. \"Take me...\"","*choice","\t#Take her.","\t\t*goto splitstake","\t#Taste her sex first.","\t\t*goto taste","\t","*label splitstake","[This option is yet to be written.]","","*label taste","[This option is yet to be written.]","","*label ankles","[This option is yet to be written.]","","*label nohandhead","You force yourself to be respectful and keep your hands locked behind you when all you want to do is grab her head and start fucking it. You're keeping your hands off her, so Tamara takes her hands off you too, putting them behind her back. Now you're connected only cock to mouth and nothing more, and this concentrates all the sensation right there. When you sway, Tamara has to struggle to stay attached, but all the while she manages to keep up the rhythmic bobbing of her head.","","She's an expert fellatist, sucking incredibly hard and also knowing just how to use her tongue to give you maximum pleasure. She brings you close to the edge in no time, but just before you spill over into orgasm, she stops.","","\"Please, master,\" she says, looking up at you with wide, needy eyes. \"Can it be my turn now?\"","*choice","\t#Lay her down gently.","\t\t*goto layherdown","\t#Help her to stand up.","\t\t*goto helpstand","\t","*label layherdown","[This option is yet to be written.]","","*label helpstand","You take one of her hands and help her rise to her feet. You're standing so close together, sometimes her hair or a breast brushes against you.","","\"Master, can I climb upon you?\" Tamara asks.","*choice","\t#Say yes.","\t\t*goto letclimb","\t#Pick her up.","\t\t*goto pickup","\t","*label letclimb","Tamara wraps her arms around your neck, and wraps one leg around you. Rising up on her tip-toes, she's just able to get high enough. She reaches down with one hand and guides your member into herself, then wraps her other leg around you until you're supporting her full weight. She rises up until you're just about to fall out of her, but she stops there, embracing you, smothering your face in her chest. ","","\"Will you bite me?\" she asks.","*choice","\t#Bite her.","\t\t*goto biteboobs","\t#Start bucking your hips.","\t\t*goto standbuck","\t#Just lick her boobs but don't bite.","\t\t*goto nobite","\t","*label biteboobs","[This option is yet to be written.]","","*label standbuck","[This option is yet to be written.]","","*label nobite","[This option is yet to be written.]","","*label pickup","[This option is yet to be written.]","","*label mouthagain","[This option is yet to be written.]","","*label betternot","\"Yeah, you're right,\" Tamara says and reluctantly climbs into her bedroll.","*goto goodnight","","*label try2talk","\"Hey, Tamara,\" you say. \"You want to talk for a bit?\"","","\"What? No,\" Tamara says and seems startled. \"I was... thinking, and you disturbed me.\"","","*goto sleepchoice","\t",""]},"sugar":{"crc":1261907208,"labels":{"lap":19,"done":32},"lines":["*temp honeypot false","She roughly pushes you down onto your knees in front of her, undoes her belt buckle, and pulls her breeches down as far as they'll go without taking off her knee-high boots. She spreads her legs as wide as she can, exposing her luscious sex, inches from your face.","*if has_honey","\t*set has_honey false","\t*set honeypot true","\t*achieve honeypot","\tYou're about to dive in when she says, \"Give me your honey,\" and begins rifling through your pack. She pulls it out and smears it all over her twat, even pushing some inside it.","\t","\"Okay, go,\" she says ","*if honeypot","\t*achieve sugarhoney ","\tand pulls your face right into the honey. You begin to lick at the honey, and Tamara urges you on. \"Harder!\" she whispers, and you begin making strong lapping motions, pushing hard with your tongue to scrape as much honey off her outer labia as possible. ","\t","\t\"Yes, like that!\" Tamara says, her voice already showing strain. \"Like that everywhere.\"","\t*goto lap","*else","\t*achieve sugar","\tand pulls your head forward until your mouth is on her sex, already warm and moist. Your tongue slips easily inside her, exploring that most secret of places your cock is much more suited to.","\t","*label lap","She leans against a tree and bends at the knees to spread her legs wider, thrusting her pelvis forward. In a little while, she starts making soft moaning sounds, and pulls your head more firmly into her snatch. In another minute or so, her hips start bucking, she goes weak in the knees, and her cries become desperate, though she does her best to stifle them. Her hands rifle through your hair, fingers grasping at your scalp as unbearable ecstasy consumes her body. ","","Finally her mostly-stifled cries and moans die down, and she begins combing your hair back into place.","","\"That was good, ","*if tamaras_slave","\tapprent... I mean, slave,\" Tamara says. She pats your head. \"I like having a slave.\"","\t","\t*goto done","*else ","\tapprentice,\" Tamara says. \"Well, we better get a move on.\"","\t","*label done","She pulls her breeches back up, and you watch her luscious sex disappear within it, wondering if this is the last time you'll see it.","","\"Don't worry,\" she says. \"You'll get yours later today. If Juliette only likes head and doesn't put out, there's always Princess Elsbeth.\"","","You adjust your pants around your raging boner and fall in step behind Tamara. It interferes with your silent stepping skills, but if she notices, she keeps quiet for once.","*return",""]},"morning_alone":{"crc":1985841263,"labels":{"search":12,"searchbelongings":20,"nofood":32,"nowater":35,"both":38,"ignore":41,"nohoney":50,"grill":68,"grillchoice":70,"lustcheck":109,"next":121,"hike":125,"hikechoice":137,"askdone":144,"walkoff":147,"desperation":150,"askfuck":158,"jerkoff":161,"masturtam":169,"saveforjuliettechoice":237,"tamaraanswer":246,"vague":249,"honest":252,"lesbian":265,"quid":285,"beg":297,"sexplease":307,"enemyjerk":310,"enemyjerk2":330,"enemyjerk3":342,"enemyjerk4":354,"begdie":368,"takeclothes":392,"nexttakeclothes":398,"juliettecomes":446,"balk":476,"tricktrick":522,"begbeg2":525,"begbeg":528,"pullfree":531,"whateverrelief":543,"refuse":551,"jumpbones":561,"resist":575,"strut":587,"watch":599,"takeher":610,"suspecttrick":613,"suspecttrickchoice":619,"resist2":674,"teareyes":683,"rest":694,"faceother":697},"lines":["*temp lust 0","*temp admit_water false","*temp admit_potion false","*temp admit_love_potion false","*temp cumvest false","Early the next morning, you awaken with a start, sure you'd heard something, but when you look around, you see nothing amiss.","*choice","\t#Search the area.","\t\t*goto search","\t#Ignore it.","\t\t*goto ignore","\t","*label search","You spend fifteen minutes scrutinizing the ground, but you find nothing amiss.","*choice","\t#Search your belongings.","\t\t*goto searchbelongings","\t#Ignore it, eat breakfast, and get going.","\t\t*goto ignore","\t","*label searchbelongings","You rifle through your belongings, but everything seems totally fine. ","*choice","\t#Throw away your food just to be safe.","\t\t*goto nofood","\t#Empty your waterskin just to be safe.","\t\t*goto nowater","\t#Throw away both your food and water.","\t\t*goto both","\t#Have a normal breakfast and get going.","\t\t*goto ignore","\t","*label nofood","[This option is yet to be written.]","","*label nowater","[This option is yet to be written.]","","*label both","[This option is yet to be written.]","","*label ignore","You cook up a quick breakfast of oatmeal again.","*if has_honey","\t*choice","\t\t#Put the last of your honey on it.","\t\t\t*set has_honey false","\t\t\t*goto nohoney","\t\t#Save your honey for later.","\t\t\t*goto nohoney","*label nohoney","You eat quickly, eager to resume your journey. Just as you gulp down some water and begin the day's hike, you hear a voice. A female voice. A very Tamara-like, female voice.","","\"Hey,\" she says, sauntering into your camp like she belongs there. \"Getting ready for a hike?\"","","\"Yes. What do you want?\" you ask, warily. She's acting funny, smirking, almost gleeful.","","\"You sure you want to do that?\" she asks, grinning. \"There's not something else you'd like to do?\"","","\"No. Why?\"","","\"Oh, no reason,\" she says, suppressing a giggle.","*choice","\t#Grill her for answers.","\t\t*goto grill","\t#Start your hike.","\t\t*goto hike","\t","*label grill","You decide you need to know what's going on.","*label grillchoice","","What do you ask her?","*choice","\t*hide_reuse #Ask what she's done.","\t\t\"Oh, I trailed you all yesterday,\" Tamara says. \"I'm not going to let you mess up my plans. You and Juliette moved in generally the same direction, so she's actually pretty close. We're going to catch up with her and get her to join us.\"","\t\t","\t\t*gosub lustcheck","\t\t*goto grillchoice","\t*hide_reuse #Ask how long she's been hiding nearby.","\t\t\"Not long,\" Tamara says. \"I camped nearby, got up before dawn, then came here.\"","\t\t","\t\t*gosub lustcheck","\t\t*goto grillchoice","\t*hide_reuse #Ask if she watched you sleep.","\t\t*set admit_water true","\t\t\"What? No!\" Tamara says. \"I'm not into things like that. All I did was add something to your water.\"","\t\t","\t\t*gosub lustcheck","\t\t*goto grillchoice","\t*if admit_water","\t\t*hide_reuse #Ask what she added to your water.","\t\t\t*set admit_potion true","\t\t\t\"A drop of a magic potion,\" Tamara says.","\t\t\t","\t\t\t*gosub lustcheck","\t\t\t*goto grillchoice","\t*if admit_potion","\t\t*hide_reuse #Ask what kind of potion.","\t\t\t*set admit_love_potion true","\t\t\t\"A love potion, of course,\" Tamara says. \"A very special, unique one though. It also has charm and polymorph magic in it as well.\"","\t\t\t","\t\t\t*gosub lustcheck","\t\t\t*goto grillchoice","\t*if (lust > 1) #Make a pass.","\t\t*goto pass","\t#No more questions.","\t\t*goto hike","","*label lustcheck","*if lust = 0","\tYou have morning wood. It's not going away.","\t*goto next","*elseif lust = 1","\tYour morning wood grows stronger, and Tamara starts looking mighty sexy.","\t*goto next","*elseif lust = 2","\tYou start to be unable to think of anything other than how much you want to throw Tamara down and fuck her right on the forest floor.","\t*goto next","*else ","\t*goto desperation","*label next","*set lust +1","*return","\t","*label hike","*if lust = 0","\tYou start the day's journey, once again heading toward DragonKeep, the dragon and the princess. Tamara trails along behind you, and after a few minutes, she asks, \"Have any morning wood today?\"","","\tStrange... you do still have your morning erection, and usually it'd be gone by now. As you walk, instead of dissipating, your cock only gets harder and harder.","","\t\"Bet I'm looking pretty good right about now, huh?\" Tamara says nonchalantly, looking up at the trees.","","\tHer voice, which normally you find grating, turns you on.","\t*goto hikechoice","*else","\tYou try to focus on the journey despite your raging erection, but all you can think about is Tamara. She's fifteen feet behind you, but you think you can somehow smell her scent even from that distance. It's driving you crazy with desire.","*label hikechoice","*choice","\t#Ask her what the &#%@%# she's done to you.","\t\t*goto askdone","\t#Try to walk it off.","\t\t*goto walkoff","\t\t","*label askdone","[This option is yet to be written.]turns to see her, visual stim","","*label walkoff","[This option is yet to be written.]gets worse until can only think about one thing. masturbate?","","*label desperation","You can't take it anymore. You need relief NOW or you'll go stark raving mad. ","*choice","\t#Ask Tamara to fuck you.","\t\t*goto askfuck","\t#Masturbate.","\t\t*goto jerkoff","\t","*label askfuck","[This option is yet to be written.]If made her beg, pay back time","","*label jerkoff","You try to head off into the forest for privacy, but Tamara easily keeps up with you. It's no use. You need relief so urgently, that you don't care anymore. ","*choice","\t#Look at Tamara while doing it.","\t\t*goto masturtam","\t#Face the other direction.","\t\t*goto faceother","\t","*label masturtam","Oh man, that was a mistake. As soon as you look at Tamara, the urge to fuck her is irresistable. Your legs seem to take on a life of their own and start walking toward her.","","\"Rape, rape, oh no,\" Tamara says passionlessly, smirking.","","*if tamara_begged","\t*goto quid","\t","You start to rip open her breeches like a starving man and a package of food, while Tamara half-heartedly undoes your belt for you. You get her pants down as far as they'll easily go, whip out your rock-hard member, and thrust it into her. ","","Man, it feels good, but you don't care. All you care about is relief, so you begin pounding her so hard it starts driving her backwards.","","\"Whoa, slow down there,\" Tamara says, not really meaning it, as she half-falls/half-steps backwards until you have her up against a tree.","","Your hands dig into the bark like claws, desperately trying to get a better grip to pound her even more mercilessly.","","\"Oh, oh, oh yeah,\" Tamara says. \"I'm actually kinda getting turned on now from all this friction. Good thing I lubed myself first or this would be kinda bad.\"","","You jackhammer away.","","\"I used tallow,\" she goes on. \"Was meant for cooking. Say, wouldn't you like some boob action?\"","","While you continue humping her furiously, unable to think of anything else, she casually unties the laces of her vest and opens it up. You dive in without missing a beat and begin simultaneously fucking and sucking her.","","Tamara stops talking, now just leans against the tree, enjoying the sensations you're stimulating in her body like her own personal little pleasure machine.","","\"I'll get you for this,\" you mutter.","","Tamara just giggles.","*page_break","Slowly, your feelings toward Tamara begin to shift. Anger and distrust dissolve, replaced by attraction and affection, and your thrusting slows as you begin to caress and kiss her. Instead of desperation, you begin to enjoy the process, the exquisite pleasure her body is giving you.","","Tamara begins to kiss you back with real feeling and runs her hands up and down your body. Your thrusts become long and powerful, slamming again and again into her, and with each one, Tamara moans with pleasure, her hands beginning to grasp at your flesh longingly.","","You pull away from her, so you can look into her eyes, maintaining the strong, powerful thrusts. She looks back at you, her whole body wracked each time you plunge into her again. She closes her eyes in bliss. ","","Placing a hand on each shoulder, you gradually increase your pace until Tamara's body is bouncing before you. \"Ohhhhh... uhhhhhh......\" she says.","","You find yourself falling in love with her. This is not good.","","\"I love you,\" you hear yourself say involuntarily.","","\"I know,\" Tamara says with a touch of resignation. She knows it's just the effect of her magic potion, but to you it feels intensely real. You express this love growing in your heart through your body, and Tamara's body responds. The pleasure grows and grows, each thrust strengthening the emotional bond between you. ","","Finally, the pleasure grows unbearable, and both of you cannot help crying out at the top of your lungs. You grasp each other as orgasmic spasms wrack both your bodies, and as you feel your seed shoot deep inside her, it feels like you're now joined in love forever.","*page_break","*achieve potionvictim","When finally it subsides, you regain enough composure to ask, \"Uh, how long does this spell last, anyway?\"","","Tamara doesn't speak for awhile, just remains clinging to you, and you have to admit that holding each other like this feels very nice. You wish you could stay this way forever.","","Finally, Tamara releases you and pulls away slightly, and at the sight of her breasts, you feel your spent member begin to rise again.","","\"Like it or not,\" Tamara says. \"We're lifelong friends now. That's why I try not to use this potion on people. Now get outta me. You gotta save some of that for Juliette.\"","","Reluctantly, you ease yourself from her body and separate, feeling lonely for her touch already.","*page_break","\"Hey, what's going on here?\" says a voice behind you.","","Tamara pushes you off her, and pants around your ankles, you fall. She whips out her deadly blade, and you struggle to do the same.","","You turn and see that it's Juliette, standing with her hand on the pommel of her sword, looking curious rather than threatening.","","\"It sounded like you were dying,\" she says. \"I thought an animal was mauling two people.\"","","\"That's not too far off,\" Tamara says laughing while she pulls up her pants. She puts her sword away.","","\"What do you have to save for me?\" Juliette asks, addressing the question to both of you.","*label saveforjuliettechoice","*choice","\t#Let Tamara answer.","\t\t*goto tamaraanswer","\t#Try to answer in a non-insulting, vague way.","\t\t*goto vague","\t#Come clean and answer honestly.","\t\t*goto honest","\t","*label tamaraanswer","[This option is yet to be written.]","","*label vague","[This option is yet to be written.]","","*label honest","\"I guess you heard the whole conversation, huh?\" you ask, and Juliette nods.","","\"Then I won't try to hide anything,\" you say. \"We talked with Banes earlier and decided we want to join forces with you. My friend here, Tamara, is a master of dragonlore, and she knows the secret entrance.\"","","Tamara nods.","","\"But what's this you're saving for me?\" Juliette asks.","","\"A personal love machine,\" Tamara chimes in. \"My friend here is a master cunnilinguist.\"","","\"Oh, but I'm a lesbian,\" Juliette says. \"No thank you, anyway. I plan to fight chivalrously, not sneak in like a thief in the night. Now that I see no one is being mauled, I'll be on my way. Goodbye.\"","","*label lesbian","She turns to go.","","You look at Tamara. Tamara looks at you. You stare at each other for a long moment, and finally Tamara mouths the words, \"She's... a... lesbian...\" Her mouth drops open.","*fake_choice","\t#Sing the Batman theme song except change the lyrics to, \"Nuh nuh nuh nuh nuh... Seduction time... Seduction time... Nuh nuh nuh nuh... Seduction time!\" and point at Tamara.","\t\t","\t#Just laugh.","\"But... but... but... I don't like girls in that way,\" Tamara says, mouth still open in shock, eyes bugging out at the horror of it all. \"No, no, no, I can't do it. You still have to do it. It's too disgusting to me. I only like men, men, MEN!\"","*fake_choice","\t#\"Too bad. You have to do it.\"","\t\t\"Why do I have to do it, though?\" Tamara says. \"Would you do it if you were as straight as I am, and it was some other man? No. No way would you do it, so I'm not doing it.\"","\t\t*fake_choice","\t\t\t#Sing the Batman theme song except change the lyrics to, \"Nuh nuh nuh nuh nuh... Too bad... Too bad... Nuh nuh nuh nuh... Too bad!\"","\t\t\t#Just laugh.","\t#\"So it was okay forcing ME to seduce her, but now when the tables are turned you won't?","\t\t\"But it's different, though!\" Tamara insists. \"You're a man. ","\t\t*gosub_scene piglist","[Unfinished]","\t\t","*label quid","You start to rip open her breeches like a starving man and a package of food, but Tamara catches your hands in a vise-like grip and presses down until you fall on your knees before her. ","\t","\"Remember how you made me beg yesterday?\" she sneers. \"Now, it's payback time.\"","*choice","\t#Beg, beg, and beg some more.","\t\t*goto beg","\t#Beg not to have to beg.","\t\t*goto begbeg","\t#Pull your hands free.","\t\t*goto pullfree","\t","*label beg","You fall to your knees.","","\"Yeah?\" Tamara asks. \"What do you want?\"","*choice","\t#\"Sex, please.\"","\t\t*goto sexplease","\t#Masturbate instead. This is too humiliating.","\t\t*goto enemyjerk","\t","*label sexplease","[This option is yet to be written.]","","*label enemyjerk","Despite the embarrassment of jerking off in front of not only a hot woman but one who's almost your enemy, you simply don't have the luxury of privacy. You pull down your pants, whip out your painfully swollen member, and get yanking.","","\"That doesn't work,\" Tamara says.","","You don't listen. (Wank, wank, wank.)","","\"Seriously, it doesn't work,\" Tamara says, \"And it's bad for your health.\"","","\"Will I go blind too???\" you cry. (Wank, wank, wank.) ","","\"You'll wank until you die and never get any relief,\" Tamara says.","","\"Shut up, shut up, SHUT UP!\" you cry. If only she'd shut up, maybe you could get relief, or... could she be telling the truth?","*choice","\t#It's a trick. Keep going.","\t\t*goto enemyjerk2","\t#Beg not to have to beg anymore.","\t\t*goto begbeg2","","*label enemyjerk2","\"Well, if you're gonna kill yourself, can you at least hurry up about it?\" Tamara says. \"Here, I'll help.\"","","She pushes a finger into herself and starts moving it in and out in front of you.","","It certainly helps...","*choice","\t#Keep going.","\t\t*goto enemyjerk3","\t#Hmm... maybe THIS is a trick now?","\t\t*goto tricktrick","","*label enemyjerk3","Now that Tamara's not yacking anymore and is doing something mildly visually appealing, you're able to concentrate on your wanking. The pleasure builds, builds, and builds, taking you to masturbatory heights you have never before experienced. It reaches an unbearable level, and your hand is a frantic blur as you inch closer and closer to release. You arm tires, but with great force of will, you redouble your efforts and are finally rewarded with the spew of white goo.","","It flies so far, Tamara has to take a step back to avoid being hit, and the spurts just keep going. Instead of dying down, the soul-wrenching desire remains the same, so you keep hammering your loins, releasing spurt after spurt.","","Tamara pulls her finger out of herself. \"Ok, see, you're going to drain yourself dry and die,\" she says. \"Now's about your last chance. Beg, and I'll give you release. It's your only other option at this point.\"","*choice","\t#Keep going.","\t\t*goto enemyjerk4","\t#Beg.","\t\t*goto begdie","","*label enemyjerk4","*achieve ending7","Soon, instead of spurts, your come flows out in a constant stream like a fountain, gallons of it before it begins to die down to a trickle. The trickle turns to blood, and then finally, a feeble puff of air.","","You die, utterly drained of vital essence.","","THE END.","","Perhaps someone knows the fate that befell Princess Elsbeth and Juliette the knight, but it's not you. At least not in this life.","","You have reached Ending #7 of 7: Utter Exhaustion.","*page_break","*ending","","*label begdie","\"Please, Tamara! Please!\" you cry.","","Your seed begins to flow in a continuous stream like a fountain now, and it won't stop, forming great puddles all around you.","","\"Swear eternal allegiance to me,\" Tamara demands, remaining rooted to the spot while your very life drains away.","","\"Yes, anything!\" you cry.","","\"So you're my slave now?\" Tamara asks, taking a tentative step closer.","","\"YES!!!\"","*page_break","*set tamaras_slave true","*achieve slave","Tamara rushes to you and leaps upon your spurting member, and once it's inside her, the life draining torrent eases, then stops. You're still rock-hard but exhausted.","","\"Slave, take my clothes off,\" Tamara says. \"You must stay in me at all times or face punishment.\"","*choice","\t#Obey.","\t\t*goto takeclothes","\t#Balk.","\t\t*goto balk","\t","*label takeclothes","*if cumvest","\tYou take Tamara's vest off first, gingerly avoiding the cum-soaked areas.","\t*goto nexttakeclothes","*else","\tYou take Tamara's vest off first, revealing her naked torso.","*label nexttakeclothes","Her boots are a little harder to remove, while underneath her and needing to stay inside her, but she cooperates, letting you eventually get them off. The same goes for her breeches, but she again cooperates, moving all about as needed. All this stimulates you to no end, but she doesn't let you fuck her until all her clothes are off. Then she makes you take your own off, which is easier, and she rides you while you do it like a rider on a bucking horse.","","\"That felt good,\" she says. \"Now, slave, roll me around in these puddles. You spewed it, so we might as well put it to use.\"","*page_break","*achieve cumbath","You roll her over and fuck her while she lies right on top of the biggest puddle. She lies there, legs spread and lifted to each side, bent at the knee.","","\"Slave,\" she says after a good bit. \"Put my feet next to your head.\"","","You put her feet next to your head, now fucking down into her, and it makes her pussy tighter.","","After another good bit, she lets her feet fall, both to one side, until she's lying on her side, still in the puddle of cum. \"Stay in me, slave, or be punished!\" she says. You manage to stay in her by straddling one of her legs, and you find you can sit on her thigh and push all the way in. You hold her upper thigh against you as you continue humping away in this, the scissors position.","","Tamara turns onto her stomach, and you scramble to stay inside her. You fuck her on top from behind while she squirms around beneath you, smearing her breasts in the cum puddle.","","The pleasure builds, and you begin to pound her harder, making cum fly out from under her with each powerful thrust. You hear her boobs slapping again and again against the wet ground as she continues her squirming. You reach around and fondle her breasts, all slippery with your seed. You wrap your arm around her throat and press her face and body into the cum-soaked earth. Tamara's limbs begin to flail beneath you as she approaches climax, and she starts to moan again and again.","*page_break","Slowly, your feelings toward Tamara begin to shift. Anger and distrust dissolve, replaced by attraction and affection, and it build with each thrust, lust magically transforming into love. As your passion reaches its crescendo, and you're pounding her hard, the words, \"I love you,\" fly from your lips. You're surprised to realize you really mean it.","","\"I know,\" Tamara says with a touch of resignation. She knows it's just the effect of her magic potion, but to you it feels intensely real. ","","Finally, the pleasure, as well as love, grows unbearable, and both of you cannot help crying out at the top of your lungs. Your arms easily snake around Tamara's cum-lubricated body to hold her close, and her hands scramble in the earth as orgasmic spasms wrack her body. You feel your seed shoot deep inside her, and it feels like you're now joined in love forever.","*page_break","*achieve potionvictim","When finally it subsides, you regain enough composure to ask, \"Uh, how long does this spell last, anyway?\"","","Tamara doesn't speak for awhile, just remains laying beneath you, still breathing hard. You have to admit that lying here with her feels very nice, and you wish you could stay this way forever.","","Finally, Tamara shifts and turns over.","","\"Like it or not,\" Tamara says. \"We're lifelong friends now.\"","","She rises to her knees. \"Plus, you're my slave, so now it's time to clean your master's body... with your tongue.\"","*choice","\t#Do it.","\t\tYou run your tongue all over Tamara's cum-smeared body until she's entirely clean.","\t\t","\t\t\"That was so good, every bath of mine from now on will be like this,\" she laughs. ","\t\t","\t\t*goto juliettecomes","\t#\"Ummm...\"","\t\tTamara laughs. \"Even I am not THAT cruel,\" she says. \"You can use this rag and some of my water.\"","\t\t","\t\tYou use the wet rag to diligently scrub Tamara's whole body clean as well as her vest.","\t\t","\t\t*goto juliettecomes","","*label juliettecomes","Tamara looks around at the cum-spattered area around you. \"I hope you've saved some of this for Juliette,\" she jokes.","*page_break","\"Hey, what's going on here?\" says a voice behind you.","","You spin around while Tamara lunges for her sword, lying discarded nearby on the ground.","","You see Juliette, standing with her hand on the pommel of her sword, but she looks more curious than threatening.","","\"It sounded like you were dying,\" she says. \"I thought an animal was mauling two people.\"","","\"That's not too far off,\" Tamara says laughing while she scrambles to get dressed. She puts her sword away.","","\"This looks like a scene from erotic Eden,\" Juliette says, looking around at the puddles and your two naked bodies. \"What were you doing?\"","","\"Cementing a friendship,\" Tamara says as she pulls on her breeches.","","\"Here? So close to the dragon's lair?\" Juliette asks incredulously.","","\"One does what one must,\" Tamara shrugs, slipping on her embroidered leather vest.","","\"When I first arrived, I heard something about you saving something for me?\" Juliette asks, addressing the question to both of you.","*choice","\t#Let Tamara answer.","\t\t*goto tamaraanswer","\t#Try to answer in a non-insulting, vague way.","\t\t*goto vague","\t#Come clean and answer honestly.","\t\t*goto honest","","*label balk","\"Please, Tamara,\" you say. \"I begged. Isn't that enough?\"","","\"No!\" Tamara says, bouncing up and down on you in frustration, ironically sending paroxyms of pleasure through your body. \"I get on my knees for no man, and you spurned me. You're lucky to be alive.\"","*choice","\t#\"I didn't mean to spurn you, just that I can't trust you.\"","\t\t\"But you have to trust me,\" Tamara says. \"We're going to help Juliette slay the dragon and rescue the princess. Please, just take off my clothes? We need to finish this.\"","\t\t*choice","\t\t\t#Ask why you need to finish this.","\t\t\t\tTamara snickers, and it makes her boobs bounce. You like how that looks but not how it sounds.","\t\t\t\t","\t\t\t\t\"I've caught you in a wicked love spell,\" Tamara says, smiling. \"I didn't want to do it, but you gave me no choice. If we consummate now, you will be bound to me for life by charm magic, and if we don't, you'll die of insatiable lust unless you can find another suitable partner. Take off my clothes now, please.\"","\t\t\t\t*choice","\t\t\t\t\t#Take off her clothes.","\t\t\t\t\t\t*goto takeclothes","\t\t\t\t\t#Ask what it means to be bound for life to her.","\t\t\t\t\t\t\"Oh, you will still have free will,\" Tamara says. \"You needn't worry about that, and you can still be with as many different women as you please.\"","\t\t\t\t\t\t","\t\t\t\t\t\tYou breathe a sigh of relief.","\t\t\t\t\t\t","\t\t\t\t\t\t\"It's just that we'll be like very good, lifelong friends,\" she goes on. \"That may not sound so bad, but it can be. Conflicts arise. Obligations. Loyalties. Bickering. Friendship causes all manner of complications, so that's why I never use it unless I have to.\"","\t\t\t\t\t\t","\t\t\t\t\t\tAll the while, your cock remains stubbornly rock-hard inside her, a horse champing at the bit.","\t\t\t\t\t\t*choice","\t\t\t\t\t\t\t#Take off her clothes.","\t\t\t\t\t\t\t\t*goto takeclothes","\t\t\t\t\t\t\t#Push her off you.","\t\t\t\t\t\t\t\t*set cumvest true","\t\t\t\t\t\t\t\tYou turn to one side, and Tamara falls off you. Your dick pops out of her and is so erect it slaps into your stomach, making a sound like meat thrown against more meat. Instantly, the insatiable lust builds in you.","\t\t\t\t\t\t\t\t","\t\t\t\t\t\t\t\t\"You pushed me into a cum puddle,\" Tamara says, pouting. \"Take off my clothes.\"","\t\t\t\t\t\t\t\t","\t\t\t\t\t\t\t\tYour will breaks. Having just been inside her, you can't resist the lust when it returns full force.","\t\t\t\t\t\t\t\t","\t\t\t\t\t\t\t\tYou start to take off Tamara's clothing.","\t\t\t\t\t\t\t\t","\t\t\t\t\t\t\t\t\"Ah ah ah,\" she says shaking her head. \"The slave must be inside me.\"","\t\t\t\t\t\t\t\t","\t\t\t\t\t\t\t\tShe climbs back on you, and your still rock-hard dick slides right in again. ","\t\t\t\t\t\t\t\t","\t\t\t\t\t\t\t\t*goto takeclothes","\t\t\t#Take off her clothes.","\t\t\t\t*goto takeclothes","\t#Take off her clothes just to shut her up, but you know you're not her slave.","\t\t*goto takeclothes","\t\t\t\t\t\t\t\t","*label tricktrick","[This option is yet to be written.]","","*label begbeg2","[This option is yet to be written.]","","*label begbeg","[This option is yet to be written.]","","*label pullfree","You try to wrench your hands free, and surprisingly, Tamara instantly lets go, causing you to fall.","","\"How bad do you want it?\" Tamara demands.","","You want it bad. Really bad.","*choice","\t#Do whatever you have to do to get relief.","\t\t*goto whateverrelief","\t#Resist. The potion's gotta wear off sometime.","\t\t*goto resist","\t","*label whateverrelief","\"On you knees,\" Tamara says. \"You know what to do.\"","*choice","\t#Get on your knees and beg.","\t\t*goto beg","\t#Refuse.","\t\t*goto refuse","\t","*label refuse","Tamara just stands there doing nothing... except to you, \"doing nothing\" means exuding an irresistable aura of overpowering sexuality. It's all you can do to keep from jumping her bones. You're losing your mind to the intensity of the magically-charged passions roiling in your body.","*choice","\t#Jump her bones.","\t\t*goto jumpbones","\t#Give in and just beg.","\t\t*goto beg","\t#Resist. The potion's gotta wear off sometime.","\t\t*goto resist","\t","*label jumpbones","You charge at Tamara, but she was expecting this. She leaps out of your grasp and scurries away, and you know she's faster than you. You'll never catch her.","","The intense desire surging in your loins, combined with the realization of defeat, make you collapse to your knees.","","\"Good,\" Tamara says. \"That's the position I want, and you know what comes next.\"","","Sweat is pouring down your face, and you don't know how much more of this you can take.","*choice","\t#Give in and just beg.","\t\t*goto beg","\t#Resist. The potion's gotta wear off sometime.","\t\t*goto resist","","*label resist","You force yourself to breathe slowly, shut your eyes tight, and think of all the disgusting things you can imagine. ","","You think of a putrid refuse heap, but a beautiful maiden emerges from the slime like Aphrodite birthed from sea foam. You shove the maiden back down and cover her with a hundred years of accumulated filth, and it kind of works. It feels like an eternity in that refuse heap full of every possible disgusting thing, with boobs and butts appearing in the darndest of places, but eventually, the magic lust subsides. You collapse in utter exhaustion, drenched in sweat.","","\"By the gods!\" Tamara cries. \"I have never seen a man with such strength.\"","*choice","\t#Stand up, dust yourself off, and strut.","\t\t*goto strut","\t#Rest for a bit.","\t\t*goto rest","\t","*label strut","You try to stand, but you legs falter. Tamara rushes to steady you and helps you to sit on a nearby tree stump. Her touch, while pleasant, now lacks the preternatural force of attraction from before.","","\"A man with such self-control can go all night, can't he?\" Tamara asks, her voice full of admiration. \"No man has ever brought me to climax,\" she goes on. \"The potion's worn off, but I offer myself to you nonetheless. You're the one to take where I've never been.\"","","She stands and begins to slowly strip off her clothing.","*choice","\t#No harm in just watching, is there?","\t\t*goto watch","\t#It's a trick. Tear your eyes away.","\t\t*goto teareyes","","*label watch","*achieve strip","Tamara's thieves guild must teach dance classes or something, for she's able to sway and move while undressing in a way that's totally mesmerizing. Her vest falls open, giving you snatches of glimpses of her breasts bouncing within. She reaches in and caresses herself and lets her hand nudge her vest open a bit further. Her gloved hands then run down her torso and reach into her skin-tight leather breeches, alternating as they slide, first one and then the other, over her sex. She pulls her breeches down with one hand, revealing her sex, one finger already inside. She spreads her legs, and thrusting her pube forward, parts her lips for you.","","\"I give myself to you...\" she whispers sensually. \"Take me...\"","*choice","\t#Take her.","\t\t*goto takeher","\t#It must be a trick...","\t\t*goto suspecttrick","\t","*label takeher","[This option is yet to be written.]","","*label suspecttrick","You suspect it's a trick, then you KNOW it's a trick. The now familiar preternatural lust is once again rising in your loins, and you realize that you were able to fight it off only when there was no stimulus at all. It seemed gone, but now with stimulus, it's power is as strong as ever. Already exhausted, you doubt you'll be able to resist for long.","","\"The more things change, the more they stay the same,\" Tamara says. \"Beg.\"","","(Ten points if you know where that's from.)","*label suspecttrickchoice","*choice","\t#Beg.","\t\t*goto beg","\t#Resist.","\t\t*goto resist2","\t*disable_reuse #Answer the question for ten points.","\t\tIn what movie is the line, \"The more things change, the more they stay the same?\"","\t\t*choice","\t\t\t#2001: A Space Odyssey","\t\t\t\tWrong, but you get a second chance: The monolith brings on many changes, and I can take or leave it if I please. (Ten points if you know where that's from.)","\t\t\t\t*choice","\t\t\t\t\t#Answer the question for ten points.","\t\t\t\t\t\tWhat movie had a song with the lyrics: \"...brings on many changes, and I can take or leave it if I please?\"","\t\t\t\t\t\t*choice","\t\t\t\t\t\t\t#Insatiable.","\t\t\t\t\t\t\t\tBefore she was a MILF. Nice, but she definitely couldn't leave it.","\t\t\t\t\t\t\t\t","\t\t\t\t\t\t\t\tDo you beg or not?","\t\t\t\t\t\t\t\t*goto suspecttrickchoice","\t\t\t\t\t\t\t#Leave It to Beaver","\t\t\t\t\t\t\t\tIt has the leave it part, and beaver is always cool, but... no take. Sorry, no dice.","\t\t\t\t\t\t\t\t","\t\t\t\t\t\t\t\tDo you beg or not?","\t\t\t\t\t\t\t\t*goto suspecttrickchoice","\t\t\t\t\t\t\t#M.A.S.H.","\t\t\t\t\t\t\t\t*achieve mash","\t\t\t\t\t\t\t\tBingo!","\t\t\t\t\t\t\t\t","\t\t\t\t\t\t\t\tNow back to our story: Do you beg or not?","\t\t\t\t\t\t\t\t*goto suspecttrickchoice","\t\t\t\t\t\t\t#Pussy Mashers","\t\t\t\t\t\t\t\tUm, yeah... that almost works... Do you beg or not?","\t\t\t\t\t\t\t\t*goto suspecttrickchoice","\t\t\t\t\t#Screw these stupid trivia questions.","\t\t\t\t\t\tThat's what she said. Do you beg or not?","\t\t\t\t\t\t*goto suspecttrickchoice","\t\t\t#Escape From L.A.","\t\t\t\t*achieve changesame","\t\t\t\tDon't they now? Congratulations. Now...  Do you beg or not?","\t\t\t\t*goto suspecttrickchoice","\t\t\t#Batman: Arkham City","\t\t\t\tThat's a video game, not a movie. Close but no cigar.","\t\t\t\t","\t\t\t\t Do you beg or not?","\t\t\t\t*goto suspecttrickchoice","\t\t\t#Black Sabbath: The Wasted Years","\t\t\t\tThat's... just slightly mixed up. In two ways.","\t\t\t\t","\t\t\t\t Do you beg or not?","\t\t\t\t*goto suspecttrickchoice","\t\t\t#Spiderman II: Electric Boogaloo","\t\t\t\tSpiderman can't do a backspin! Do you beg or not?","\t\t\t\t*goto suspecttrickchoice","\t\t\t","*label resist2","You try to return to the most disgusting place in the universe, the cesspool in your mind, but unfortunately now, instead of piles of refuse, it's an endless field of rolling hills, all shaped like breasts and butts. For the life of you, you can't think of a single disgusting thing.","","Tamara stands nearby waiting patiently, her pants still down, nonchalantly rubbing a boob now and again.","","You can't help yourself...","","*goto beg","","*label teareyes","You avert your eyes just as Tamara's vest falls open, and for the briefest moment, you saw her breasts and felt a surge of the now familiar preternatural lust rise in your loins again. Indeed it was a trick!","","Tamara pulls her vest's laces tight again.","","\"Smart man,\" she says coldly. \"You better hope it's enough to outwit a dragon.\"","","She turns and leaves.","*page_break","*goto_scene juliette_alone","","*label rest","[This option is yet to be written.]","","*label faceother","[This option is yet to be written.]","",""]},"juliette":{"crc":249723043,"labels":{"morningsex":39,"cantsex":49,"early":54,"whatwants":59,"hike":62,"predawnwalk":63,"hike2":90,"sugar":125,"approach":139,"join":147,"lonely":170,"lonelychoice":177,"banessaid":191,"banessaidchoice":198,"umuh":212,"hail":217,"introself":229,"clair":249,"banes":252,"proposal":255,"introboth":266,"tamaratakesover":269,"appraisal":273,"breakfast":283,"noinvite":286,"oldways":289,"nosneak":301,"sugarhear":315,"talkinstead":323,"talkchoice":327,"dragonsenseeye":347,"deepthroatabil":357,"otherskills":365,"nameone":373,"nameonechoice":381,"hateanal":390,"noanal":398,"tryit":402,"quickanal":406,"claim":410,"sleepsex":444,"sleepsexchoice":464,"expertise":472,"beforethief":476,"beforethief2":485,"dragonlore":494,"dragoneye":502,"honeystung":508,"sugarfirst":517,"sugarfirstchoice":519,"givesugar":526,"stutter":542,"studly":558,"proposebanes":566,"noproposebanes":575,"metbanes":580,"banestruth":587,"elabstory":604,"asktrough":616,"notrough":625,"badidea":630,"askjob":640,"refusesugar":648,"julietteawake":663},"lines":["*temp wary false","*temp malebutterfly false","*temp proposed_alliance false","","*if camp1_no_sex","\t*achieve nosex","\tJust before dawn, you're awakened by a pebble hitting you in the face. It's Tamara, sitting on her bedroll, topless, her breeches already on, putting on her boots.","\t","\t\"Come on,\" she says. \"If my calculations are correct, now's the time we have to leave to catch Juliette at her special morning time.\"","\t","\tIt's still quite dark, and you're sleepy.","\t*choice","\t\t#Go back to sleep.","\t\t\t\"How about a morning blowjob?\" Tamara asks, and you're up like a shot.","\t\t\t","\t\t\t\"Just kidding,\" she says, putting on her vest. \"Now let's get going.\"","\t\t\t","\t\t\tTamara has no tolerance for laziness. ","\t\t\t*gosub_scene adj_respect -10","\t\t\t","\t\t\t*goto predawnwalk","\t\t#Get up grumbling.","\t\t\t\"I don't know what you're complaining about,\" Tamara says, putting on her vest. \"In a few hours, you'll be lapping Juliette's cunt.\"","\t\t\t","\t\t\t*goto predawnwalk","\t\t#Get up and get ready without complaint.","\t\t\tTamara nods to herself when she sees you getting up, puts on her vest, and is ready to go.","\t\t\t","\t\t\t*gosub_scene adj_respect 5","\t\t\t","\t\t\t*goto predawnwalk","*else","\tTamara wakes you up just before dawn by nudging you in the ribs.","\t*choice","\t\t#Have morning sex.","\t\t\t*goto morningsex","\t\t#Ask her what she wants.","\t\t\t*goto whatwants","\t\t","*label morningsex","You notice you have morning wood, so it's just a simple matter of slipping into her and...","","\"There's no time for that,\" Tamara says. \"We need to get up early to catch up with Juliette at her special morning time.\"","*choice","\t#\"Can't we have sex first?\"","\t\t*goto cantsex","\t#\"But it's too eeeaaarly!\"","\t\t*goto early","\t\t","*label cantsex","\"No we can't,\" Tamara says, already up and getting dressed. She kicks you with her foot.","","*goto hike","","*label early","\"Don't be a cry-baby,\" Tamara says, already up and getting dressed. She kicks you with her foot.","","*goto hike","","*label whatwants","\"We need to get up early to catch up with Juliette at her special morning time,\" Tamara says, already up and getting dressed. She kicks you with her foot.","","*label hike","*label predawnwalk","*comment should consolidate 2 labels into 1","The crisp morning air refreshes you as you follow behind Tamara, resuming your march uphill. Your muscles are a bit sore, but not too bad.","","*if camp1_no_sex","\t\"Gods, I am so horny,\" Tamara mutters as she walks. \"Why didn't you jump my bones last night after all the hints I was dropping?\"","\t*fake_choice","\t\t#\"Ummm... the MASTER/APPRENTICE RELATIONSHIP THING\t?!?\"","\t\"Yeah, but once you seduce Juliette, you won't need me anymore. We could've probably done it,\" Tamara says.","\t","\tYou kick yourself.","\t*page_break","\t*goto hike2","*else","\tTamara turns around. \"Ok, look here, apprentice,\" she says. \"Last night was great, but don't make me regret it. It will never happen again, and ","\t*if slave_deal","\t\tremember, if you let it get to your head and show even the slightest sign of disrespect, it's slavery time.\"","\t\t","\t\t*goto hike2","\t*else","\t\tI think we need to put in place some extreme measures to ensure you maintain an apprentice's proper level of respect. How about if you ever disrespect me, even just a little, you become my personal slave?\"","\t\t*fake_choice","\t\t\t#\"It will never happen.\"","\t\t\t#\"Ummm... okaaaay...\"","\t\t\t#\"No way! I'll never be anybody's slave.\"","\t\t\"Good, it's settled then,\" Tamara says, nodding and resuming the hike. \"Stay apprentice-like, and no slavery will befall you.\"","\t","*label hike2","You and Tamara share your smoked pork and beef jerky while walking in silence and the morning mist. All you hear is the regular crunch-crunch of the pine needles under your feet.","*page_break","Tamara gets on your case for not practicing your silent stepping.","*if not(camp1_no_sex)","\t(Good thing she didn't take it as a sign of disrespect!)","\t","You walk in silence for around fifteen minutes, amazed that you're able to walk silently even on pine needles.","*page_break","You notice Tamara's steps starting to make some noise, and she seems distracted, pensive. Eventually, she stops walking, her eyes glazed like she's lost in thought.","*fake_choice","\t#\"You're not going to start crying again?\"","\t#Just wait.\t\t","\"Give me some sugar,\" Tamara says, her gaze still as if staring at something off in the distance.","*fake_choice","\t#\"What?\"","\t#\"Excuse me?\"","\t#\"Sugar?\"","\"I said give me some sugar,\" she repeats.","*choice","\t#Give her some sugar.","\t\t*goto sugar","\t#Ask what she means.","\t\t\"Look,\" Tamara says. \"I know what I just said, but we're going to catch up with Juliette soon. When that happens, I want you to focus all your amorous attention on her. ALL. Got it? So now, THIS ONE TIME, I'm asking you to break our master-apprentice deal and GIVE ME SOME SUGAR!\"","\t\t*choice","\t\t\t#Give her some sugar.","\t\t\t\t*goto sugar","\t\t\t#Tell her you want to, but you can't risk the master/apprentice relationship.","\t\t\t\t\"YOU, apprentice, are disobeying your master, which equates to disrespect,\" Tamara says sharply. \"You are now my slave, and I order you to give me some sugar.\"","\t\t\t\t*set tamaras_slave true","\t\t\t\t*achieve slave","\t\t\t\t*fake_choice","\t\t\t\t\t#Give her some sugar.","\t\t\t\t*goto sugar","","*label sugar","*gosub_scene sugar","*page_break","After perhaps an hour, the dim, near darkness gives way to rosy dawn, but the chill lingers in the air. Tamara motions for you to be quiet, and carefully, the two of you creep from tree to tree until finally Tamara says, \"There she is.\"","","You peer around the tree the two of you are hiding behind and see Juliette still sleeping next to a small fire.","","Tamara nudges you. \"Seduction time,\" she whispers. \"Go!\"","*choice","\t#Approach the sleeping Juliette.","\t\t*goto approach","\t#Tell Tamara you want to wait until Juliette awakens.","\t\t*goto nosneak","\t","*label approach","How do you approach?","*choice","\t#Sneak up and join Juliette under her blanket.","\t\t*goto join","\t#Hail her.","\t\t*goto hail","\t","*label join","*set wary true","You get perhaps ten feet from Juliette when she bursts awake and leaps to her feet. Out of the corner of your eye, you see Tamara smack herself on the forehead and mutter something about your stupidity to herself.","","Juliette's still in her armor, and apparently even sleeps in her helm. She whips out her sword but her shield is still propped against a log near the fire.","","\"State your business, cretin,\" she demands, but already she's advancing on you.","","Tamara shows herself, causing Juliette to cease her advance.","","\"We come as friends,\" Tamara says.","","\"Why send your compatriot forward in stealth then,\" Juliette says, eyes narrowed suspiciously as she retreats a few steps and picks up her shield.","","\"Yeah, why?\" Tamara says, looking at you. ","*choice","\t#\"Um, you looked lonely sleeping there all by yourself?\"","\t\t*goto lonely","\t#\"Banes said we could make friends with you by seducing you?\"","\t\t*goto banessaid","\t#\"Um, uh...\"","\t\t*goto umuh","\t","*label lonely","\"And you thought you'd keep me company, I presume?\" Juliette says disgustedly. \"I should slay you where you stand.\"","","Tamara steps in front of you and shoves you behind her. \"I apologize for him,\" she says. \"He means well but gets crazy ideas sometimes. Why just yesterday, he was... Well, never mind that. Suffice it to say he did many unusual things yesterday.","","\"Didn't you?\"","*temp nothingscount 0","*label lonelychoice","*choice","\t#Say nothing.","\t\t*if nothingscount = 0","\t\t\t\"Didn't you?\" Tamara says again.","\t\t\t*set nothingscount +1","\t\t\t*goto lonelychoice","\t\t*else","\t\t\t\"DIDN'T YOU?\" Tamara says, glaring at you.","\t\t\t*set nothingscount +1","\t\t\t*goto lonelychoice","\t#\"Yes.\"","\t\t*goto tamaratakesover","\t","*label banessaid","\"You met Banes?\" Juliette asks. After a pause, she says, \"And he said WHAT???\"","","\"Yes, we met Banes,\" Tamara says, stepping in front of you and shoving you behind her. \"But, noooo, he did not say anything of the kind. You'll have to forgive my compatriot here. He confuses fantasy with reality.","","\"Don't you?\"","*temp nothingscount 0","*label banessaidchoice","*choice","\t#Say nothing.","\t\t*if nothingscount = 0","\t\t\t\"Don't you?\" Tamara says again.","\t\t\t*set nothingscount +1","\t\t\t*goto banessaidchoice","\t\t*else","\t\t\t\"DON'T YOU?\" Tamara says, glaring at you.","\t\t\t*set nothingscount +1","\t\t\t*goto banessaidchoice","\t#\"Yes.\"","\t\t*goto tamaratakesover","","*label umuh","[This option is yet to be written.]","","","","*label hail","\"Juliette?\" you say when you are several paces from her sleeping form.","","Juliette bursts awake and leaps to her feet, and you realize that she must sleep in full armor, even her helm.","","\"Who are you?\" she asks warily, her hand ready to draw her sword.","*choice","\t#Introduce yourself.","\t\t*goto introself","\t#Introduce both yourself and Tamara.","\t\t*goto introboth","\t","*label introself","\"I am ${fname} ${lname},\" you say. \"At your service... literally, for I believe we share the same quest.\"","","You glance at DragonKeep, and Juliette nods. \"Yes, my quest lies with the dragon, also,\" she says.","","Out of the corner of your eye, you see Tamara grin, give you the thumbs up, and tip toe away.","*choice","\t#\"I also am available for service in a different way...\"","\t\t\"What way would that be?\" Juliette asks, eyebrows knitting.","\t\t","\t\t*goto proposal","\t#\"Isn't this about the time you...\"","\t\t\"About the time I what?\" Juliette asks, eyebrows creasing.","\t\t","\t\t*goto proposal","\t#\"How is it traveling without your manservant?\"","\t\t*goto banes","\t#\"I see a nice rock over there that you can half-lean/half-sit on like you do every morning around this time...\"","\t\t*goto clair","\t","*label clair","Juliette stands and stares at you for a long time, not knowing what to do or say. Finally, at long last she says in a very low, quiet voice, \"How would you know that? Do you have clairvoyance powers?\"","\t","*label banes","\"Banes?\" Juliette says, surprised. \"Did you meet him? How is he?\"","","*label proposal","*choice","\t#Be subtle about your proposal.","\t\t\"Isn't this around the time you take care of certain bodily needs?\" you ask. \"If so, I am here to help you in whatever manner you may need.\"","\t#Just come out and say it.","\t\t\"If you happen to get horny at any time, I hope you know that I am at your service,\" you say.","\t#It feels wrong. You just can't do it.","\t\t\"Um... Uhhh....\" you stammer. ","\t\t","\t\tKnights are trained in diplomacy and manners almost as much as they learn the combat arts. \"Would you perhaps care for some breakfast?\" Juliette offers to help you out of your quandry. \"I'm sorry, but all I have it oatmeal.\"","","*label introboth","[This option is yet to be written.]","","*label tamaratakesover","*set proposed_alliance true","\"We met Banes shortly after Chardell,\" Tamara says. \"He told us of your quest, and as it is our quest as well, we endeavored to catch you. Perhaps we can join forces?\"","","*label appraisal","Juliette looks the both of you over.","","*if wary","\t\"I decline,\" she says. \"Leave now, and I will not consider us enemies.\"","\t","\t*goto noinvite","*else","\t\"I thank you for your offer,\" Juliette says, \"But I'm sorry. I must decline. However, perhaps you would care to join me in breakfast? Even here, in the wilds, we can, after all, enjoy civilized behavior.\"","\t","*label breakfast","[This option is yet to be written.]","","*label noinvite","[This option is yet to be written.]","","*label oldways","*comment For a future convo between J and T.","\"Ha!\" Tamara snorts. \"Many of my compatriots have served your lords as spies for generations.\"","","\"Not I,\" Juliette retorts. \"I follow the old ways, those of honor and chivalry.\"","","\"Is that the real reason why your brother outshines you?\" Tamara asks darkly. ","","Juliette blushes and turns away.","","\"You know nothing of my family business,\" she says haughtily as she walks away.","","*label nosneak","\"Oh, you want to wait for her to wake up on her own?\" Tamara says. \"Well, you're the master seductionist.\"","","The two of you go a little ways away where Juliette's still in earshot but no longer visible. Tamara waits patiently for exactly nine seconds, then starts to get antsy.","","\"If we're going to be waiting so long,\" she says. \"I think I need some sugar again.\"","*choice","\t#\"But Juliette might hear.\"","\t\t*goto sugarhear","\t#\"Let's just talk instead.\"","\t\t*goto talkinstead","\t#\"I'll give you sugar, but can I have some sugar first?\"","\t\t*goto sugarfirst","\t","*label sugarhear","\"YOU are a genius!\" Tamara says, her mouth falling open. \"Juliette will hear, come, investigate, and see how good you are at cunnilingus. One thing will lead to another, and your seduction will be complete. I get sugar, then she gets sugar, and you get sugar too.\"","*choice","\t#Hmm... that actually kinda sorta makes sense...","\t\t*goto givesugar","\t#Still refuse to give any sugar.","\t\t*goto refusesugar","","*label talkinstead","\"Um, okay, but this better be more interesting than sugar. I really like sugar,\" Tamara says.","","What do you talk about?","*label talkchoice","*choice","\t*hide_reuse *if (deepthroat) #\"Where did you get your fantastic deepthroat ability?\"","\t\t*goto deepthroatabil","\t*hide_reuse #Ask where she learned so much dragonlore.","\t\t*goto dragonlore","\t*hide_reuse #Ask where she got the dragoneye.","\t\t*goto dragoneye","\t*hide_reuse *if (bee_sex) #Ask just what happened after you got stung and nearly died.","\t\t*goto honeystung","\t*hide_reuse #Ask if, since the dragon can sense magic, can it sense the dragoneye.","\t\t*goto dragonsenseeye","\t#No more questions.","\t\t\"Conversation is nice and all, but now how about my sugar?\" Tamara says.","\t\t*choice","\t\t\t#\"But Juliette might hear.\"","\t\t\t\t*goto sugarhear","\t\t\t#\"I'll give you sugar, but can I have some sugar first?\"","\t\t\t\t*goto sugarfirst","\t","*label dragonsenseeye","\"No,\" Tamara says. \"My belt pouch is made from leather from a non-magical universe, so any magic items within are hidden from the dragon. This pouch was used by the thief, Drazmeare, when he infiltrated the tower of the wizard, Archfur.\"","","\"But what about when you use the eye?\" you ask.","","\"Brief periods are okay,\" Tamara says. \"A wizard once told me why, and it was something to do with magic items' interaction with the ambient mana that the dragon senses, not the item itself.\"","","Do you wish to talk further?","*goto talkchoice","\t","*label deepthroatabil","\"You like that, huh?\" Tamara says smiling. \"Well, it takes more work than most people are willing to put in, but there was a time in my life when I had, shall we say, the motivation for learning that and all manner of sexual skills. I wasn't always a thief, you know.\"","*choice","\t#Ask what other skills she has.","\t\t*goto otherskills","\t#Ask what she was before she was a thief.","\t\t*goto beforethief","\t","*label otherskills","\"Just about any you can think of and many you can't,\" Tamara says. ","*choice","\t#\"Name one,\" you ask, almost drooling.","\t\t*goto nameone","\t#\"Where the heck could you possibly have learned all that?\"","\t\t*goto beforethief","\t","*label nameone","*if anal","\t\"My anal skills,\" Tamara says. \"You already know about that.\"","\t","\t*goto nameonechoice","*else","\t\"Weeeell...\" Tamara begins. \"I do have certain anal skills, but too bad for you, they're not for you anymore. See if Juliette or your princess wants to go there.\" She laughs.","\t","*label nameonechoice","*choice","\t#\"Don't all women hate anal?\"","\t\t*goto hateanal","\t#\"Can't we do it real quick?\"","\t\t*goto quickanal","\t#Claim there can't be a skill she has that you haven't heard of.","\t\t*goto claim","\t","*label hateanal","\"Not true!\" Tamara says. \"In the beginning it hurts, but then again, so does regular sex. Some of us start to like it. It actually feels good; you ought to try it.\"","*choice","\t#\"Umm... no thanks...\"","\t\t*goto noanal","\t#\"I'll try it if you give me sugar.\"","\t\t*goto tryit","\t","*label noanal","\"Your loss,\" Tamara says. \"Now how about my sugar?\"","*goto sugarfirstchoice","","*label tryit","\"Sugar. Yeah, where's my sugar?\" Tamara says.","*goto sugarfirstchoice","","*label quickanal","\"That would be awesome,\" Tamara says, \"But right now, all we have time for is some quick sugar for me, and then Juliette will be awake to give you your sugar.\"","*goto sugarfirstchoice","","*label claim","\"Have you heard of the 'Pulsating Vortex of Indescribable Sensations'?\" Tamara asks.","","*if sleep_sex","\tYou're not exactly sure what this \"pulsating vortex\" is, but it reminds you of last night. Could this be what she used on you while you slept?","*choice","\t#\"No...\"","\t\t\"Well, I can do it,\" Tamara says. \"Have you heard of the 'Butterfly Flip'?\"","\t\t*choice","\t\t\t#\"No...\"","\t\t\t\t\"Well, the people I've done it on think it's amazing,\" Tamara says. ","\t\t\t\t*if butterfly","\t\t\t\t\t\"I used it briefly on you last night when I brought you back to life, but its real power is when used at the end. Have you heard of the Smoking Dragon?\"","\t\t\t\t\t*choice","\t\t\t\t\t\t#\"No...\"","\t\t\t\t\t\t\t\"Good. It's not a nice thing to do to a woman,\" Tamara says. \"Now, have you heard of 'giving sugar'??? My time for getting sugar is ticking away, so will you give me sugar or not???\"","\t\t\t\t\t\t\t*goto sugarfirstchoice","\t\t\t\t\t\t#Yup, you know all about it.","\t\t\t\t\t\t\t*goto expertise","\t\t\t\t*elseif butterfly2","\t\t\t\t\t\"We did it last night with the Pseudo-Telepathic variation. Wasn't that fun? You know what else is fun? Giving sugar. Can I have my sugar now, please?\"","\t\t\t\t\t*goto sugarfirstchoice","\t\t\t\t*else","\t\t\t\t\t\"When a man does it on me, I think it's pretty amazing too, so while you're giving me sugar, I'll teach you the male version. What do you say?\"","\t\t\t\t\t*goto sugarfirstchoice","\t\t\t#Yup, you know all about it.","\t\t\t\t\"Good,\" Tamara says. \"You can do it on me while giving me my sugar.\"","\t\t\t\t*goto sugarfirstchoice","\t#Yup, you know all about it.","\t\t\"Really!\" Tamara says. \"It seems you know more than I gave you credit for. Mind showing me what you know while giving me my dang sugar?\"","\t\t*goto sugarfirstchoice","\t*hide_reuse *if (rise_vortex or sleep_sex) #Ask if she used the pulsating vortex on you last night.","\t\t*goto sleepsex","\t\t\t\t\t\t","*label sleepsex","*achieve vortex","*if sleep_sex","\t\"I did,\" Tamara smiles. \"You left your filly unfulfilled, so I had to take it upon myself. I've trained my inner muscles to a fine degree of coordination, and I'm using them all the time, not just when you were asleep. Did you notice?\"","","\tNow that she mentions it, there was indeed something different and more pleasurable about being inside Tamara as compared to other women.","","\t\"When you were soft and asleep, I held you in with the muscles near the entrance, and I gently nursed your stalk back to life with the inner. Just tensing my muscles gives me pleasure if I do it long enough, but it's better with a man inside me. You grew strong again and gave me several hours of pleasure while you slumbered, but it seems you gained some pleasure?\"","","\tYou tell Tamara what you experienced, and she nods. \"The lore about this technique is correct then,\" she says. \"What you describe is what is reputed to occur when used in the way I did last night.\"","\t*goto sleepsexchoice","*else","\t*comment rise_vortex is true","\t\"I did, yes,\" Tamara says. \"To make you rise again when you were inside me. I've trained my inner muscles to a fine degree of coordination, and I'm using them all the time, not just that particular time. Did you notice?\"","","\tNow that she mentions it, there was indeed something different and more pleasurable about being inside Tamara as compared to other women.","\t","\t\"When you were soft and inside me, I held you in with the muscles near the entrance, and I gently nursed your stalk back to life with the inner. Just tensing my muscles gives me pleasure if I do it long enough, but it's better with a man inside me.\" ","\t*goto sleepsexchoice","","*label sleepsexchoice","*choice","\t#Ask where she learned so much about sexual techniques.","\t\t*goto beforethief","\t#Ask her something else.","\t\tWhat do you want to talk about?","\t\t*goto talkchoice","\t\t","*label expertise","\"Good,\" Tamara says. \"Since you're such an expert, how about showing me your 'giving sugar' expertise?\"","*goto sugarfirstchoice","","*label beforethief","\"I don't usually talk about it, but if you promise to give me sugar, I'll tell you,\" Tamara says.","*choice","\t#Deal.","\t\t*goto beforethief2","\t#No deal.","\t\tTamara sighs with frustration and grabs at her crotch, aching with desire. \"Ooohhh! Will you give me sugar or not???\"","\t\t*goto sugarfirstchoice","\t","*label beforethief2","\"Well, I was a street urchin in the capital city of Mog, far to the east of here, and I was fourteen when I was kidnapped and sold into slavery. I was bought by the sultan of Bil-afrren, one of the kingdoms of the Great Dunes, and it was in his harem that I learned many of my skills. At seventeen, I escaped to the border kingdom, Unitzifar, gateway between the two great human cultures, Sand and Snow. My sword, hybrid between Sandy scimitar and Snowy long sword, was won as the prize of a duel to the death with my elder classmate, Zorlal the Cunning. Our master, the great Zoldan, taught me the hybrid art of the hybrid sword, superior to both Sand and Snow styles.","","\"When I returned to Mog, I reunited with the remaining urchins of my youth, now fully grown, and made my name as pirate, mercenary, spy, assassin, rogue, highwaywoman, and master thief. My reputation proceeded me, the guild found me, and today, I serve the chapter here in Zhang until the winds shift and take me elsewhere.","","\"Thus ends the tale of my sordid past, and can I please have my damn sugar now?\"","","*goto sugarfirstchoice","","*label dragonlore","\"One of my first jobs as a thief under the auspices of the guild was to steal a book from the Library Fordholm in the icy north, last bastion against the snow worms. I was successful my my quest, but the travelogue of Zyxus caught my eye. In it was much knowledge of the snow worms but much of the dragon of DragonKeep as well. It told too of the dragoneye, and a commentary in the margin revealed its present location, at least until which it was acquired by me.","","\"Since then, I have traveled widely and always sought to learn from the masters of dragonlore as well as thievery, seduction, swordplay, strategy, and any other art I deem useful.\"","","Do you wish to talk further?","*goto talkchoice","","*label dragoneye","\"After Zyxus's defeat in the Battle of Herringbone, the dragoneye was lost for many decades, but somehow it came into the possession of the magister Rexor, lineage-holder of the school of Maldoon himself. Rexor plumbed its secrets until driven mad, after which the Eye was jealously guarded by successor after successor, until the method of its use was lost. It lay forgotten in Crimbald's decrepid tower until my infiltration, and now I am perhaps one of four who know how to use it to any degree of effectiveness.\"","","Do you wish to talk further?","*goto talkchoice","","*label honeystung","\"Ah,\" Tamara says. \"Now that you have sworn apprenticeship to me, I can tell you. I happen to have yet another priceless magic item in my possession, the fabled Love Potion of Rivex, the Lone Wolf Conquerer. Perhaps you've heard the legend of how his court magician, Lothlorthon, fabricated the love potion for his wife, the Lady of Pearls, Fylodorma? It has the power to heal, to charm, and polymorph if the proper method of its use is known. It can also be used for torture and even kill, and two generations of the Rivex line used it again and again in all its insidious functions until, to seal the peace with the three kingdoms, its use was outlawed. It sat gathering dust in the great vault of Castle Whiterock, fortress of the great-grand-niece of Rivex himself, until I was able to achieve its liberation.","","\"It was with this potion that I healed you, and the method of its function is sexual. Only upon the orgasmic release of the subject is power lent to the spell, so in short, I dosed you with the potion and used my mouth on you.\" Tamara laughs. \"Too bad you weren't awake to enjoy it. In fact, you were almost dead. I saved your life, and in some cultures that would make you my slave for life.\"","","Do you wish to talk further?","*comment Make an option to ask about the potions other uses","*goto talkchoice","","*label sugarfirst","\"Your sugar comes from Juliette,\" Tamara says. \"Come on, I might get no more sugar for a long time after this, so can I please have sugar this one last time?\"","*label sugarfirstchoice","*choice","\t#Give Tamara sugar.","\t\t*goto givesugar","\t#Tell her it would be a bad idea for Juliette to hear.","\t\t*goto badidea","\t","*label givesugar","\"Finally! Geez!\" Tamara says. \"Hey, let me find a rock to half-sit/half-lean on like Juliette does, so that will give you practice for the real thing.\"","","She gets up, looks around for a bit, and finally finds a suitable boulder several yards away. She pulls her breeches down, leans up against it, and says, \"Oh, Banes, come to me, you stallion!\"","*page_break","\"What's going on here?!?\" says a voice. ","","You both turn and see Juliette, in all her finery, standing with her hand defensively on the pommel of her sword. ","*choice","\t#Stutter.","\t\t*goto stutter","\t#Tell her the gods-honest truth.","\t\t*goto banestruth","\t#Make up an elaborate story.","\t\t*goto elabstory","\t","*label stutter","Tamara quickly pulls her breeches up and pretends as if nothing untoward had just been going on.","","\"Hello, miss knight,\" she says. \"My friend Banes and I are here to slay the dragon. Is that your quest as well? We did not expect to meet another human being so close to the lair.\"","","\"Your name is Banes?\" Juliette asks suspiciously, turning to you.","*fake_choice","\t#\"Yup, Banes is my name. That's me!\"","\t#\"Umm... yeah...\"","\"So this has nothing to do with my manservant, Banes?\" Juliette asks, still suspicious, but she takes her hand off her sword.","*choice","\t#\"Who? You have a manservant with the same name as me? Is he studly like me too?\"","\t\t*goto studly","\t#\"Well, we met your manservant, but it's only an odd coincidence that I have the same name as him.\"","\t\t*goto metbanes","\t","*label studly","\"Yes, I do have a manservant named Banes,\" Juliette says, ignoring your inappropriate reference to your own masculinity. \"It is an odd coincidence, don't you think?\"","*choice","\t#Propose to be her manservant. \"It seems you are alone, so I assume you are currently without your manservant. Since I have his same name, perhaps I could temporarily take his place and serve you in all the same ways he usually does?\"","\t\t*goto proposebanes","\t#Do not make the proposal.","\t\t*goto noproposebanes","\t","*label proposebanes","\"All the same ways?\" Juliette says, suspicious once again. \"These 'ways' wouldn't have anything to do with me half-sitting/half-leaning against a rock to receive oral pleasure, would they?\"","","\"Yes!\" Tamara says, butting in. \"My companion here is a master cunnilinguist.\"","","\"I'm sure he is,\" Juliette sniffs. \"However, even if I were the kind to engage with strangers, I would have to refuse. I am a lesbian.\"","","*goto_scene morning_alone lesbian","","*label noproposebanes","\"No more odd than the three of us just happening to approach DragonKeep at the same time,\" Tamara says. \"And I believe that is a happy coincidence. Perhaps we can join forces?\"","","*goto appraisal","","*label metbanes","\"You met my Banes?\" Juliette asks, surprised. \"How is he?\"","","\"He is fine,\" Tamara says. \"He will meet us at Chardell, and we told him we would offer our services to you. Would you like to join forces with us?\"","","*goto appraisal","","*label banestruth","You reveal to Juliette how Tamara is a tracker who read her tracks and how you met Banes who verified her morning ritual, and yes, you were re-enacting it but meant no insult.","","Juliette stands listening, extremely red-faced. ","","\"C-carry on, then,\" she manages, now turning ashen and turning to go. ","","Tamara smacks herself on the forehead. \"You don't have to be a guild-trained thief to know honesty is not always the best policy,\" she says. \"Let me see if I can salvage this.\"","","*gosub_scene adj_esteem -10","","*gosub_scene adj_respect -10","","She catches up to Juliette and says, \"Please forgive my compatriot. He is sometimes honest to a fault, but perhaps a knight like yourself can appreciate the honor in that in the general sense? In any event, it was Banes' wish we aid you in your quest. I propose an alliance. Do you accept?\"","","*goto appraisal","","*label elabstory","\"Weeelll,\" you begin, not realizing that this is not the most auspicious way to initiate a masterful lie. \"My girlfriend, Tamara, here has a fetish for horses, so every morning, I pretend to be her stallion, Manes, you know, because horses have manes, so that's what she named me. I then neigh and gallop over to her and pretend that she's my feeding trough. That's why she half-sits/half-leans against a boulder--to imitate a trough of horse food. I then go over to her, eat my fill, and that's my breakfast. Then she rides me around for a bit, but we had no idea you were nearby or I'm sure we'd have skipped our morning fantasy fun ritual.\"","","You look at Juliette hoping she buys it.","","\"That story is too outlandish to be a falsehood,\" she says finally. \"Thus, I am inclined to believe it despite its very outlandishness.\"","*choice","\t#Ask Juliette if she'd like to be your feeding trough today.","\t\t*goto asktrough","\t#Better not.","\t\t*goto notrough","\t","*label asktrough","\"Sorry, sir,\" Juliette says. \"Unlike your girlfriend, I have no fetish for horses, but if I did, I would prefer other mares, if you understand my symbolism.\"","","\"Wait, what?\" Tamara asks.","","\"I'm a lesbian,\" Juliette says curtly. \"Good day. I shall leave you to your feeding.\"","","*goto_scene morning_alone lesbian","","*label notrough","There is a bit of an awkward silence before Juliette, a knight trained in diplomacy as much as swordplay, says, \"Well, I am sorry to have disturbed you, but now that I have, perhaps you would care to join me in breakfast? Even here, in the wilds, we can, after all, enjoy civilized behavior.\"","","*goto breakfast","","*label badidea","\"No! It's actually a great idea!\" Tamara says excitedly. \"She might come to investigate and see how good you are at cunnilingus, and one thing will lead to another, and I'll have done your job for you.\"","*choice","\t#Ask her if she will do a \"job\" for you.","\t\t*goto askjob","\t#Hmm... that actually kinda sorta makes sense...","\t\t*goto givesugar","\t#Still refuse to give any sugar.","\t\t*goto refusesugar","","*label askjob","\"Like your sugar,\" Tamara explains, speaking very slowly and enunciating each word like she's talking to a very slow learning child, \"Any 'jobs' you receive come from Juliette now. I wish I had a knight of my own to seduce, but I don't, so can you please do a 'job' on me right the heck now??? It might be my last one!!!\"","*choice","\t#Finally give Tamara the sugar (and job).","\t\t*goto givesugar","\t#Still refuse to give any sugar (or job).","\t\t*goto refusesugar","","*label refusesugar","\"I was just testing you,\" Tamara says. \"Obviously now is not the time for playing around.\"","","*gosub_scene adj_respect 10","*choice","\t#\"But you'd have partaken if I'd said yes, right?\" Wink, wink.","\t\t\"True,\" Tamara laughs. \"I actually am very horny right now and want my last sugar, but I guess it's a good thing you save that for Juliette.\"","\t\t","\t\t\"Save what for me?\" says a voice.","\t\t","\t\tYou and Tamara quickly turn and see Juliette in all her finery.","\t\t*gosub_scene morning_alone saveforjuliettechoice","\t#Just shake your head.","\t\t*goto julietteawake","","*label julietteawake","\"Shhh! I hear something,\" Tamara whispers, and you heard it too. It's Juliette stirring.","","\"Time to make your move,\" Tamara says. \"I'll wait here while you go apply your fantastic seduction skills!\"","","","",""]}}</script><script>//
// Copyright (c) 2008, 2009 Paul Duncan (paul@pablotron.org)
// 
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
// 
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
// 
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.
//


/* 
 * The contents of gears_init.js; we need this because Chrome supports
 * Gears out of the box, but still requires this constructor.  Note that
 * if you include gears_init.js then this function does nothing.
 */
(function() {
  // We are already defined. Hooray!
  if (window.google && google.gears)
    return;

  // factory 
  var F = null;

  // Firefox
  if (typeof GearsFactory != 'undefined') {
    F = new GearsFactory();
  } else {
    // IE
    try {
      F = new ActiveXObject('Gears.Factory');
      // privateSetGlobalObject is only required and supported on WinCE.
      if (F.getBuildInfo().indexOf('ie_mobile') != -1)
        F.privateSetGlobalObject(this);
    } catch (e) {
      // Safari
      if ((typeof navigator.mimeTypes != 'undefined')
           && navigator.mimeTypes["application/x-googlegears"]) {
        F = document.createElement("object");
        F.style.display = "none";
        F.width = 0;
        F.height = 0;
        F.type = "application/x-googlegears";
        document.documentElement.appendChild(F);
      }
    }
  }

  // *Do not* define any objects if Gears is not installed. This mimics the
  // behavior of Gears defining the objects in the future.
  if (!F)
    return;

  // Now set up the objects, being careful not to overwrite anything.
  //
  // Note: In Internet Explorer for Windows Mobile, you can't add properties to
  // the window object. However, global objects are automatically added as
  // properties of the window object in all browsers.
  if (!window.google)
    google = {};

  if (!google.gears)
    google.gears = {factory: F};
})();

/**
 * Persist - top-level namespace for Persist library.
 * @namespace
 */
Persist = (function() {
  var VERSION = '0.2.0', P, B, esc, init, empty, ec;

  // easycookie 0.2.1 (pre-minified)
  // (see http://pablotron.org/software/easy_cookie/)
  ec = (function(){var EPOCH='Thu, 01-Jan-1970 00:00:01 GMT',RATIO=1000*60*60*24,KEYS=['expires','path','domain'],esc=escape,un=unescape,doc=document,me;var get_now=function(){var r=new Date();r.setTime(r.getTime());return r;}
var cookify=function(c_key,c_val){var i,key,val,r=[],opt=(arguments.length>2)?arguments[2]:{};r.push(esc(c_key)+'='+esc(c_val));for(i=0;i<KEYS.length;i++){key=KEYS[i];if(val=opt[key])
r.push(key+'='+val);}
if(opt.secure)
r.push('secure');return r.join('; ');}
var alive=function(){var k='__EC_TEST__',v=new Date();v=v.toGMTString();this.set(k,v);this.enabled=(this.remove(k)==v);return this.enabled;}
me={set:function(key,val){var opt=(arguments.length>2)?arguments[2]:{},now=get_now(),expire_at,cfg={};if(opt.expires){cfg.expires=new Date(now.getTime()+opt.expires*RATIO);cfg.expires=cfg.expires.toGMTString();}
var keys=['path','domain','secure'];for(i=0;i<keys.length;i++)
if(opt[keys[i]])
cfg[keys[i]]=opt[keys[i]];var r=cookify(key,val,cfg);doc.cookie=r;return val;},has:function(key){key=esc(key);var c=doc.cookie,ofs=c.indexOf(key+'='),len=ofs+key.length+1,sub=c.substring(0,key.length);return((!ofs&&key!=sub)||ofs<0)?false:true;},get:function(key){key=esc(key);var c=doc.cookie,ofs=c.indexOf(key+'='),len=ofs+key.length+1,sub=c.substring(0,key.length),end;if((!ofs&&key!=sub)||ofs<0)
return null;end=c.indexOf(';',len);if(end<0)
end=c.length;return un(c.substring(len,end));},remove:function(k){var r=me.get(k),opt={expires:EPOCH};doc.cookie=cookify(k,'',opt);return r;},keys:function(){var c=doc.cookie,ps=c.split('; '),i,p,r=[];for(i=0;i<ps.length;i++){p=ps[i].split('=');r.push(un(p[0]));}
return r;},all:function(){var c=doc.cookie,ps=c.split('; '),i,p,r=[];for(i=0;i<ps.length;i++){p=ps[i].split('=');r.push([un(p[0]),un(p[1])]);}
return r;},version:'0.2.1',enabled:false};me.enabled=alive.call(me);return me;}());

  // wrapper for Array.prototype.indexOf, since IE doesn't have it
  var index_of = (function() {
    if (Array.prototype.indexOf)
      return function(ary, val) { 
        return Array.prototype.indexOf.call(ary, val);
      };
    else
      return function(ary, val) {
        var i, l;

        for (i = 0, l = ary.length; i < l; i++)
          if (ary[i] == val)
            return i;

        return -1;
      };
  })();


  // empty function
  empty = function() { };

  /**
   * Escape spaces and underscores in name.  Used to generate a "safe"
   * key from a name.
   *
   * @private
   */
  esc = function(str) {
    return 'PS' + str.replace(/_/g, '__').replace(/ /g, '_s');
  };

  C = {
    /* 
     * Backend search order.
     * 
     * Note that the search order is significant; the backends are
     * listed in order of capacity, and many browsers
     * support multiple backends, so changing the search order could
     * result in a browser choosing a less capable backend.
     */ 
    search_order: [
      // TODO: air
      'cefStorage',
      'winOldStorage',
      'winStoreStorage',
      'macStorage',
      'iosStorage',
      'localChromeStorage',
      'androidStorage',
      'whatwg_db', 
      'localstorage',
      'globalstorage', 
      'cookie',
      'gears',
      'ie', 
      'flash'
    ],

    // valid name regular expression
    name_re: /^[a-z][a-z0-9_ -]+$/i,

    // list of backend methods
    methods: [
      'init', 
      'get', 
      'set', 
      'remove', 
      'load', 
      'save'
      // TODO: clear method?
    ],

    // sql for db backends (gears and db)
    sql: {
      version:  '1', // db schema version

      // XXX: the "IF NOT EXISTS" is a sqlite-ism; fortunately all the 
      // known DB implementations (safari and gears) use sqlite
      create:   "CREATE TABLE IF NOT EXISTS persist_data (k TEXT UNIQUE NOT NULL PRIMARY KEY, v TEXT NOT NULL)",
      get:      "SELECT v FROM persist_data WHERE k = ?",
      set:      "INSERT INTO persist_data(k, v) VALUES (?, ?)",
      remove:   "DELETE FROM persist_data WHERE k = ?" 
    },

    // default flash configuration
    flash: {
      // ID of wrapper element
      div_id:   '_persist_flash_wrap',

      // id of flash object/embed
      id:       '_persist_flash',

      // default path to flash object
      path: 'persist.swf',
      size: { w:1, h:1 },

      // arguments passed to flash object
      args: {
        autostart: true
      }
    } 
  };

  // built-in backends
  B = {
    // gears db backend
    // (src: http://code.google.com/apis/gears/api_database.html)
    gears: {
      // no known limit
      size:   -1,

      test: function() {
        // test for gears
        return (window.google && window.google.gears) ? true : false;
      },

      methods: {
        transaction: function(fn) {
          var db = this.db;

          // begin transaction
          db.execute('BEGIN').close();

          // call callback fn
          fn.call(this, db);

          // commit changes
          db.execute('COMMIT').close();
        },

        init: function() {
          var db;

          // create database handle (TODO: add schema version?)
          db = this.db = google.gears.factory.create('beta.database');

          // open database
          // from gears ref:
          //
          // Currently the name, if supplied and of length greater than
          // zero, must consist only of visible ASCII characters
          // excluding the following characters:
          //
          //   / \ : * ? " < > | ; ,
          //
          // (this constraint is enforced in the Store constructor)
          db.open(esc(this.name));

          // create table
          db.execute(C.sql.create).close();
        },

        get: function(key, fn, scope) {
          var r, sql = C.sql.get;

          // if callback isn't defined, then return
          if (!fn)
            return;

          // begin transaction
          this.transaction(function (t) {
            var is_valid, val;
            // exec query
            r = t.execute(sql, [key]);

            // check result and get value
            is_valid = r.isValidRow();
            val = is_valid ? r.field(0) : null;

            // close result set
            r.close();

            // call callback
            fn.call(scope || this, is_valid, val);
          });
        },

        set: function(key, val, fn, scope) {
          var rm_sql = C.sql.remove,
              sql    = C.sql.set, r;

          // begin set transaction
          this.transaction(function(t) {
            // exec remove query
            t.execute(rm_sql, [key]).close();

            // exec set query
            t.execute(sql, [key, val]).close();
            
            // run callback (TODO: get old value)
            if (fn)
              fn.call(scope || this, true, val);
          });
        },

        remove: function(key, fn, scope) {
          var get_sql = C.sql.get;
              sql = C.sql.remove,
              r, val = null, is_valid = false;

          // begin remove transaction
          this.transaction(function(t) {
            // if a callback was defined, then get the old
            // value before removing it
            if (fn) {
              // exec get query
              r = t.execute(get_sql, [key]);

              // check validity and get value
              is_valid = r.isValidRow();
              val = is_valid ? r.field(0) : null;

              // close result set
              r.close();
            }

            // exec remove query if no callback was defined, or if a
            // callback was defined and there was an existing value
            if (!fn || is_valid) {
              // exec remove query
              t.execute(sql, [key]).close();
            }

            // exec callback
            if (fn)
              fn.call(scope || this, is_valid, val);
          });
        } 
      }
    }, 

    cefStorage: {
      size:   -1,

      test: function() {
        return !!window.cefQuery;
      },

      methods: {
        key: function(key) {
          return esc(this.name) + esc(key);
        },

        init: function() {

        },

        query: function(method, paramString, callback) {
          cefQuery({request:method+" "+paramString,
            onSuccess: function(response) {
              callback(true, response);
            },
            onFailure: function(error_code, error_message) {
              console.error(method + " error: " + error_message);
              callback(false);
            }
          });
        },

        get: function(key, fn, scope) {
          key = this.key(key);

          // if callback isn't defined, then return
          if (!fn)
            return;

          // get callback scope
          scope = scope || this;

          this.query("StorageGet", key, function(ok, results) {
            fn.call(scope, ok, results);
          });
        },

        set: function(key, val, fn, scope) {
          key = this.key(key);
          scope = scope || this;
          this.query("StorageSet", key + " " + val, function(ok){
            if (fn) fn.call(scope, ok, val);
          });
          return val;
        },

        // begin remove transaction
        remove: function(key, fn, scope) {
          key = this.key(key);
          scope = scope || this;
          this.query("StorageRemove", key, function(ok) {
            // return original value? meh
            if (fn) fn.call(scope, ok);
          });
        }
      }
    },

    // whatwg db backend (webkit, Safari 3.1+)
    // (src: whatwg and http://webkit.org/misc/DatabaseExample.html)
    whatwg_db: {
      // size based on DatabaseExample from above (should I increase
      // this?)
      size:   200 * 1024,

      test: function() {
        var name = 'PersistJS Test', 
            desc = 'Persistent database test.';

        // test for openDatabase
        if (!window.openDatabase)
          return false;

        // make sure openDatabase works
        // XXX: will this leak a db handle and/or waste space?
        if (!window.openDatabase(name, C.sql.version, desc, B.whatwg_db.size))
          return false;

        // return true
        return true;
      },

      methods: {
        transaction: function(fn) {
          // lazy create database table;
          // this is done here because there is no way to
          // prevent a race condition if the table is created in init()
          if (!this.db_created) {
            this.db.transaction(function(t) {
              // create table
              t.executeSql(C.sql.create, [], function() {
                this.db_created = true;
              });
            }, empty); // trap exception
          } 

          // execute transaction
          this.db.transaction(fn);
        },

        init: function() {
          // create database handle
          this.db = openDatabase(
            this.name, 
            C.sql.version, 
            this.o.about || ("Persistent storage for " + this.name),
            this.o.size || B.whatwg_db.size 
          );
        },

        get: function(key, fn, scope) {
          var sql = C.sql.get;

          // if callback isn't defined, then return
          if (!fn)
            return;

          // get callback scope
          scope = scope || this;

          // begin transaction
          this.transaction(function (t) {
            t.executeSql(sql, [key], function(t, r) {
              if (r.rows.length > 0)
                fn.call(scope, true, r.rows.item(0)['v']);
              else
                fn.call(scope, false, null);
            });
          });
        },

        set: function(key, val, fn, scope) {
          var rm_sql = C.sql.remove,
              sql    = C.sql.set;

          // begin set transaction
          this.transaction(function(t) {
            // exec remove query
            t.executeSql(rm_sql, [key], function() {
              // exec set query
              t.executeSql(sql, [key, val], function(t, r) {
                // run callback
                if (fn)
                  fn.call(scope || this, true, val);
              });
            });
          });

          return val;
        },

        // begin remove transaction
        remove: function(key, fn, scope) {
          var get_sql = C.sql.get;
              sql = C.sql.remove;

          this.transaction(function(t) {
            // if a callback was defined, then get the old
            // value before removing it
            if (fn) {
              // exec get query
              t.executeSql(get_sql, [key], function(t, r) {
                if (r.rows.length > 0) {
                  // key exists, get value 
                  var val = r.rows.item(0)['v'];

                  // exec remove query
                  t.executeSql(sql, [key], function(t, r) {
                    // exec callback
                    fn.call(scope || this, true, val);
                  });
                } else {
                  // key does not exist, exec callback
                  fn.call(scope || this, false, null);
                }
              });
            } else {
              // no callback was defined, so just remove the
              // data without checking the old value

              // exec remove query
              t.executeSql(sql, [key]);
            }
          });
        } 
      }
    }, 
    
    // globalstorage backend (globalStorage, FF2+, IE8+)
    // (src: http://developer.mozilla.org/en/docs/DOM:Storage#globalStorage)
    // https://developer.mozilla.org/En/DOM/Storage
    //
    // TODO: test to see if IE8 uses object literal semantics or
    // getItem/setItem/removeItem semantics
    globalstorage: {
      // (5 meg limit, src: http://ejohn.org/blog/dom-storage-answers/)
      size: 5 * 1024 * 1024,

      test: function() {
        try {
          if (window.globalStorage && window.globalStorage[this.o.domain]) return true;
        } catch (e) {}
        return false;
      },

      methods: {
        key: function(key) {
          return esc(this.name) + esc(key);
        },

        init: function() {
          this.store = globalStorage[this.o.domain];
        },

        get: function(key, fn, scope) {
          // expand key
          key = this.key(key);

          if (fn)
            fn.call(scope || this, true, this.store.getItem(key));
        },

        set: function(key, val, fn, scope) {
          // expand key
          key = this.key(key);

          // set value
          this.store.setItem(key, val);

          if (fn)
            fn.call(scope || this, true, val);
        },

        remove: function(key, fn, scope) {
          var val;

          // expand key
          key = this.key(key);

          // get value
          val = this.store[key];

          // delete value
          this.store.removeItem(key);

          if (fn)
            fn.call(scope || this, (val !== null), val);
        } 
      }
    }, 
    
    // localstorage backend (globalStorage, FF2+, IE8+)
    // (src: http://www.whatwg.org/specs/web-apps/current-work/#the-localstorage)
    // also http://msdn.microsoft.com/en-us/library/cc197062(VS.85).aspx#_global
    localstorage: {
      // (unknown?)
      // ie has the remainingSpace property, see:
      // http://msdn.microsoft.com/en-us/library/cc197016(VS.85).aspx
      size: -1,

      test: function() {
        try {
          return window.localStorage ? true : false;
        } catch (e) {
          return false;
        }
      },

      methods: {
        key: function(key) {
          return esc(this.name) + esc(key);
        },

        init: function() {
          this.store = localStorage;
        },

        get: function(key, fn, scope) {
          // expand key
          key = this.key(key);

          if (fn)
            fn.call(scope || this, true, this.store.getItem(key));
        },

        set: function(key, val, fn, scope) {
          // expand key
          key = this.key(key);

          // set value
          this.store.setItem(key, val);

          if (fn)
            fn.call(scope || this, true, val);
        },

        remove: function(key, fn, scope) {
          var val;

          // expand key
          key = this.key(key);

          // get value
          val = this.store.getItem(key);

          // delete value
          this.store.removeItem(key);

          if (fn)
            fn.call(scope || this, (val !== null), val);
        } 
      }
    }, 

    // chrome packaged app storage
    // http://developer.chrome.com/stable/apps/storage.html
    localChromeStorage: {
      // (unknown?)
      // ie has the remainingSpace property, see:
      // http://msdn.microsoft.com/en-us/library/cc197016(VS.85).aspx
      size: -1,

      test: function() {
        try {
          return window.chrome && window.chrome.storage && window.chrome.storage.local;
        } catch (e) {
          return false;
        }
      },

      methods: {
        key: function(key) {
          return esc(this.name) + esc(key);
        },

        init: function() {
          this.store = chrome.storage.local;
        },

        get: function(key, fn, scope) {
          // expand key
          key = this.key(key);

          scope = scope || this;
          this.store.get(key, function(val){
            if (fn) fn.call(scope, true, val[key]);
          });
        },

        set: function(key, val, fn, scope) {
          // expand key
          key = this.key(key);

          var out = {};
          out[key] = val;
          if (fn) {
            scope = scope || this;  
            this.store.set(out, function(){
              fn.call(scope, true, val);
            });
          } else {
            this.store.set(out);
          }
        },

        remove: function(key, fn, scope) {
          var val;

          // expand key
          key = this.key(key);

          if (fn) {
            // get value first
            scope = scope || this;
            this.store.get(key, function(val){
              this.store.remove(key, function(){
                fn.call(scope, (val[key] !== null), val[key]);
              });
            });
          } else {
            this.store.remove(key);
          }
        } 
      }
    }, 
    
    // DGF Fake local storage
    androidStorage: {
      // (unknown?)
      // ie has the remainingSpace property, see:
      // http://msdn.microsoft.com/en-us/library/cc197016(VS.85).aspx
      size: -1,

      test: function() {
        try {
          return window.androidStorage ? true : false;
        } catch (e) {
          return false;
        }
      },

      methods: {
        key: function(key) {
          return esc(this.name) + esc(key);
        },

        init: function() {
          this.store = androidStorage;
        },

        get: function(key, fn, scope) {
          // expand key
          key = this.key(key);

          if (fn)
            fn.call(scope || this, true, this.store.getItem(key));
        },

        set: function(key, val, fn, scope) {
          // expand key
          key = this.key(key);

          // set value
          this.store.setItem(key, val);

          if (fn)
            fn.call(scope || this, true, val);
        },

        remove: function(key, fn, scope) {
          var val;

          // expand key
          key = this.key(key);

          // get value
          val = this.store.getItem(key);

          // delete value
          this.store.removeItem(key);

          if (fn)
            fn.call(scope || this, (val !== null), val);
        } 
      }
    }, 

    // DGF iOS managed storage
    iosStorage: {
      size: -1,

      test: function() {
        try {
          return window.isIosApp ? true : false;
        } catch (e) {
          return false;
        }
      },

      methods: {
        key: function(key) {
          return esc(this.name) + esc(key);
        },

        init: function() {

        },

        callIos: function(url) {
          var iframe = document.createElement("IFRAME");
          iframe.setAttribute("src", url);
          document.documentElement.appendChild(iframe);
          iframe.parentNode.removeChild(iframe);
          iframe = null;
        },

        get: function(key, fn, scope) {
          if (!fn) return;
          // expand key
          key = this.key(key);

          var nonce = "storageget" + key + (+new Date);
          window[nonce] = function(value) {
            delete window[nonce];
            fn.call(scope || this, true, value);
          }
          this.callIos("storageget://" + key + " " + nonce);
        },

        set: function(key, val, fn, scope) {
          // expand key
          key = this.key(key);

          // set value
          var nonce = "storageset" + key + (+new Date);
          window[nonce] = function() {
            delete window[nonce];
            if (fn) fn.call(scope || this, true, val);
          }
          this.callIos("storageset://" + key + " " + nonce + " " + encodeURIComponent(encodeURIComponent(val)));
        },

        remove: function(key, fn, scope) {
          if (fn) {
            this.get(key, function(val) {
              this._remove(key, fn, scope, val);
            }, this);
          } else {
            this._remove(key, fn, scope);
          }
        },

        _remove: function(key, fn, scope, val) {
          var val;

          // expand key
          key = this.key(key);

          // delete value
          var nonce = "storagerem" + key + (+new Date);
          window[nonce] = function() {
            delete window[nonce];
            if (fn) fn.call(scope || this, (val !== null), val);
          }
          this.callIos("storagerem://" + key + " " + nonce + " " + encodeURIComponent(val));
        } 
      }
    }, 

    // DGF OSX managed storage
    macStorage: {
      size: -1,

      test: function() {
        try {
          return window.macStorage ? true : false;
        } catch (e) {
          return false;
        }
      },

      methods: {
        key: function(key) {
          return esc(this.name) + esc(key);
        },

        init: function() {
          this.store = macStorage;
        },

        get: function(key, fn, scope) {
          // expand key
          key = this.key(key);

          if (fn)
            fn.call(scope || this, true, this.store.objectForKey_(key));
        },

        set: function(key, val, fn, scope) {
          // expand key
          key = this.key(key);

          // set value
          this.store.setObject_forKey_(val, key);

          if (fn)
            fn.call(scope || this, true, val);
        },

        remove: function(key, fn, scope) {
          var val;

          // expand key
          key = this.key(key);

          // get value
          val = this.store.objectForKey_(key)

          // delete value
          this.store.removeObjectForKey_(key);

          if (fn)
            fn.call(scope || this, (val !== null), val);
        } 
      }
    }, 

    // DGF Old win app managed storage
    winOldStorage: {
      size: -1,

      test: function() {
        try {
          return window.external.IsWinOldApp();
        } catch (e) {
          return false;
        }
      },

      methods: {
        key: function(key) {
          return esc(this.name) + esc(key);
        },

        init: function() {
          this.store = window.external;
        },

        get: function(key, fn, scope) {
          // expand key
          key = this.key(key);

          if (fn)
            fn.call(scope || this, true, this.store.GetValue(key));
        },

        set: function(key, val, fn, scope) {
          // expand key
          key = this.key(key);

          // set value
          this.store.SetValue(key, val);

          if (fn)
            fn.call(scope || this, true, val);
        },

        remove: function(key, fn, scope) {
          var val;

          // expand key
          key = this.key(key);

          // get value
          val = this.store.GetValue(key)

          // delete value
          this.store.DeleteValue(key);

          if (fn)
            fn.call(scope || this, (val !== null), val);
        } 
      }
    }, 

      // DGF WinStore managed storage
    winStoreStorage: {
        size: -1,

        test: function () {
            try {
                return Windows.Storage.ApplicationData.current.roamingFolder;
            } catch (e) {
                return false;
            }
        },

        methods: {
            key: function (key) {
                return esc(this.name) + esc(key);
            },

            init: function () {
                var self = this;
                function doneLoadingWinStore() {
                  self.loaded = true;
                  for (var i = self.loadListeners.length - 1; i >= 0; i--) {
                    setTimeout(self.loadListeners[i], 0);
                  }
                }
                this.loaded = false;
                this.loadListeners = [];

                Windows.Storage.ApplicationData.current.roamingFolder
                  .createFileAsync("data.txt", Windows.Storage.CreationCollisionOption.openIfExists)
                  .then(function (file) {
                    self.file = file;
                    return Windows.Storage.FileIO.readTextAsync(file);
                  }).done(function (data) {
                    self.store = {};
                    if (data && typeof data == "string") {
                      var rows = data.split("\n");
                      for (var i = rows.length - 1; i >= 0; i--) {
                        var row = rows[i].split("\t");
                        self.store[row[0]] = decodeURIComponent(row[1]);
                      }
                    }
                    doneLoadingWinStore();
                  },
                  function(){
                    self.store = {};
                    doneLoadingWinStore();
                  });
            },

            get: function (key, fn, scope) {
                if (!this.loaded) {
                  var self = this;
                  this.loadListeners.push(function() {self.get(key, fn, scope)});
                  return;
                }
                // expand key
                key = this.key(key);

                if (fn)
                    fn.call(scope || this, true, this.store[key]);
            },

            set: function (key, val, fn, scope) {
                if (!this.loaded) {
                  var self = this;
                  this.loadListeners.push(function() {self.set(key, val, fn, scope)});
                  return;
                }
                // expand key
                key = this.key(key);

                // set value
                this.store[key] = val;
                this.writeAsync();

                if (fn)
                    fn.call(scope || this, true, val);
            },

            remove: function (key, fn, scope) {
                if (!this.loaded) {
                  var self = this;
                  this.loadListeners.push(function() {self.remove(key, fn, scope)});
                  return;
                }
                var val;

                // expand key
                key = this.key(key);

                // get value
                val = this.store[key];

                // delete value
                delete this.store[key];
                this.writeAsync();

                if (fn)
                    fn.call(scope || this, (val !== null), val);
            },

            writeAsync: function() {
              var output = [];
              for (var key in this.store) {
                output.push(key, '\t', encodeURIComponent(this.store[key]), '\n');
              }
              Windows.Storage.FileIO.writeTextAsync(this.file, output.join(''));
            }
        }
    },

    // IE backend
    ie: {
      prefix:   '_persist_data-',
      // style:    'display:none; behavior:url(#default#userdata);',

      // 64k limit
      size:     64 * 1024,

      test: function() {
        // make sure we're dealing with IE
        // (src: http://javariet.dk/shared/browser_dom.htm)
        return window.ActiveXObject ? true : false;
      },

      make_userdata: function(id) {
        var el = document.createElement('div');

        // set element properties
        // http://msdn.microsoft.com/en-us/library/ms531424(VS.85).aspx 
        // http://www.webreference.com/js/column24/userdata.html
        el.id = id;
        el.style.display = 'none';
        el.addBehavior('#default#userdata');

        // append element to body
        document.body.appendChild(el);

        // return element
        return el;
      },

      methods: {
        init: function() {
          var id = B.ie.prefix + esc(this.name);

          // save element
          this.el = B.ie.make_userdata(id);

          // load data
          if (this.o.defer)
            this.load();
        },

        get: function(key, fn, scope) {
          var val;

          // expand key
          key = esc(key);

          // load data
          if (!this.o.defer)
            this.load();

          // get value
          val = this.el.getAttribute(key);

          // call fn
          if (fn)
            fn.call(scope || this, val ? true : false, val);
        },

        set: function(key, val, fn, scope) {
          // expand key
          key = esc(key);
          
          // set attribute
          this.el.setAttribute(key, val);

          // save data
          if (!this.o.defer)
            this.save();

          // call fn
          if (fn)
            fn.call(scope || this, true, val);
        },

        remove: function(key, fn, scope) {
          var val;

          // expand key
          key = esc(key);

          // load data
          if (!this.o.defer)
            this.load();

          // get old value and remove attribute
          val = this.el.getAttribute(key);
          this.el.removeAttribute(key);

          // save data
          if (!this.o.defer)
            this.save();

          // call fn
          if (fn)
            fn.call(scope || this, val ? true : false, val);
        },

        load: function() {
          this.el.load(esc(this.name));
        },

        save: function() {
          this.el.save(esc(this.name));
        }
      }
    },

    // cookie backend
    // uses easycookie: http://pablotron.org/software/easy_cookie/
    cookie: {
      delim: ':',

      // 4k limit (low-ball this limit to handle browser weirdness, and 
      // so we don't hose session cookies)
      size: 4000,

      test: function() {
        // XXX: use easycookie to test if cookies are enabled
        return P.Cookie.enabled ? true : false;
      },

      methods: {
        key: function(key) {
          return this.name + B.cookie.delim + key;
        },

        get: function(key, fn, scope) {
          var val;

          // expand key 
          key = this.key(key);

          // get value
          val = ec.get(key);

          // call fn
          if (fn)
            fn.call(scope || this, val != null, val);
        },

        set: function(key, val, fn, scope) {
          // expand key 
          key = this.key(key);

          // save value
          ec.set(key, val, this.o);

          // call fn
          if (fn)
            fn.call(scope || this, true, val);
        },

        remove: function(key, val, fn, scope) {
          var val;

          // expand key 
          key = this.key(key);

          // remove cookie
          val = ec.remove(key)

          // call fn
          if (fn)
            fn.call(scope || this, val != null, val);
        } 
      }
    },

    // flash backend (requires flash 8 or newer)
    // http://kb.adobe.com/selfservice/viewContent.do?externalId=tn_16194&sliceId=1
    // http://livedocs.adobe.com/flash/8/main/wwhelp/wwhimpl/common/html/wwhelp.htm?context=LiveDocs_Parts&file=00002200.html
    flash: {
      test: function() {
        // TODO: better flash detection
        if (!window.deconcept || !window.deconcept.SWFObjectUtil)
          return false;

        // get the major version
        var major = deconcept.SWFObjectUtil.getPlayerVersion().major;

        // check flash version (require 8.0 or newer)
        return (major >= 8) ? true : false;
      },

      methods: {
        init: function() {
          if (!B.flash.el) {
            var o, key, el, cfg = C.flash;

            // create wrapper element
            el = document.createElement('div');
            el.id = cfg.div_id;

            // FIXME: hide flash element
            // el.style.display = 'none';

            // append element to body
            document.body.appendChild(el);

            // create new swf object
            o = new deconcept.SWFObject(this.o.swf_path || cfg.path, cfg.id, cfg.size.w, cfg.size.h, '8');

            // set parameters
            for (key in cfg.args)
              o.addVariable(key, cfg.args[key]);

            // write flash object
            o.write(el);

            // save flash element
            B.flash.el = document.getElementById(cfg.id);
          }

          // use singleton flash element
          this.el = B.flash.el;
        },

        get: function(key, fn, scope) {
          var val;

          // escape key
          key = esc(key);

          // get value
          val = this.el.get(this.name, key);

          // call handler
          if (fn)
            fn.call(scope || this, val !== null, val);
        },

        set: function(key, val, fn, scope) {
          var old_val;

          // escape key
          key = esc(key);

          // set value
          old_val = this.el.set(this.name, key, val);

          // call handler
          if (fn)
            fn.call(scope || this, true, val);
        },

        remove: function(key, fn, scope) {
          var val;

          // get key
          key = esc(key);

          // remove old value
          val = this.el.remove(this.name, key);

          // call handler
          if (fn)
            fn.call(scope || this, true, val);
        }
      }
    }
  };

  /**
   * Test for available backends and pick the best one.
   * @private
   */
  var init = function() {
    var i, l, b, key, fns = C.methods, keys = C.search_order;

    // set all functions to the empty function
    for (i = 0, l = fns.length; i < l; i++) 
      P.Store.prototype[fns[i]] = empty;

    // clear type and size
    P.type = null;
    P.size = -1;

    // loop over all backends and test for each one
    for (i = 0, l = keys.length; !P.type && i < l; i++) {
      b = B[keys[i]];

      // test for backend
      try {
        if (b.test()) {
          // found backend, save type and size
          P.type = keys[i];
          P.size = b.size;

          // extend store prototype with backend methods
          for (key in b.methods)
            P.Store.prototype[key] = b.methods[key];
        }
      } catch (e) {}
    }

    // mark library as initialized
    P._init = true;
  };

  // create top-level namespace
  P = {
    // version of persist library
    VERSION: VERSION,

    // backend type and size limit
    type: null,
    size: 0,

    // XXX: expose init function?
    // init: init,

    add: function(o) {
      // add to backend hash
      B[o.id] = o;

      // add backend to front of search order
      C.search_order = [o.id].concat(C.search_order);

      // re-initialize library
      init();
    },

    remove: function(id) {
      var ofs = index_of(C.search_order, id);
      if (ofs < 0)
        return;

      // remove from search order
      C.search_order.splice(ofs, 1);

      // delete from lut
      delete B[id];

      // re-initialize library
      init();
    },

    // expose easycookie API
    Cookie: ec,

    // store API
    Store: function(name, o) {
      // verify name
      if (!C.name_re.exec(name))
        throw new Error("Invalid name");

      // XXX: should we lazy-load type?
      // if (!P._init)
      //   init();

      if (!P.type)
        throw new Error("No suitable storage found");

      o = o || {};
      this.name = name;

      // get domain (XXX: does this localdomain fix work?)
      o.domain = o.domain || location.host || 'localhost';
      
      // strip port from domain (XXX: will this break ipv6?)
      o.domain = o.domain.replace(/:\d+$/, '')

      // append localdomain to domains w/o '."
      // (see https://bugzilla.mozilla.org/show_bug.cgi?id=357323)
      // (file://localhost/ works, see: 
      // https://bugzilla.mozilla.org/show_bug.cgi?id=469192)
/* 
 *       if (!o.domain.match(/\./))
 *         o.domain += '.localdomain';
 */ 

      this.o = o;

      // expires in 2 years
      o.expires = o.expires || 365 * 2;

      // set path to root
      o.path = o.path || '/';

      // call init function
      this.init();
    } 
  };

  // init persist
  init();

  // return top-level namespace
  return P;
})();
</script><script>/**
 * alertify
 * An unobtrusive customizable JavaScript notification system
 *
 * @author Fabien Doiron <fabien.doiron@gmail.com>
 * @copyright Fabien Doiron 2012
 * @license MIT <http://opensource.org/licenses/mit-license.php>
 * @link http://fabien-d.github.com/alertify.js/
 * @module alertify
 * @version 0.3.0
 */
(function(e,t){"use strict";var n=e.document,r;r=function(){var r={},i={},s=!1,o={ENTER:13,ESC:27,SPACE:32},u=[],a,f,l,c,h;return i={buttons:{holder:'<nav class="alertify-buttons">{{buttons}}</nav>',submit:'<button type="submit" class="alertify-button alertify-button-ok" id="alertify-ok" />{{ok}}</button>',ok:'<a href="#" class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</a>',cancel:'<a href="#" class="alertify-button alertify-button-cancel" id="alertify-cancel">{{cancel}}</a>'},input:'<div class="alertify-text-wrapper"><input type="text" class="alertify-text" id="alertify-text"></div>',message:'<p class="alertify-message">{{message}}</p>',log:'<article class="alertify-log{{class}}">{{message}}</article>'},a=function(e){return n.getElementById(e)},r={labels:{ok:"OK",cancel:"Cancel"},delay:5e3,addListeners:function(r){var i=a("alertify-resetFocus"),s=a("alertify-ok")||t,u=a("alertify-cancel")||t,f=a("alertify-text")||t,l=a("alertify-form")||t,c=typeof s!="undefined",h=typeof u!="undefined",p=typeof f!="undefined",d="",v=this,m,g,y,b,w;m=function(e){typeof e.preventDefault!="undefined"&&e.preventDefault(),y(e),typeof f!="undefined"&&(d=f.value),typeof r=="function"&&r(!0,d)},g=function(e){typeof e.preventDefault!="undefined"&&e.preventDefault(),y(e),typeof r=="function"&&r(!1)},y=function(e){v.hide(),v.unbind(n.body,"keyup",b),v.unbind(i,"focus",w),p&&v.unbind(l,"submit",m),c&&v.unbind(s,"click",m),h&&v.unbind(u,"click",g)},b=function(e){var t=e.keyCode;t===o.SPACE&&!p&&m(e),t===o.ESC&&h&&g(e)},w=function(e){p?f.focus():h?u.focus():s.focus()},this.bind(i,"focus",w),c&&this.bind(s,"click",m),h&&this.bind(u,"click",g),this.bind(n.body,"keyup",b),p&&this.bind(l,"submit",m),e.setTimeout(function(){f?(f.focus(),f.select()):s.focus()},50)},bind:function(e,t,n){typeof e.addEventListener=="function"?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},build:function(e){var t="",n=e.type,r=e.message,s=e.cssClass||"";t+='<div class="alertify-dialog">',n==="prompt"&&(t+='<form id="alertify-form">'),t+='<article class="alertify-inner">',t+=i.message.replace("{{message}}",r),n==="prompt"&&(t+=i.input),t+=i.buttons.holder,t+="</article>",n==="prompt"&&(t+="</form>"),t+='<a id="alertify-resetFocus" class="alertify-resetFocus" href="#">Reset Focus</a>',t+="</div>";switch(n){case"confirm":t=t.replace("{{buttons}}",i.buttons.cancel+i.buttons.ok),t=t.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"prompt":t=t.replace("{{buttons}}",i.buttons.cancel+i.buttons.submit),t=t.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"alert":t=t.replace("{{buttons}}",i.buttons.ok),t=t.replace("{{ok}}",this.labels.ok);break;default:}return c.className="alertify alertify-show alertify-"+n+" "+s,l.className="alertify-cover",t},close:function(e,t){var n=t&&!isNaN(t)?+t:this.delay;this.bind(e,"click",function(){h.removeChild(e)}),setTimeout(function(){typeof e!="undefined"&&e.parentNode===h&&h.removeChild(e)},n)},dialog:function(e,t,r,i,o){f=n.activeElement;var a=function(){if(c&&c.scrollTop!==null)return;a()};if(typeof e!="string")throw new Error("message must be a string");if(typeof t!="string")throw new Error("type must be a string");if(typeof r!="undefined"&&typeof r!="function")throw new Error("fn must be a function");return typeof this.init=="function"&&(this.init(),a()),u.push({type:t,message:e,callback:r,placeholder:i,cssClass:o}),s||this.setup(),this},extend:function(e){if(typeof e!="string")throw new Error("extend method must have exactly one paramter");return function(t,n){return this.log(t,e,n),this}},hide:function(){u.splice(0,1),u.length>0?this.setup():(s=!1,c.className="alertify alertify-hide alertify-hidden",l.className="alertify-cover alertify-hidden",f?f.focus():null)},init:function(){n.createElement("nav"),n.createElement("article"),n.createElement("section"),l=n.createElement("div"),l.setAttribute("id","alertify-cover"),l.className="alertify-cover alertify-hidden",n.body.appendChild(l),c=n.createElement("section"),c.setAttribute("id","alertify"),c.className="alertify alertify-hidden",n.body.appendChild(c),h=n.createElement("section"),h.setAttribute("id","alertify-logs"),h.className="alertify-logs",n.body.appendChild(h),n.body.setAttribute("tabindex","0"),delete this.init},log:function(e,t,n){var r=function(){if(h&&h.scrollTop!==null)return;r()};return typeof this.init=="function"&&(this.init(),r()),this.notify(e,t,n),this},notify:function(e,t,r){var i=n.createElement("article");i.className="alertify-log"+(typeof t=="string"&&t!==""?" alertify-log-"+t:""),i.innerHTML=e,h.insertBefore(i,h.firstChild),setTimeout(function(){i.className=i.className+" alertify-log-show"},50),this.close(i,r)},set:function(e){var t;if(typeof e!="object"&&e instanceof Array)throw new Error("args must be an object");for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},setup:function(){var e=u[0];s=!0,c.innerHTML=this.build(e),typeof e.placeholder=="string"&&e.placeholder!==""&&(a("alertify-text").value=e.placeholder),this.addListeners(e.callback)},unbind:function(e,t,n){typeof e.removeEventListener=="function"?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}},{alert:function(e,t,n){return r.dialog(e,"alert",t,"",n),this},confirm:function(e,t,n){return r.dialog(e,"confirm",t,"",n),this},extend:r.extend,init:r.init,log:function(e,t,n){return r.log(e,t,n),this},prompt:function(e,t,n,i){return r.dialog(e,"prompt",t,n,i),this},success:function(e,t){return r.log(e,"success",t),this},error:function(e,t){return r.log(e,"error",t),this},set:function(e){r.set(e)},labels:r.labels}},typeof define=="function"?define([],function(){return new r}):typeof e.alertify=="undefined"&&(e.alertify=new r)})(this);</script><script>/*
 * Copyright 2010 by Dan Fabulich.
 * 
 * Dan Fabulich licenses this file to you under the
 * ChoiceScript License, Version 1.0 (the "License"); you may
 * not use this file except in compliance with the License. 
 * You may obtain a copy of the License at
 * 
 *  http://www.choiceofgames.com/LICENSE-1.0.txt
 * 
 * See the License for the specific language governing
 * permissions and limitations under the License.
 * 
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied.
 */

function safeCall(obj, fn) {
    if (!fn) return;
    var isHeadless = typeof window == "undefined";
    var debug = false || (!isHeadless && window.debug);
    var userAgent = this.window && window.navigator && window.navigator.userAgent;
    var isSafari = /Safari/.test(userAgent);
    var isIE = /MSIE/.test(userAgent);
    if (isIE || isHeadless) {
        // just call through; onerror will be called and debugger will handle it
        if (typeof MSApp != "undefined") {
            if (obj) {
                MSApp.execUnsafeLocalFunction(function () { fn.call(obj); });
            } else {
                MSApp.execUnsafeLocalFunction(fn);
            }
        } else if (obj) {
            fn.call(obj);
        } else {
            fn.call();
        }
    } else {
        try {
            if (obj) {
                fn.call(obj);
            } else {
                fn.call();
            }
        } catch (e) {
            if (e.message) {
              window.onerror(e.message, e.fileName, e.lineNumber, e.stack);
            } else if (e.stack) {
              window.onerror(e.stack, e.fileName, e.lineNumber, e.stack);
            } else {
              window.onerror(toJson(e, '\n'));
            }

            if (window.console) {
              window.console.error(e);
              if (e.message) window.console.error("Message: " + e.message);
              if (e.stack) window.console.error("Stack: " + e.stack);
            }
            // Rethrow here so the debugger can handle it
            // On Firefox this causes a second prompt.  Meh!
            if (debug) throw e;
        }
    }
}

function safeCallback(callback) {
  return function() {
    safeCall(null, callback);
  };
}

function safeTimeout(fn, time) {
  setTimeout(function() {
    safeCall(null, fn);
  }, time);
}

function isDefined(x) {
    return "undefined" !== typeof x;
}

function jsonStringifyAscii(obj) {
  var stringified = JSON.stringify(obj, function replacer(key, value) {
    if (key == "scene") return undefined;
    return value;
  });
  var output = stringified.replace(/(.)/g, function(x) {
    var code = x.charCodeAt(0);
    if (code > 127 || code < 32) {
     var outCode = code.toString(16);
     switch (outCode.length) {
       case 4:
         return "\\u" + outCode;
       case 3:
         return "\\u0" + outCode;
       case 2:
         return "\\u00" + outCode;
       case 1:
         return "\\u000" + outCode;
       default:
         return x;
     }
    }
    return x;
  });
  return output;
}

function toJson(obj, standardized) {
 if (typeof JSON != "undefined" && JSON.stringify) {
  return jsonStringifyAscii(obj);
 }
 switch (typeof obj) {
  case 'object':
   if (obj) {
    var list = [];
    if (obj instanceof Array) {
     for (var i=0;i < obj.length;i++) {
      list.push(toJson(obj[i], standardized));
     }
     return '[' + list.join(',') + ']';
    } else {
     for (var prop in obj) {
      if (prop == "scene") continue;
      if (!standardized && /^[a-zA-Z][a-zA-Z_0-9]\w+$/.test(prop) && !/\b(abstract|boolean|break|byte|case|catch|char|class|comment|const|continue|debugger|default|delete|do|double|else|enum|export|extends|false|final|finally|float|for|function|goto|if|implements|import|in|instanceof|int|interface|label|long|native|new|null|package|private|protected|public|return|short|static|super|switch|synchronized|this|throws|transient|true|try|typeof|var|void|volatile|while|with)\b/.test(prop)) {
        list.push(prop + ':' + toJson(obj[prop], standardized));
      } else {
        list.push('"' + prop + '":' + toJson(obj[prop], standardized));
      }
     }
     return '{' + list.join(',') + '}';
    }
   } else {
    return 'null';
   }
   break;
  case 'string':
   var encoded = obj.replace(/(.)/g, function(x) {
     if (x == "'" || x == '"' || x == '\\') {
       return "\\" + x;
     }
     var code = x.charCodeAt(0);
     if (code > 127 || code < 32) {
       var outCode = code.toString(16);
       switch (outCode.length) {
         case 4:
           return "\\u" + outCode;
         case 3:
           return "\\u0" + outCode;
         case 2:
           return "\\u00" + outCode;
         case 1:
           return "\\u000" + outCode;
         default:
           return x;
       }
     }
     return x;
   });
   return '"' + encoded + '"';
  case 'number':
  case 'boolean':
   return String(obj);
  case 'function':
   return 'badfunction';
  case 'undefined':
    return 'undefined';
  default:
   throw new Error("invalid type: " + typeof obj);
 }
}

var loginUrlBase = "https://www.choiceofgames.com/api/";
function xhrAuthRequest(method, endpoint, callback) {
  var paramBuilder = new Array(arguments.length*3);
  for (var i = 3; i < arguments.length; i=i+2) {
    if (i > 3) paramBuilder.push("&");
    paramBuilder.push(arguments[i]);
    paramBuilder.push("=");
    paramBuilder.push(arguments[i+1]);
  }
  var params = paramBuilder.join("");
  var xhr = findXhr();
  if (method == "POST") {
    xhr.open(method, loginUrlBase + endpoint + ".php", true);
    xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");
  } else {
    xhr.open(method, loginUrlBase + endpoint + ".php?" + params, true);
  }

  var done = false;

  xhr.onreadystatechange = function() {
    if (done) return;
    if (xhr.readyState != 4) return;
    done = true;
    var ok = xhr.status == 200;
    var response = {};
    try {
      if (xhr.responseText) response = JSON.parse(xhr.responseText);
    } catch (e) {
      ok = false;
    }
    if (!ok && !response.error) response.error = "unknown error";
    if (callback) safeCall(null, function() {callback(ok, response);});
  };
  xhr.send(params);
}

function login(email, password, register, subscribe, callback) {
  xhrAuthRequest("POST", "login", callback, "email", encodeURIComponent(email), "password", encodeURIComponent(password), "register", register, "subscribe", subscribe);
}

function forgotPassword(email, callback) {
  xhrAuthRequest("POST", "forgot", callback, "email", encodeURIComponent(email));
}

function logout(callback) {
  document.cookie = 'login=0;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;';
  xhrAuthRequest("GET", "logout", callback);
  recordLogin(false);
  window.knownPurchases = null;
  if (typeof FB != "undefined" && FB.logout) FB.logout();
  if (typeof gapi != "undefined" && gapi.auth && gapi.auth.signOut) gapi.auth.signOut();
}

function recordLogin(registered, email, callback) {
  if (initStore()) {
    if (registered) recordEmail(email);
    window.store.set("login", registered, function() {safeCall(null, callback);});
    window.registered = registered;
  } else {
    safeTimeout(callback, 0);
  }
}

function getRemoteEmail(callback) {
  xhrAuthRequest("GET", "getuser", callback);
}

function saveCookie(callback, slot, stats, temps, lineNum, indent) {
    var value = computeCookie(stats, temps, lineNum, indent);
    return writeCookie(value, slot, callback);
}

function computeCookie(stats, temps, lineNum, indent) {
  var scene = stats.scene;
  delete stats.scene;
  if (scene) stats.sceneName = scene.name;
  var version = "UNKNOWN";
  if (typeof(window) != "undefined" && window && window.version) version = window.version;
  var value = toJson({version:version, stats:stats, temps:temps, lineNum: lineNum, indent: indent});
  stats.scene = scene;
  return value;
}

function writeCookie(value, slot, callback) {
  if (!window.pseudoSave) window.pseudoSave = {};
  if (!slot) {
    slot = "";
  }
  window.pseudoSave[slot] = value;
  if (!initStore()) {
    if (callback) safeTimeout(callback, 0);
    return;
  }
  window.store.set("state"+slot, value, safeCallback(callback));
}

function clearCookie(callback, slot) {
    writeCookie('', slot, safeCallback(callback));
}

function areSaveSlotsSupported() {
  return !!(initStore() && window.Persist.type != "cookie");
}

function recordSave(slot, callback) {
  if (!areSaveSlotsSupported()) {
    safeTimeout(callback, 0);
    return;
  }
  restoreObject(initStore(), "save_list", [], function (saveList) {
    saveList.push(slot);
    window.store.set("save_list", toJson(saveList), safeCallback(callback));
  });
}

function recordDirtySlots(slots, callback) {
  if (!areSaveSlotsSupported()) {
    safeTimeout(callback, 0);
    return;
  }
  restoreObject(initStore(), "dirty_save_list", [], function (saveList) {
    saveSet = {};
    for (var i = 0; i < saveList.length; i++) {
      saveSet[saveList[i]] = 1;
    }
    for (i = 0; i < slots.length; i++) {
      if (!saveSet[slots[i]]) saveList.push(slots[i]);
    }
    window.store.set("dirty_save_list", toJson(saveList), safeCallback(callback));
  });
}

function recordEmail(email, callback) {
  if (initStore()) {
    window.store.set("email", email, safeCallback(callback));
  } else {
    safeTimeout(callback, 0);
  }
}

function fetchEmail(callback) {
  if (!initStore()) {
    safeTimeout(function(){callback("");}, 0);
    return;
  }
  window.store.get("email", function(ok, value) {
    safeCall(null, function() {
      if (ok && value) {
        callback(value);
      } else {
        callback("");
      }
    });
  });
}

function restoreObject(store, key, defaultValue, callback) {
  if (!store) {
    safeTimeout(function() {callback(defaultValue);}, 0);
    return;
  }
  store.get(key, function(ok, value) {
    var result = defaultValue;
    if (ok && value) {
      try{
        result = jsonParse(value);
      } catch (e) {}
    }
    safeCall(null, function() {callback(result);});
  });
}

function getDirtySaveList(callback) {
  restoreObject(initStore(), "dirty_save_list", [], function (slotList) {
    callback(slotList);
  });
}

function remoteSaveMerger(i, callback) {
  var remoteStore = new Persist.Store(window.remoteStoreNames[i]);
  restoreObject(remoteStore, "save_list", [], function (remoteSlotList) {
    fetchSavesFromSlotList(remoteStore, remoteSlotList, 0, [], function(remoteSaveList) {
      mergeRemoteSaves(remoteSaveList, 0/*recordDirty*/, function() {
        i++;
        if (i < window.remoteStoreNames.length) {
          remoteSaveMerger(i, callback);
        } else {
          callback.apply(null, arguments);
        }
      });
    });
  });
}

function getSaves(callback) {
  if (window.remoteStoreNames && window.remoteStoreNames.length) {
    remoteSaveMerger(0, callback);
  } else if (window.remoteStoreName && window.storeName != window.remoteStoreName) {
    var remoteStore = new Persist.Store(window.remoteStoreName);
    restoreObject(remoteStore, "save_list", [], function (remoteSlotList) {
      fetchSavesFromSlotList(remoteStore, remoteSlotList, 0, [], function(remoteSaveList) {
        mergeRemoteSaves(remoteSaveList, 0/*recordDirty*/, callback);
      });
    });
  } else {
    restoreObject(initStore(), "save_list", [], function (localSlotList) {
      fetchSavesFromSlotList(initStore(), localSlotList, 0, [], callback);
    });
  }
}

function fetchSavesFromSlotList(store, slotList, i, saveList, callback) {
  if (i >= slotList.length) {
    return safeCall(null, function() {callback(saveList);});
  }
  restoreObject(store, "state"+slotList[i], null, function(saveState) {
    saveState.timestamp = slotList[i].substring(4/*"save".length*/);
    saveList.push(saveState);
    fetchSavesFromSlotList(store, slotList, i+1, saveList, callback);
  });
}

function isWebSavePossible() {
  if (!initStore()) return false;
  if (/^http/.test(window.location.protocol)) {
    return document.domain == window.webSaveDomain || document.domain == "localhost";
  }
  // if it's a file URL with a valid store, either you're a 3rd party developer
  // who knows what you're doing, or you're a mobile app
  return true;
}


webSaveDomain = "www.choiceofgames.com";
webSaveUrl = "https://" + webSaveDomain + "/ajax_proxy.php/websave";

function submitRemoteSave(slot, email, subscribe, callback) {
  if (!isWebSavePossible()) return safeTimeout(function() { callback(false); });
  window.store.get("state"+slot, function(ok, value) {
    if (ok) {
      var timestamp = slot.substring(4/*"save".length*/);
      var xhr = findXhr();
      var gameName = window.remoteStoreName || window.storeName;
      var params = "email="+email+"&game="+gameName+"&realGame="+window.storeName+"&json="+encodeURIComponent(value)+"&timestamp="+ timestamp+"&subscribe="+subscribe;
      xhr.open("POST", webSaveUrl,true);
      xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");
      var done = false;

      xhr.onreadystatechange = function() {
        if (done) return;
        if (xhr.readyState != 4) return;
        done = true;
        var ok = xhr.status == 200;
        if (ok) {
          safeCall(null, function() {callback(true);});
        } else {
          recordDirtySlots([slot], function() {
            safeCall(null, function() {callback(false);});
          });
        }
      };
      xhr.send(params);
    } else {
      recordDirtySlots([slot], function() {
        asyncAlert("There was a problem uploading the saved game. This is probably a bug; please contact support@choiceofgames.com with code 17891.", function() {
          safeCall(null, function() {callback(false);});
        });
      });
    }
  });
}

function submitDirtySaves(dirtySaveList, email, callback) {
  function submitDirtySave(i) {
    if (dirtySaveList[i]) {
      submitRemoteSave(dirtySaveList[i], email, false, function(ok) {
        if (ok) {
          submitDirtySave(i+1);
        } else {
          safeCall(null, function() {callback(false);});
        }
      });
    } else {
      window.store.remove("dirty_save_list", function() {
        safeCall(null, function() {callback(true);});
      });
    }
  }
  submitDirtySave(0);
}

function submitAnyDirtySaves(callback) {
  if (!callback) callback = function(ok) {};
  try {
    getDirtySaveList(function(dirtySaveList) {
      if (dirtySaveList && dirtySaveList.length) {
        try {
          fetchEmail(function(email) {
            if (email) {
              submitDirtySaves(dirtySaveList, email, callback);
            } else {
              callback(false);
            }
          });
        } catch (e) {
          callback(false);
        }
      }
    });
  } catch (e) {
    callback(false);
  }
}

function getRemoteSaves(email, callback) {
  if (!isWebSavePossible()) {
    safeTimeout(function() {callback([]);}, 0);
    return;
  }
  var xhr = findXhr();
  var gameName = window.remoteStoreName || window.storeName;
  xhr.open("GET", webSaveUrl + "?email="+email+"&game="+gameName, true);
  var done = false;
  xhr.onreadystatechange = function() {
    if (done) return;
    if (xhr.readyState != 4) return;
    done = true;
    if (xhr.status != 200) {
      if (window.console) console.log("Couldn't load remote saves. " + xhr.status + ": " + xhr.responseText);
      safeCall(null, function() {callback(null);});
    } else {
      var result = xhr.responseText;
      result = jsonParse(result);
      var remoteSaveList = [];
      for (var i = 0; i < result.length; i++) {
        var save = result[i].json;
        save.timestamp = result[i].timestamp;
        remoteSaveList.push(save);
      }
      safeCall(null, function() {callback(remoteSaveList);});
    }
  };
  xhr.send();
}

function mergeRemoteSaves(remoteSaveList, recordDirty, callback) {
  if (!isWebSavePossible()) {
    safeTimeout(function() { callback([], 0, []); }, 0);
    return;
  }
  restoreObject(initStore(), "save_list", [], function (localSlotList) {
    fetchSavesFromSlotList(initStore(), localSlotList, 0, [], function(localSaveList) {
      var localSlotMap = {};
      for (var i = 0; i < localSlotList.length; i++) {
        localSlotMap[localSlotList[i]] = 1;
      }
      var remoteSlotMap = {};
      for (i = 0; i < remoteSaveList.length; i++) {
        remoteSlotMap["save"+remoteSaveList[i].timestamp] = 1;
      }
      var newRemoteSaves = 0;
      for (i = 0; i < remoteSaveList.length; i++) {
        var remoteSave = remoteSaveList[i];
        var slot = "save"+remoteSave.timestamp;
        if (!localSlotMap[slot]) {
          saveCookie(null, slot, remoteSave.stats, remoteSave.temps, remoteSave.lineNum, remoteSave.indent);
          localSlotList.push(slot);
          localSaveList.push(remoteSave);
          newRemoteSaves++;
        }
      }

      var dirtySaveList = [];
      for (i = 0; i < localSlotList.length; i++) {
        if (!remoteSlotMap[localSlotList[i]]) {
          dirtySaveList.push(localSlotList[i]);
        }
      }

      if (recordDirty) {
        window.store.set("dirty_save_list", toJson(dirtySaveList), finale);
      } else {
        finale();
      }

      function finale() {
        if (newRemoteSaves) {
          window.store.set("save_list", toJson(localSlotList), function() {
            safeCall(null, function() { callback(localSaveList, newRemoteSaves, dirtySaveList); });
          });
        } else {
          safeCall(null, function() {callback(localSaveList, newRemoteSaves, dirtySaveList);});
        }
      }
    });
  });
}

function delayBreakStart(callback) {
  var nowInSeconds = Math.floor(new Date().getTime() / 1000);
  if (!initStore()) {
    safeTimeout(function() {callback(nowInSeconds);}, 0);
    return;
  }
  window.store.get("delayBreakStart", function(ok, value) {
    var valueNum = value*1;
    safeCall(null, function() {
      if (ok && value && !isNaN(valueNum)) {
        callback(valueNum);
      } else {
        window.store.set("delayBreakStart", nowInSeconds);
        callback(nowInSeconds);
      }
    });
  });
}

function delayBreakEnd() {
  if (initStore()) window.store.remove("delayBreakStart");
}

function initStore() {
  if (!window.storeName) return false;
  if (window.store) return window.store;
  try {
    window.store = new Persist.Store(window.storeName);
  } catch (e) {}
  return window.store;
}
function loadAndRestoreGame(slot, forcedScene) {
  function valueLoaded(ok, value) {
    safeCall(null, function() {
      var state = null;
      if (ok && value && ""+value) {
        state = jsonParse(value);
      } else if (window.Persist.type == "androidStorage" && document.cookie) {
        return upgradeAndroidCookies(slot,forcedScene);
      }
      restoreGame(state, forcedScene);
    });
  }
  if (!slot) slot = "";
  if (window.pseudoSave && pseudoSave[""]) return valueLoaded(true, pseudoSave[""]);
  if (!initStore()) return restoreGame(null, forcedScene);
  window.store.get("state"+slot, valueLoaded);
}

// we used to use cookies on some Android devices; now we use androidStorage
function upgradeAndroidCookies(slot, forcedScene) {
  var ck = document.cookie;
  var components = ck.split("; ");
  function upgradeComponent(i) {
    if (!components[i]) {
      loadAndRestoreGame(slot, forcedScene);
      return;
    }
    var parts = components[i].split("=");
    var key = parts[0];
    var deletion = key + "=x; path=/; domain=localhost; expires=Thu, 01-Jan-1970 00:00:01 GMT";
    document.cookie = deletion;
    // key is in the format "storeName:actualKey"
    key = unescape(key).substring(window.storeName.length + 1);
    var value = unescape(parts[1]);
    window.store.set(key, value, function() {
      upgradeComponent(i+1);
    });
  }
  safeCall(this, function() {upgradeComponent(0);});
}

function isStateValid(state) {
  if (!state) return false;
  if (!state.stats) return false;
  if (!state.stats.sceneName) return false;
  return true;
}

function restartGame(shouldPrompt) {
  if (window.tickerRunning) {
    asyncAlert("Please wait until the timer has run out.");
    return;
  }
  function actuallyRestart(result) {
    if (!result) return;
    submitAnyDirtySaves();
    clearCookie(function() {}, 'temp');
    clearCookie(function() {
      window.nav.resetStats(window.stats);
      clearScreen(restoreGame);
    }, "");
  }
  if (shouldPrompt) {
    asyncConfirm("Start over from the beginning?", actuallyRestart);
  } else {
    actuallyRestart(true);
  }
}

function restoreGame(state, forcedScene, userRestored) {
    var scene;
    var secondaryMode = null;
    var saveSlot = "";
    if (forcedScene == "choicescript_stats") {
      secondaryMode = "stats";
      saveSlot = "temp";
    } else if (forcedScene == "choicescript_upgrade") {
      secondaryMode = "upgrade";
      saveSlot = "temp";
    }
    if (!isStateValid(state)) {
        var startupScene = forcedScene ? forcedScene : window.nav.getStartupScene();
        scene = new Scene(startupScene, window.stats, window.nav, {debugMode:window.debug, secondaryMode:secondaryMode, saveSlot:saveSlot});
        safeCall(scene, scene.execute);
    } else {
      if (forcedScene) state.stats.sceneName = forcedScene;
      window.stats = state.stats;
      // Someday, inflate the navigator using the state object
      scene = new Scene(state.stats.sceneName, state.stats, window.nav, {debugMode:state.debug || window.debug, secondaryMode:secondaryMode, saveSlot:saveSlot});
      if (!forcedScene) {
        scene.temps = state.temps;
        scene.lineNum = state.lineNum;
        scene.indent = state.indent;
      }
      if (userRestored) {
        scene.temps.choice_user_restored = true;
      }
      safeCall(scene, scene.execute);
    }
}

function redirectScene(sceneName, label, originLine) {
  var scene = new Scene(sceneName, window.stats, window.nav, {debugMode:window.debug});
  if (label) scene.targetLabel = {label:label, origin:"choicescript_stats", originLine:originLine};
  clearScreen(function() {scene.execute();});
}

function loadTempStats(defaultValue, callback) {
  function valueLoaded(ok, value) {
    var state = {};
    if (ok && value && String(value)) {
      try {
        state = jsonParse(value);
      } catch (e) {}
    }
    if (state && state.stats) {
      callback(state.stats);
    } else {
      callback(defaultValue);
    }
  }
  if (!initStore()) {
    if (window.pseudoSave && window.pseudoSave["temp"]) {
      return safeTimeout(function() {
        valueLoaded("ok", pseudoSave["temp"]);
      }, 0);
    } else {
      return safeTimeout(function() {callback(defaultValue);}, 0);
    }
  } else {
    window.store.get("statetemp", valueLoaded);
  }
}

function clearTemp(callback) {
  if (!initStore()) {
    if (window.pseudoSave) {
      delete window.pseudoSave.temp;
    }
    return safeTimeout(callback, 0);
  }
  window.store.remove("statetemp", callback);
}

function getCookieByName(cookieName, ck) {
    if (!ck) ck = window.document.cookie;
    if (!ck) return null;
    var ckPairs = ck.split(/;/);
    for (var i = 0; i < ckPairs.length; i++) {
        var ckPair = trim(ckPairs[i]);
        var ckNameValue = ckPair.split(/=/);
        var ckName = decodeURIComponent(ckNameValue[0]);
        if (ckName === cookieName) {
            return decodeURIComponent(ckNameValue[1]);
        }
    }
    return null;
}

function parseQueryString(str) {
  if (!str) return null;
  var map = {};
  var pairs = String(str).substring(1).split("&");
  var i = pairs.length;
  while (i--) {
    var pair = pairs[i];
    var parts = pair.split("=");
    map[parts[0]] = parts[1];
  }
  return map;
}
function trim(str) {
    if (str === null || str === undefined) return null;
    var result = str.replace(/^\s+/g, "");
    // strip leading
    return result.replace(/\s+$/g, "");
    // strip trailing
}


function findOptimalDomain(docDomain) {
    if (!docDomain) docDomain = document.domain;
    // localhost and 127.0.0.1 will cause cookie not to be set; just omit them, it works fine
    if (docDomain == "localhost" || docDomain == "127.0.0.1") return null;
    // ip address
    if (/^\d+\.\d+\.\d+\.\d+$/.test(docDomain)) return null;
    // dotcom
    var result = docDomain.match(/(\w+\.\w{3}$)/);
    if (result) return result[1];
    return null;
}

function num(x, line) {
    if (!line) line = "UNKNOWN";
    var x_num = x * 1;
    if (isNaN(x_num)) throw new Error("line "+line+": Not a number: " + x);
    return x_num;
}

function bool(x, line) {
  if (!line) line = "UNKNOWN";
  if ("boolean" == typeof x) {
    return x;
  } else if ("true" === x) {
    return true;
  } else if ("false" === x) {
    return false;
  }
  throw new Error("line "+line+": Neither true nor false: " + x);
}

function findXhr() {
  var ieFile = isIE && isFile;
  if (window.XMLHttpRequest && !ieFile) return new window.XMLHttpRequest();
  var ids = ['Msxml2.XMLHTTP', 'Microsoft.XMLHTTP', 'Msxml2.XMLHTTP.4.0'];
  for (var i = 0; i < 3; i++) {
    try {
      return new ActiveXObject(ids[i]);
    } catch (e) {}
  }
  throw new Error("Couldn't create XHR object");
}

    crcTable = "00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D";

    /* Number */
    function crc32( /* String */ str, /* Number */ crc ) {
        if( !crc ) crc = 0;
        var n = 0; //a number between 0 and 255 
        var x = 0; //an hex number 

        crc = crc ^ (-1);
        for( var i = 0, iTop = str.length; i < iTop; i++ ) {
            n = ( crc ^ str.charCodeAt( i ) ) & 0xFF;
            x = "0x" + crcTable.substr( n * 9, 8 );
            crc = ( crc >>> 8 ) ^ x;
        }
        return crc ^ (-1);
    }

function simpleDateTimeFormat(date) {
  var day = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"][date.getDay()];
  var month = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"][date.getMonth()];
  var minutes = date.getMinutes();
  if (minutes < 10) minutes = "0" + (""+minutes);
  return day + " " + month + " " + date.getDate() + " " + date.getHours() + ":" + minutes;
}

function jsonParse(str) {
  if (typeof JSON != "undefined") {
    try {
      return JSON.parse(str);
    } catch (e) {
      // try to handle unquoted keys
      try {
        return eval('('+str+')');
      } catch (e2) {
        // that might have failed because eval is forbidden
        try {
          eval("1");
        } catch (e3) {
          // eval forbidden; let's try a hack to fix unquoted keys
          var str2 = (str+"").replace(/([,\{])\s*(\w+)\s*\:/g, '$1"$2":');
          try {
            return JSON.parse(str2);
          } catch (e4) {}
        }
        // at this point, just report a clear error
        return JSON.parse(str);
      }
    }
  } else {
    return eval('('+str+')');
  }
}

function cefQuerySimple(method) {
  cefQuery({
    request:method,
    onSuccess: function(response) {console.log(method + " success");},
    onFailure: function(error_code, error_message) {console.error(method + " error: " + error_message);}
  });
}
</script><script>/* * Copyright 2010 by Dan Fabulich.
 *
 * Dan Fabulich licenses this file to you under the
 * ChoiceScript License, Version 1.0 (the "License"); you may
 * not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.choiceofgames.com/LICENSE-1.0.txt
 *
 * See the License for the specific language governing
 * permissions and limitations under the License.
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied.
 */


function printx(msg, parent) {
    if (msg === null || msg === undefined || msg === "") return;
    if (!parent) parent = document.getElementById('text');
    if (msg == " ") {
      // IE7 doesn't like innerHTML that's nothing but " "
      parent.appendChild(document.createTextNode(" "));
      return;
    }
    msg = (msg+"").replace(/&/g, '&amp;')
      .replace(/</g, '&lt;')
      .replace(/>/g, '&gt;')
      .replace(/"/g, '&quot;')
      .replace(/\[tm\]/g, '&reg;')
      .replace(/\[n\/\]/g, '<br>')
      .replace(/\[b\]/g, '<b>')
      .replace(/\[\/b\]/g, '</b>')
      .replace(/\[i\]/g, '<i>')
      .replace(/\[\/i\]/g, '</i>')
      .replace(/\[center\]/g, '<center>')
      .replace(/\[\/center\]/g, '</center>')
      .replace(/\[censored\]/g, '<span class="censored">')
      .replace(/\[\/censored\]/g, '</span>')
      .replace(/\[boldred\]/g, '<span style="color:red; font-weight:bold">')
      .replace(/\[\/boldred\]/g, '</span>')
      .replace(/\[boldblue\]/g, '<span style="color:blue; font-weight:bold">')
      .replace(/\[\/boldblue\]/g, '</span>');
    var frag = document.createDocumentFragment();
    temp = document.createElement('div');
    temp.innerHTML = msg;
    while (temp.firstChild) {
        frag.appendChild(temp.firstChild);
    }
    parent.appendChild(frag);
}

function println(msg, parent) {
    if (!parent) parent = document.getElementById('text');
    printx(msg, parent);
    var br = window.document.createElement("br");
    parent.appendChild(br);
}


function showStats() {
    if (document.getElementById('loading')) return;
    setButtonTitles();
    if (window.stats.scene.secondaryMode == "stats") {
      clearScreen(loadAndRestoreGame);
      return;
    }
    var currentScene = window.stats.scene;
    var scene = new Scene("choicescript_stats", window.stats, this.nav, {secondaryMode:"stats", saveSlot:"temp"});
    main.innerHTML = "<div id='text'></div>";
    scene.execute();
}

function redirectFromStats(scene, label, originLine, callback) {
  if (window.isIosApp) {
    if (!label) label = "";
    callIos("redirectfromstats", scene + " " +label  + " " + originLine);
  } else if (window.isAndroidApp) {
    statsMode.redirectFromStats(scene, label || "", originLine);
  } else {
    safeTimeout(callback, 0);
  }
}

function showAchievements(hideNextButton) {
  if (document.getElementById('loading')) return;
  var button = document.getElementById("achievementsButton");
  if (!button) return;
  if (button.innerHTML == "Return to the Game") {
    setButtonTitles();
    return clearScreen(loadAndRestoreGame);
  }
  setButtonTitles();
  button.innerHTML = "Return to the Game";
  clearScreen(function() {
    checkAchievements(function() {
      printAchievements(document.getElementById("text"));
      if (!hideNextButton) printButton("Next", main, false, function() {
        setButtonTitles();
        clearScreen(loadAndRestoreGame);
      });
    });
  });
}

function showMenu() {
  if (document.getElementById('loading')) return;
  var button = document.getElementById("menuButton");
  if (!button) return;
  if (button.innerHTML == "Return to the Game") {
    button.innerHTML = "Menu";
    return clearScreen(loadAndRestoreGame);
  }
  setButtonTitles();
  button.innerHTML = "Return to the Game";
  function menu() {
    options = [
      {name:"Return to the game.", group:"choice", resume:true},
      {name:"View the credits.", group:"choice", credits:true},
      {name:"Play more games like this.", group:"choice", moreGames:true},
      {name:"Email us at " + getSupportEmail() + ".", group:"choice", contactUs:true},
      {name:"Share this game with friends.", group:"choice", share:true},
      {name:"Email me when new games are available.", group:"choice", subscribe:true},
    ];
    printOptions([""], options, function(option) {
      if (option.resume) {
        setButtonTitles();
        return clearScreen(loadAndRestoreGame);
      } else if (option.credits) {
        absolutizeAboutLink();
        aboutClick();
      } else if (option.moreGames) {
        moreGames();
        curl();
      } else if (option.share) {
        clearScreen(function() {
          printShareLinks(document.getElementById("text"), "now");
          menu();
        });
      } else if (option.subscribe) {
        setButtonTitles();
        subscribeLink();
      } else if (option.contactUs) {
        window.location.href="mailto:"+getSupportEmail();
      }
    });
  }
  clearScreen(menu);
}

function setButtonTitles() {
  var button;
  button = document.getElementById("menuButton");
  if (button) {
    button.innerHTML = "Menu";
  }
  button = document.getElementById("statsButton");
  if (button) {
    button.innerHTML = "Show Stats";
  }
  button = document.getElementById("achievementsButton");
  if (button) {
    if (nav.achievementList.length) {
      button.style.display = "";
      button.innerHTML = "Achievements";
    } else {
      button.style.display = "none";
    }
  }

}


function spell(num) {
  if (num > 99) return num;
  var smallNumbers = ["zero", "one", "two", "three", "four", "five", "six", "seven", "eight", "nine", "ten", "eleven", "twelve", "thirteen", "fourteen", "fifteen", "sixteen", "seventeen", "eighteen", "nineteen"];
  var tens = ["zero", "ten", "twenty", "thirty", "forty", "fifty", "sixty", "seventy", "eighty", "ninety"];
  if (num < 20) {
    return smallNumbers[num];
  }
  var onesDigit = num % 10;
  if (onesDigit === 0) {
    return tens[num / 10];
  }
  var tensDigit = (num - onesDigit) / 10;
  return tens[tensDigit]+"-"+smallNumbers[onesDigit];
}

function printAchievements(target) {
  var unlockedBuffer = [];
  var lockedBuffer = [];
  var achievedCount = 0, hiddenCount = 0, score = 0, totalScore = 0;
  var totalAchievements = nav.achievementList.length;
  var buffer;
  for (var i = 0; i < totalAchievements; i++) {
    var name = nav.achievementList[i];
    var achievement = nav.achievements[name];
    var points = achievement.points;
    totalScore += points;

    var description;

    if (nav.achieved[name]) {
      achievedCount++;
      score += points;
      buffer = unlockedBuffer;
      description = achievement.earnedDescription;
    } else {
      if (achievement.visible) {
        buffer = lockedBuffer;
        description = achievement.preEarnedDescription;
      } else {
        hiddenCount++;
        continue;
      }
    }

    if (buffer.length) buffer.push("<br>");
    buffer.push("<b>");
    buffer.push(achievement.title.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;'));
    buffer.push(":");
    buffer.push("</b> ");
    buffer.push(description.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;')
      .replace(/\[b\]/g, '<b>')
      .replace(/\[\/b\]/g, '</b>')
      .replace(/\[i\]/g, '<i>')
      .replace(/\[\/i\]/g, '</i>')
    );
    buffer.push(" (");
    buffer.push(points);
    buffer.push(" points)");
  }

  // What if there's exactly one achievement worth exactly one point?
  if (achievedCount === 0) {
    if (hiddenCount === 0) {
      buffer = ["You haven't unlocked any achievements yet. There are "+spell(totalAchievements)+" possible achievements, worth a total of "+totalScore+" points.<p>"];
    } else if (hiddenCount == 1) {
      buffer = ["You haven't unlocked any achievements yet. There are "+spell(totalAchievements)+" possible achievements (including one hidden achievement), worth a total of "+totalScore+" points.<p>"];
    } else if (hiddenCount == totalAchievements) {
      buffer = ["You haven't unlocked any achievements yet. There are "+spell(totalAchievements)+" hidden achievements, worth a total of "+totalScore+" points.<p>"];
    } else {
      buffer = ["You haven't unlocked any achievements yet. There are "+spell(totalAchievements)+" possible achievements (including "+spell(hiddenCount)+" hidden achievements), worth a total of "+totalScore+" points.<p>"];
    }
    if (lockedBuffer.length) {
      buffer.push.apply(buffer, lockedBuffer);
      buffer.push("<p>");
    }
  } else if (score == totalScore) {
    if (totalAchievements == 2) {
      buffer = ["Congratulations! You have unlocked both achievements, earning a total of "+score+" points, a perfect score.<p>"];
    } else {
      buffer = ["Congratulations! You have unlocked all "+spell(totalAchievements)+" achievements, earning a total of "+score+" points, a perfect score.<p>"];
    }
    buffer.push.apply(buffer, unlockedBuffer);
    buffer.push("<p>");
  } else {
    buffer = ["You have unlocked "+spell(achievedCount)+" out of "+spell(totalAchievements)+" possible achievements, earning you a score of "+score+" out of a possible "+totalScore+" points.<p>"];
    buffer.push.apply(buffer, unlockedBuffer);
    var remaining = totalAchievements-achievedCount;
    if (remaining == hiddenCount) {
      if (remaining == 1) {
        buffer.push("<p>There is still one hidden achievement remaining.<p>");
      } else {
        buffer.push("<p>There are still " + spell(remaining) + " hidden achievements remaining.<p>");
      }
    } else if (hiddenCount > 1) {
      buffer.push("<p>There are still "+spell(remaining)+" achievements remaining, including "+spell(hiddenCount)+" hidden achievements.<p>");
    } else if (hiddenCount == 1) {
      buffer.push("<p>There are still "+spell(remaining)+" achievements remaining, including one hidden achievement.<p>");
    } else if (remaining == 1) {
      buffer.push("<p>There is still one achievement remaining.<p>");
    } else {
      buffer.push("<p>There are still "+spell(remaining)+" achievements remaining.<p>");
    }
    if (lockedBuffer.length) {
      buffer.push.apply(buffer, lockedBuffer);
      buffer.push("<p>");
    }
  }

  target.innerHTML = buffer.join("");
}

function callIos(scheme, path) {
  if (!window.isIosApp) return;
  if (path) {
    path = encodeURIComponent(path);
  } else {
    path = "";
  }
  setTimeout(function() {
    var iframe = document.createElement("IFRAME");
    iframe.setAttribute("src", scheme + "://" + path);
    iframe.setAttribute("style", "display:none");
    document.documentElement.appendChild(iframe);
    iframe.parentNode.removeChild(iframe);
    iframe = null;
  }, 0);
}

// in the iOS app, display a page curl animation
function curl() {
  // TODO force a reflow before curling the page
  callIos("curl");
}

function asyncAlert(message, callback) {
  if (!callback) callback = function(){};
  if (window.isIosApp) {
    window.alertCallback = callback;
    callIos("alert", message);
  } else if (window.isAndroidApp) {
    setTimeout(function() {
      alert(message);
      if (callback) callback();
    }, 0);
  } else if (window.isWinOldApp) {
    setTimeout(function() {
      window.external.Alert(message);
      if (callback) callback();
    }, 0);
  } else {
    alertify.alert(message, function() {safeCall(null, callback);});
  }
}

function asyncConfirm(message, callback) {
  if (false/*window.isIosApp*/) {
    // TODO asyncConfirm
    window.confirmCallback = callback;
    callIos("confirm", message);
  } else if (window.isAndroidApp) {
    setTimeout(function() {
      var result = confirm(message);
      if (callback) callback(result);
    }, 0);
  } else if (window.isWinOldApp) {
    setTimeout(function() {
      var result = window.external.Confirm(message);
      if (callback) callback(result);
    }, 0);
  } else {
    alertify.confirm(message, function(result) {safeCall(null, callback(result));});
  }
}


function clearScreen(code) {
    // can't create div via innerHTML; div mysteriously doesn't show up on iOS
    main.innerHTML = "";
    var text = document.createElement("div");
    text.setAttribute("id", "text");
    main.appendChild(text);



    var useAjax = true;
    if (isWeb && window.noAjax) {
      useAjax = false;
    }

    if (useAjax) {
      doneLoading();
      setTimeout(function() {
        if (window.isChromeApp) {
          document.body.firstElementChild.scrollIntoView();
        } else {
          window.scrollTo(0,0);
          if (window.isIosApp || (window.isSafari && window.isMobile && !window.isAndroid)) {
            // focus on text for iOS Voiceover
            main.setAttribute("tabindex", "-1");
            main.focus();
          }
        }
      }, 0);
      safeCall(null, code);
    } else {
      if (!initStore()) alert("Your browser has disabled cookies; this game requires cookies to work properly.  Please re-enable cookies and refresh this page to continue.");
      startLoading();
      var form = window.document.createElement("form");
      var axn = window.location.protocol + "//" + window.location.host + window.location.pathname;
      form.setAttribute("action", axn);
      form.setAttribute("method", "POST");
      main.appendChild(form);
      form.submit();
    }
}

function safeSubmit(code) {
    return function safelySubmitted() {
        safeCall(code);
        return false;
    };
}

function startLoading() {
    var loading = document.getElementById('loading');
    if (!loading) {
      safeCall(null, function() {
        loading = document.createElement('div');
        loading.setAttribute("id", "loading");
        loading.innerHTML = "<p>Loading...</p><p>"+
          (/MSIE [67]/.test(navigator.userAgent)?"":"<img src=\"data:image/gif;base64,R0lGODlhgAAPAPEAAPf08WJhYMvJx2JhYCH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAgAAPAAACo5QvoIC33NKKUtF3Z8RbN/55CEiNonMaJGp1bfiaMQvBtXzTpZuradUDZmY+opA3DK6KwaQTCbU9pVHc1LrDUrfarq765Ya9u+VRzLyO12lwG10yy39zY11Jz9t/6jf5/HfXB8hGWKaHt6eYyDgo6BaH6CgJ+QhnmWWoiVnI6ddJmbkZGkgKujhplNpYafr5OooqGst66Uq7OpjbKmvbW/p7UAAAIfkECQoAAAAsAAAAAIAADwAAArCcP6Ag7bLYa3HSZSG2le/Zgd8TkqODHKWzXkrWaq83i7V5s6cr2f2TMsSGO9lPl+PBisSkcekMJphUZ/OopGGfWug2Jr16x92yj3w247bh6teNXseRbyvc0rbr6/x5Ng0op4YSJDb4JxhI58eliEiYYujYmFi5eEh5OZnXhylp+RiaKQpWeDf5qQk6yprawMno2nq6KlsaSauqS5rLu8cI69k7+ytcvGl6XDtsyzxcAAAh+QQJCgAAACwAAAAAgAAPAAACvpw/oIC3IKIUb8pq6cpacWyBk3htGRk1xqMmZviOcemdc4R2kF3DvfyTtFiqnPGm+yCPQdzy2RQMF9Moc+fDArU0rtMK9SYzVUYxrASrxdc0G00+K8ruOu+9tmf1W06ZfsfXJfiFZ0g4ZvEndxjouPfYFzk4mcIICJkpqUnJWYiYs9jQVpm4edqJ+lkqikDqaZoquwr7OtHqAFerqxpL2xt6yQjKO+t7bGuMu1L8a5zsHI2MtOySVwo9fb0bVQAAIfkECQoAAAAsAAAAAIAADwAAAsucP6CAt9zSErSKZyvOd/KdgZaoeaFpRZKiPi1aKlwnfzBF4jcNzDk/e7EiLuLuhzwqayfmaNnjCCGNYhXqw9qcsWjT++TqxIKp2UhOprXf7PoNrpyvQ3p8fAdu82o+O5w3h2A1+Nfl5geHuLgXhEZVWBeZSMnY1oh5qZnyKOhgiGcJKHqYOSrVmWpHGmpauvl6CkvhaUD4qejaOqvH2+doV7tSqdsrexybvMsZrDrJaqwcvSz9i9qM/Vxs7Qs6/S18a+vNjUx9/v1TAAAh+QQJCgAAACwAAAAAgAAPAAAC0Zw/oIC33NKKUomLxct4c718oPV5nJmhGPWwU9TCYTmfdXp3+aXy+wgQuRRDSCN2/PWAoqVTCSVxilQZ0RqkSXFbXdf3ZWqztnA1eUUbEc9wm8yFe+VguniKPbNf6mbU/ubn9ieUZ6hWJAhIOKbo2Pih58C3l1a5OJiJuflYZidpgHSZCOnZGXc6l3oBWrE2aQnLWYpKq2pbV4h4OIq1eldrigt8i7d73Ns3HLjMKGycHC1L+hxsXXydO9wqOu3brPnLXL3C640sK+6cTaxNflEAACH5BAkKAAAALAAAAACAAA8AAALVnD+ggLfc0opS0SeyFnjn7oGbqJHf4mXXFD2r1bKNyaEpjduhPvLaC5nJEK4YTKhI1ZI334m5g/akJacAiDUGiUOHNUd9ApTgcTN81WaRW++Riy6Tv/S4dQ1vG4ps4NwOaBYlOEVYhYbnplexyJf3ZygGOXkWuWSZuNel+aboV0k5GFo4+qN22of6CMoq2kr6apo6m5fJWCoZm+vKu2Hr6KmqiHtJLKebRhuszNlYZ3ncewh9J9z8u3mLHA0rvetrzYjd2Wz8bB6oNO5MLq6FTp2+bVUAACH5BAkKAAAALAAAAACAAA8AAALanD+ggLfc0opS0XeX2Fy8zn2gp40ieHaZFWHt9LKNO5eo3aUhvisj6RutIDUZgnaEFYnJ4M2Z4210UykQ8BtqY0yHstk1UK+/sdk63i7VYLYX2sOa0HR41S5wi7/vcMWP1FdWJ/dUGIWXxqX3xxi4l0g4GEl5yOHIBwmY2cg1aXkHSjZXmbV4uoba5kkqelbaapo6u0rbN/SZG7trKFv7e6savKTby4voaoVpNAysiXscV4w8fSn8fN1pq1kd2j1qDLK8yYy9/ff9mgwrnv2o7QwvGO1ND049UgAAIfkECQoAAAAsAAAAAIAADwAAAticP6CAt9zSilLRd2d8onvBfV0okp/pZdamNRi7ui3yyoo4Ljio42h+w6kgNiJt5kAaasdYE7D78YKlXpX6GWphxqTT210qK1Cf9XT2SKXbYvv5Bg+jaWD5ekdjU9y4+PsXRuZHRrdnZ5inVidAyCTXF+nGlVhpdjil2OE49hjICVh4qZlpibcDKug5KAlHOWqqR8rWCjl564oLFruIucaYGlz7+XoKe2wsIqxLzMxaxIuILIs6/JyLbZsdGF063Uu6vH2tXc79LZ1MLWS96t4JH/rryzhPWgAAIfkECQoAAAAsAAAAAIAADwAAAtWcP6CAt9zSilLRd2fEe4kPCk8IjqTonZnVsQ33arGLwLV8Kyeqnyb5C60gM2LO6MAlaUukwdbcBUspYFXYcla00KfSywRzv1vpldqzprHFoTv7bsOz5jUaUMer5vL+Mf7Hd5RH6HP2AdiUKLa41Tj1Acmjp0bJFuinKKiZyUhnaBd5OLnzSNbluOnZWQZqeVdIYhqWyop6ezoquTs6O0aLC5wrHErqGnvJibms3LzKLIYMe7xnO/yL7TskLVosqa1aCy3u3FrJbSwbHpy9fr1NfR4fUgAAIfkECQoAAAAsAAAAAIAADwAAAsqcP6CAt9zSilLRd2fEW7cnhKIAjmFpZla3fh7CuS38OrUR04p5Ljzp46kgMqLOaJslkbhbhfkc/lAjqmiIZUFzy2zRe5wGTdYQuKs9N5XrrZPbFu94ZYE6ms5/9cd7/T824vdGyIa3h9inJQfA+DNoCHeomIhWGUcXKFIH6RZZ6Bna6Zg5l8JnSamayto2WtoI+4jqSjvZelt7+URKpmlmKykM2vnqa1r1axdMzPz5LLooO326Owxd7Bzam4x8pZ1t3Szu3VMOdF4AACH5BAkKAAAALAAAAACAAA8AAAK/nD+ggLfc0opS0XdnxFs3/i3CSApPSWZWt4YtAsKe/DqzXRsxDqDj6VNBXENakSdMso66WzNX6fmAKCXRasQil9onM+oziYLc8tWcRW/PbGOYWupG5Tsv3TlXe9/jqj7ftpYWaPdXBzbVF2eId+jYCAn1KKlIApfCSKn5NckZ6bnJpxB2t1kKinoqJCrlRwg4GCs4W/jayUqamaqryruES2b72StsqgvsKlurDEvbvOx8mzgazNxJbD18PN1aUgAAIfkECQoAAAAsAAAAAIAADwAAArKcP6CAt9zSilLRd2fEWzf+ecgjlKaQWZ0asqPowAb4urE9yxXUAqeZ4tWEN2IOtwsqV8YkM/grLXvTYbV4PTZpWGYU9QxTxVZyd4wu975ZZ/qsjsPn2jYpatdx62b+2y8HWMTW5xZoSIcouKjYePeTh7TnqFcpabmFSfhHeemZ+RkJOrp5OHmKKapa+Hiyyokaypo6q1CaGDv6akoLu3DLmLuL28v7CdypW6vsK9vsE1UAACH5BAkKAAAALAAAAACAAA8AAAKjnD+ggLfc0opS0XdnxFs3/nkISI2icxokanVt+JoxC8G1fNOlm6tp1QNmZj6ikDcMrorBpBMJtT2lUdzUusNSt9qurvrlhr275VHMvI7XaXAbXTLLf3NjXUnP23/qN/n8d9cHyEZYpoe3p5jIOCjoFofoKAn5CGeZZaiJWcjp10mZuRkaSAq6OGmU2lhp+vk6iioay3rpSrs6mNsqa9tb+ntQAAA7AAAAAAAAAAAA\">")+
          "</p>";
        main.appendChild(loading);
      });
    }
}

function doneLoading() {
    var loading = document.getElementById('loading');
    if (loading) loading.parentNode.removeChild(loading);
    // TODO update header?
}

function setClass(element, classString) {
  element.setAttribute("class", classString);
  element.setAttribute("className", classString);
}

function printFooter() {
  // var footer = document.getElementById('footer');
  // We could put anything we want in the footer here, but perhaps we should avoid it.
  var statsButton = document.getElementById("statsButton");
  if (statsButton) {
    if (window.stats.scene.secondaryMode == "stats") {
      statsButton.innerHTML = "Return to the Game";
    } else {
      statsButton.innerHTML = "Show Stats";
      if (window.isAndroidApp && window.statsMode.get()) {
        showStats();
      }
    }
  }
  curl();
}

// retrieve value of HTML form
function getFormValue(name) {
    var field = document.forms[0][name];
    if (!field) return "";
    // may return either one field or an array of fields
    if (field.checked) return field.value;
    for (var i = 0; i < field.length; i++) {
        var element = field[i];
        if (element.checked) return element.value;
    }
    return null;
}

function printOptions(groups, options, callback) {
  var form = document.createElement("form");
  main.appendChild(form);
  var self = this;
  form.action="#";
  form.onsubmit = function() {
      safeCall(self, function() {
        var currentOptions = options;
        var option, group;
        for (var i = 0; i < groups.length; i++) {
            if (i > 0) {
                currentOptions = option.suboptions;
            }
            group = groups[i];
            if (!group) group = "choice";
            var value = getFormValue(group);
            if (value === null || value === undefined) {
              if (groups.length == 1) {
                asyncAlert("Please choose one of the available options first.");
              } else {
                var article = "a";
                if (/^[aeiou].*/i.test(group)) article = "an";
                asyncAlert("Please choose " + article + " " + group + " first.");
              }
              return;
            }
            option = currentOptions[value];
        }

        if (groups.length > 1 && option.unselectable) {
          asyncAlert("Sorry, that combination of choices is not allowed. Please select a different " + groups[groups.length-1] + ".");
          return;
        }
        safeCall(null, function() {callback(option);});
      });
      return false;
  };

  if (!options) throw new Error(this.lineMsg()+"undefined options");
  if (!options.length) throw new Error(this.lineMsg()+"no options");
  // global num will be used to assign accessKeys to the options
  var globalNum = 1;
  var currentOptions = options;
  var div = document.createElement("div");
  form.appendChild(div);
  setClass(div, "choice");
  for (var groupNum = 0; groupNum < groups.length; groupNum++) {
      var group = groups[groupNum];
      if (group) {
          var textBuilder = ["Select "];
          textBuilder.push(/^[aeiou]/i.test(group)?"an ":"a ");
          textBuilder.push(group);
          textBuilder.push(":");

          var p = document.createElement("p");
          p.appendChild(document.createTextNode(textBuilder.join("")));
          div.appendChild(p);
      }
      var checked = null;
      for (var optionNum = 0; optionNum < currentOptions.length; optionNum++) {
          var option = currentOptions[optionNum];
          if (!checked && !option.unselectable) checked = option;
          var isLast = (optionNum == currentOptions.length - 1);
          printOptionRadioButton(div, group, option, optionNum, globalNum++, isLast, checked == option);
      }
      // for rendering, the first options' suboptions should be as good as any other
      currentOptions = currentOptions[0].suboptions;
  }

  form.appendChild(document.createElement("br"));

  var useRealForm = false;
  if (useRealForm) {
    printButton("Next", form, false);
  } else {
    printButton("Next", main, false, function() {
      form.onsubmit();
    });
  }
}

function printOptionRadioButton(div, name, option, localChoiceNumber, globalChoiceNumber, isLast, checked) {
    var line = option.name;
    var unselectable = false;
    if (!name) unselectable = option.unselectable;
    var disabledString = unselectable ? " disabled" : "";
    var id = name + localChoiceNumber;
    if (!name) name = "choice";
    var radio;
    var div2 = document.createElement("div");
    var label = document.createElement("label");
    // IE doesn't allow you to dynamically specify the name of radio buttons
    if (!/^\w+$/.test(name)) throw new Error("invalid choice group name: " + name);
    label.innerHTML = "<input type='radio' name='"+name+
            "' value='"+localChoiceNumber+"' id='"+id+
            "' "+(checked?"checked":"")+disabledString+">";

    label.setAttribute("for", id);
    if (localChoiceNumber === 0) {
      if (isLast) {
        setClass(label, "onlyChild"+disabledString);
      } else {
        setClass(label, "firstChild"+disabledString);
      }
    } else if (isLast) {
      setClass(label, "lastChild"+disabledString);
    } else if (unselectable) {
      setClass(label, "disabled");
    }
    label.setAttribute("accesskey", globalChoiceNumber);
    if (!unselectable) {
      if (window.Touch) { // Make labels clickable on iPhone
          label.onclick = function labelClick(evt) {
              try {
                var target = evt.target;
                if (!/label/i.test(target.tagName)) return;
                var button = document.getElementById(target.getAttribute("for"));
                button.checked = true;
              } catch (e) {}
          };
      } else if (/MSIE 6/.test(navigator.userAgent)) {
        label.onclick = function labelClick() {
          try {
            var target = window.event.srcElement;
            if (!/label/i.test(target.tagName)) return;
            var button = document.getElementById(target.getAttribute("for"));
            button.checked = true;
          } catch (e) {}
        };
      }
    }
    printx(line, label);
    
    div2.appendChild(label);
    div.appendChild(div2);
}

function printImage(source, alignment) {
  var img = document.createElement("img");
  img.src = source;
  setClass(img, "align"+alignment);
  document.getElementById("text").appendChild(img);
}

function playSound(source) {
  for (var existingAudios = document.getElementsByTagName("audio"); existingAudios.length;) {
    existingAudios[0].parentNode.removeChild(existingAudios[0]);
  }
  var audio = document.createElement("audio");
  if (audio.play) {
    audio.setAttribute("src", source);
    document.body.appendChild(audio);
    audio.play();
  }
}

function moreGames() {
    if (window.isIosApp) {
      window.location.href = "itms-apps://itunes.com/apps/choiceofgames";
    } else if (window.isAndroidApp) {
      if (window.isNookAndroidApp) {
        asyncAlert("Please search the Nook App Store for \"Choice of Games\" for more games like this!");
        return;
      }
      if (window.isAmazonAndroidApp) {
        var androidLink = document.getElementById('androidLink');
        if (androidLink && androidLink.href) {
          androidUrl = androidLink.href;
          var package = /id=([\.\w]+)/.exec(androidUrl)[1];
          window.location.href = "http://www.amazon.com/gp/mas/dl/android?p="+package+"&showAll=1&t=choofgam-20&ref=moreGames";
        } else {
          window.location.href = "http://www.amazon.com/gp/mas/dl/android?p=com.choiceofgames.dragon&showAll=1&t=choofgam-20&ref=moreGames";
        }
      } else {
        window.location.href = "market://search?q=pub:%22Choice+of+Games+LLC";
      }
    } else if (window.isSteamApp) {
      window.location.href = "https://www.choiceofgames.com/steam-curation.php";
    } else {
      try {
        if (window.isChromeApp) {
          window.open("https://www.choiceofgames.com/category/our-games/");
        } else {
          window.location.href = "https://www.choiceofgames.com/category/our-games/";
        }
      } catch (e) {
        // in xulrunner, this will be blocked, but it will trigger opening the external browser
      }
    }
}

function printShareLinks(target, now) {
  if (!target) target = document.getElementById('text');
  var msgDiv = document.createElement("div");
  if (window.isIosApp) {
    if (now) {
      callIos("share");
      return;
    }
    var button = document.createElement("button");
    button.appendChild(document.createTextNode("Share This Game"));
    button.onclick = function() {
      callIos("share");
    };
    msgDiv.appendChild(button);
    msgDiv.appendChild(document.createElement("br")); // insert our own paragraph break, to match <ul>
    msgDiv.appendChild(document.createElement("br"));
    target.appendChild(msgDiv);
    return;
  }

  var mobileMesg = "";
  if (window.isAndroidApp) {
    var androidLink = document.getElementById('androidLink');
    var androidUrl;
    if (window.isNookAndroidApp) {
      if (window.nookEan && nookEan != "UNKNOWN") {
        mobileMesg = "  <li><a href='choiceofgamesnook://"+window.nookEan+"'>Rate this app</a> in the Nook App Store</li>\n";
      }
    } else if (androidLink) {
      androidUrl = androidLink.href;
      if (androidUrl) {
        if (window.isAmazonAndroidApp) {
          var package = /id=([\.\w]+)/.exec(androidUrl)[1];
          androidUrl = "http://www.amazon.com/gp/mas/dl/android?p="+package+"&t=choofgam-20&ref=rate";
          mobileMesg = "  <li><a href='"+androidUrl+"'>Rate this app</a> in the Amazon Appstore</li>\n";
        } else {
          mobileMesg = "  <li><a href='"+androidUrl+"'>Rate this app</a> in the Google Play Store</li>\n";
        }

      }
    }
  } else if (/webOS/.test(navigator.userAgent) && window.isFile) {
    var palmLink = document.getElementById('palmLink');
    var palmUrl;
    if (palmLink) {
      palmUrl = palmLink.href;
      if (palmUrl) {
        mobileMesg = "  <li><a href='"+palmUrl+"'>Rate this app</a> in the Palm App Catalog</li>\n";
      }
    }
  } else if (window.isChromeApp) {
    var chromeLink = document.getElementById('chromeLink');
    var chromeUrl;
    if (chromeLink) {
      chromeUrl = chromeLink.href;
      if (chromeUrl) {
        mobileMesg = "  <li><a href='"+chromeUrl+"/reviews'>Rate this app</a> in the Chrome Web Store</li>\n";
      }
    }
  }

  var url = window.location.href;
  var links = document.getElementsByTagName("link");
  for (var i = links.length - 1; i >= 0; i--) {
    if (links[i].getAttribute("rel") == "canonical") {
      url = links[i].getAttribute("href") || url;
      break;
    }
  }

  if (/^\//.test(url)) {
    if (window.isWeb) {
      url = window.location.protocol + "//" + window.location.hostname + url;
    } else {
      url = "https://www.choiceofgames.com" + url;
    }
  }

  url = encodeURIComponent(url);
  var title = encodeURIComponent(document.title);
  var dataUriSupported = !/MSIE [67]/.test(navigator.userAgent);

  var shareLinkText = '<li>'+(dataUriSupported?'<img height="16" width="16" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAACNFBMVEUAAAD///8ASZIASpIKTI0KSIcWSX5lgZ1YcIhYbYIAUpsHTpAhVIEAWaUAWaIAVp4AU5wAVJsAVJgAUpYAUpUBWaQWU4cAYqoAXqUAW6MAXKMAWqIAXKAFXZ8IWZZihZ8AbrgAbrcAaK0AZaoDbLIFZakGZqoKbrMAb7gAbrYBc7tsm7mizecge62izuiizeYBbqgId7INh8QQdqgXg7kVeK0fgLROm8Kh0uyducgRf7QXi8MvlcRTrNdZsdlvt9qDs8l/0O2v4/aY2u7j9/2/6fP4/f7s+/32/f71/f7t/P34/v76/v77/v76/f38/v7q7Oz9/v75/vvf8eX1/vjq/fDP+9zr/fDq/e+/9Mrq/e7E+Mxm3HN24YSC3YwTwSMUtSIXuycavikfxi4izDIhyTAhyTE8ykoauiclxjEowDUsxDYPthgsxTUDyQgg2iQ08jk43z3Q9tHP9dAA0gAA0QAA0AAAzwAAwQAAvAAAuwEAtAEAswAArAAB0AEBxQIBrAEC1AICtwMDvQUF1AUJ2QkL3wwL2gsKygwKwgsMxQwO3w4T6BMZ6xko7ChH3kdDyUN623qE64R8znx1wnX+/v79/f38/Pz7+/v6+vr5+fn4+Pj39/f29vby8vLx8fHq6urp6eno6Ojl5eXj4+Pg4ODf39/W1tbMzMzGxsbFxcXDw8PCwsKvr6+urq6srKypqamoqKiUlJSSkpKQkJCKioqIiIiHh4eGhoZ+fn5xcXFwcHBUP7YxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH1wgUDigoTpImZAAAARtJREFUGNMBEAHv/gABAQEBlZeanJ2dm5iVAQEBAAGYAZVyknGMho+RpJ+YlQEAAQGVc3CNi4WBdXSIqKGalQABlXOOh4R+dnV3d3pTrKKZAJVyb39fY2ZlZG54eVc5q6AAlpODWUtHR0pPVoJ7WC8HqACZkG2VPSclJjeVaH1VLAyvAJuJbFREQj4TLZVqfVouFLIAnIqAaV1bTDU2lWt8WDgStgCclGJhYFxRMzFJXmdSPxa3AJpQTU9PRkMVDUFITkUkCLMAmKM8NDowESMYIjI7HAW7sACVn0AqISkgKCEoFwoLCLWpAAGapSsdDxsaGQ4QBAi5rqYAAZWep64fHgIDBgm6ta2nngABAZeepqqxtLi4s7Cppp6XR0lhOIfKM38AAAAASUVORK5CYII=">':"")+
        ' <a href="http://www.stumbleupon.com/submit?url='+url+'&amp;title='+title+'" class="spacedLink">StumbleUpon</a></li>'+

        '<li>'+(dataUriSupported?'<img height="16" width="16" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAsklEQVQ4EWNgoBAwgvQnVq75f+vBG5KMUlMQYZjfHsLIBNJFqmZkPSzEWKsqL8zQXebJICLIDVZuEzUTrg3sAjgPBwNZM7oSolyAzWaYQUS5AKYYG43XBUeWpaPogfGRwwCvAW/efwUbAPMCjI9sKl4DArKXgNXCbIbxkQ2gOAwoNgDsBS5ONgYNJTFkl2FlG2nLwMVv3HsFZlPHBTLifAznrj6Bm47OQI42mBwoM1EFAAAnVCliRFKHdQAAAABJRU5ErkJggg==">':"")+
        ' <a href="http://www.facebook.com/sharer.php?u='+url+'&amp;t='+title+'"'+
        'onclick="if (window.isFile || window.isXul) return true; '+
        'window.open(&quot;http://www.facebook.com/sharer.php?u='+url+'&amp;t='+title+
        '&quot;,&quot;sharer&quot;,&quot;toolbar=0,status=0,width=626,height=436&quot;);return false;" class="spacedLink">Facebook</a></li>'+

        '<li>'+(dataUriSupported?'<img height="16" width="16" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/ElEQVQ4EYVTO24UQRB9/dmZkdfCIK0QBhMACQdwgDgMN4AEiYALcAFy7kNABkYkGzhAWMa2DHg9n+7iVfXMaAmAknp7tuvVq1dV3Q6j9SlJlzLEOXgIPPcmRjf5/7ZHdWQRaVPCOjucDYJlcHi8AFLOErz/J4kRQASXGfjYDmhIeDwAKx9xBzz8jxUCgjqSfE8CPWi5EpeTjOu+F36CVcGxrEBBMVDiaDOB5vqVBQu6WAU+dQmnwZuGwkACstxlRDckqWIhMQLPOtfXvfw0AmfA95thqwBNWGg04PktLbTYrEAlXxJTEciemtd+KdvZf7ESTjipEyaazAgyu/2lTTjP2ZpICZZQYSp7gg8kelh5PFj4Kd56ZvhE2IUSMOMVm/niZoPDOqJl0FSAYlYhoNoabSmBiI5pVNouv39w32G3l05wIwaqKRq00XErWGWYFvXz3uAbA4+51lyf+wy9h0JVRqAgfmehc8vmJt7n/CrKP6J81fzqfIPTVOOAo+S9soko+GkzhxgNocUkDfLmosPrsyvwtpTDP5KRWBz2Of4PB3vYr8o9mNuZncfLvRrPdmveJJVNDn0G8yKUMV/pO+p16MVmAn00yvnu9g7erpZ4xAbUrFtXMy42AE9YwmHNxo42lzAd6AtMQ48NgjVVOz+BVNQ9Zql4UI9P/TehBOJIi+EJIAAAAABJRU5ErkJggg==">':"")+
        ' <a href="https://twitter.com/intent/tweet?related=choiceofgames&amp;text=Awesome+game%3A+'+title+'&amp;url='+url+'&amp;via=choiceofgames" class="spacedLink">Twitter</a></li>';

  var nowMsg = "";
  if (now) nowMsg = "<p>Please support our work by sharing this game with friends!  The more people play, the more resources we'll have to work on the next game.</p>";
  msgDiv.innerHTML = nowMsg + "<ul id='sharelist'>\n"+
    mobileMesg+
    shareLinkText+
    "</ul><br>\n"; // just one line break; <ul> provides its own
  target.appendChild(msgDiv);
}

function isShareConfigured() {
  return !!document.getElementById("share");
}

function shareAction(e) {
  clearScreen(function() {
    var target = document.getElementById('text');
    printShareLinks(target, "now");
    printButton("Next", target, false, function () {
      clearScreen(loadAndRestoreGame);
    });
  });
}

function isFollowEnabled() {
  if (!window.isWeb) return false;
  if ("localhost" != window.location.hostname && !/\.?choiceofgames\.com$/.test(window.location.hostname)) return false;
  return true;
}

function printFollowButtons() {
  if (!isFollowEnabled()) return;
  // Just FB Like, for now
  var target = document.getElementById('text');
  var iframe = document.createElement('iframe');
  var width = 300;
  var height = 66;
  iframe.setAttribute("src", "//www.facebook.com/plugins/like.php?href=https%3A%2F%2Fwww.facebook.com%2Fchoiceofgames"+
    "&amp;send=false&amp;layout=standard&amp;width="+width+"&amp;show_faces=true&amp;font&amp;colorscheme=light&amp;"+
    "action=like&amp;height="+height+"&amp;appId=190439350983878");
  iframe.setAttribute("scrolling", "no");
  iframe.setAttribute("frameborder", "0");
  iframe.setAttribute("style", "border:none; overflow:hidden; width:"+width+"px; height:"+height+"px;");
  iframe.setAttribute("allowTransparency", "true");
  target.appendChild(iframe);
}

function subscribeLink(e) {
  clearScreen(function() {
    subscribe(document.getElementById('text'), "now", function() {
      clearScreen(loadAndRestoreGame);
    });
  });
}

function subscribeByMail(target, now, callback, code) {
  if (now) {
    code();
    safeTimeout(function() {callback(now);}, 0);
  } else {
    println("Click here to subscribe to our mailing list; we'll notify you when our next game is ready!");
    println("");
    printButton("Subscribe", target, false, function() {
        code();
      });
    printButton("Next", target, false, function() {
      safeTimeout(function() {callback(now);}, 0);
    });
    printFooter();
  }
}

function subscribe(target, now, callback) {
  if (!target) target = document.getElementById('text');
  if (window.isIosApp) {
    subscribeByMail(target, now, callback, function() {
      callIos("subscribe");
    });
    return;
  }
  var mailToSupported = isMobile && !window.isMacApp;
  if (window.isAndroidApp) mailToSupported = urlSupport.isSupported("mailto:support@choiceofgames.com");
  if (mailToSupported) {
    subscribeByMail(target, now, callback, function() {
      window.location.href = "mailto:subscribe-"+window.storeName+"-"+platformCode() + "@choiceofgames.com?subject=Sign me up&body=Please notify me when the next game is ready.";
    });
    return;
  }
  println("Type your email address below; we'll notify you when our next game is ready!");
  println("");
  fetchEmail(function(defaultEmail) {
    promptEmailAddress(target, defaultEmail, function(cancel, email) {
      if (cancel) {
        return safeCall(null, callback);
      }
      var head= document.getElementsByTagName('head')[0];
      var script = document.createElement('script');
      script.type = 'text/javascript';
      var timestamp = new Date().getTime();
      var timeout = setTimeout(function() {
        window["jsonp"+timestamp]({
          result:"error", msg:"Couldn't connect. Please try again later."
        });
      }, 10000);
      window["jsonp"+timestamp] = function(response) {
        clearTimeout(timeout);
        if (response.result == "error") {
          document.getElementById("errorMessage").innerHTML = response.msg;
        } else {
          clearScreen(function() {
            target = document.getElementById('text');
            println(response.msg, target);
            println("", target);
            printButton("Next", target, false, function() {
              safeCall(null, callback);
            });
          });
        }
      };
      var mailParams = "u=eba910fddc9629b2810db6182&id=e9cdee1aaa&SIGNUP="+window.storeName+"-"+platformCode()+"&EMAIL="+encodeURIComponent(email);
      if (window.isChromeApp) {
        chrome.permissions.contains({origins: ["http://choiceofgames.us4.list-manage.com/"]},function(isXhrAllowed) {
          if (isXhrAllowed) {
            var xhr = new XMLHttpRequest();
            xhr.open("GET", 'http://choiceofgames.us4.list-manage.com/subscribe/post-json?'+mailParams, true);
            xhr.onreadystatechange = function() {
              if (xhr.readyState != 4) return;
              if (xhr.status == 200) {
                var response = JSON.parse(xhr.responseText);
                window["jsonp"+timestamp](response);
              } else if (xhr.status === 0) {
                window["jsonp"+timestamp]({result:"error", msg:"There was a network error submitting your registration. Please try again later, or email subscribe@choiceofgames.com instead."});
              } else {
                window["jsonp"+timestamp]({result:"error", msg:"Sorry, our mail server had an error. It's our fault. Please try again later, or email subscribe@choiceofgames.com instead."});
              }
            };
            xhr.send();
          } else {
            window.addEventListener('message', function(event) {
              if (window["jsonp"+timestamp]) {
                var jsonpt = window["jsonp"+timestamp];
                window["jsonp"+timestamp] = null;
                if (jsonpt) jsonpt(event.data);
              }
            });
            var iframe = document.createElement("IFRAME");
            iframe.setAttribute("src", "sandbox.html");
            iframe.setAttribute("name", "sandbox");
            iframe.onload = function() {
              iframe.contentWindow.postMessage({email:email, game:window.storeName, platform:platformCode()}, "*");
            };
            document.documentElement.appendChild(iframe);
            return;
          }
        });
      } else {
        if (isWinStoreApp || window.location.protocol == "https:") {
          var xhr = findXhr();
          xhr.open("GET", 'https://www.choiceofgames.com/mailchimp_proxy.php/subscribe/post-json?'+mailParams, true);
          var done = false;
          xhr.onreadystatechange = function() {
            if (done) return;
            if (xhr.readyState != 4) return;
            done = true;
            if (xhr.status == 200) {
              var response = JSON.parse(xhr.responseText);
              window["jsonp"+timestamp](response);
            } else if (xhr.status === 0) {
                window["jsonp"+timestamp]({result:"error", msg:"There was a network error submitting your registration. Please try again later, or email subscribe@choiceofgames.com instead."});
            } else {
              window["jsonp"+timestamp]({result:"error", msg:"Sorry, our mail server had an error. It's our fault. Please try again later, or email subscribe@choiceofgames.com instead."});
            }
          };
          xhr.send();
        } else {
          script.src = 'http://choiceofgames.us4.list-manage.com/subscribe/post-json?'+mailParams+'&c=jsonp' + timestamp;
          head.appendChild(script);
        }
      }
    });
  });
}

function cacheKnownPurchases(knownPurchases) {
  if (!knownPurchases) return;
  var output = {billingSupported:true};
  for (i = 0; i < knownPurchases.length; i++) {
    var parts = knownPurchases[i].split(/\./);
    if (parts[0] != window.storeName) continue;
    output[parts[1]] = true;
  }
  window.knownPurchases = output;
}

function getKnownPurchases(callback) {
  isRegistered(function(registered){
    if (registered) {
      startLoading();
      xhrAuthRequest("GET", "get-purchases", function(ok, response) {
        doneLoading();
        if (ok) {
          cacheKnownPurchases(response);
        } else {
          if (response.error != "not registered") {
            alertify.error("There was an error downloading your purchases from Choiceofgames.com. "+
              "Please refresh this page to try again, or contact support@choiceofgames.com for assistance.", 15000);
          }
        }
        callback(ok, window.knownPurchases);
      });
    } else {
      callback("ok", {billingSupported: true});
    }
  });
}

// Callback expects a map from product ids to booleans
function checkPurchase(products, callback) {
  var i;
  if (window.isIosApp) {
    window.checkPurchaseCallback = function(purchases) {callback("ok",purchases); };
    callIos("checkpurchase", products);
  } else if (window.isAndroidApp && !window.isNookAndroidApp) {
    window.checkPurchaseCallback = function(purchases) {callback("ok",purchases); };
    androidBilling.checkPurchase(products);
  } else if (window.isWinOldApp) {
    safeTimeout(function() {
      var purchases = eval(window.external.CheckPurchase(products));
      callback("ok",purchases);
    }, 0);
  } else if (window.isMacApp && window.macPurchase) {
    safeTimeout(function() {
      var purchases = JSON.parse(macPurchase.checkPurchases_(products));
      callback("ok",purchases);
    }, 0);
  } else if (window.isCef) {
    cefQuery({
      request:"CheckPurchases " + products,
      onSuccess: function(response) {
        console.log("cp response " + response);
        callback("ok",JSON.parse(response));
      },
      onFailure: function(error_code, error_message) {
        console.error("CheckPurchases error: " + error_message);
        callback(!"ok");
      }
    });
  } else if (isWebPurchaseSupported()) {
    isRegistered(function (registered) {
      if (!registered) return callback("ok", {billingSupported: true});
      if (window.knownPurchases) {
        safeTimeout(function() { callback("ok", knownPurchases); }, 0);
      } else {
        getKnownPurchases(callback);
      }
    });
  } else {
    var productList = products.split(/ /);
    var purchases = {};
    for (i = 0; i < productList.length; i++) {
      purchases[productList[i]] = true;
    }
    purchases.billingSupported = false;
    safeTimeout(function() {callback("ok", purchases);}, 0);
  }
}

function isWebPurchaseSupported() {
  return window.isSecureWeb && isWebSavePossible() && window.stripeKey;
}

function isRestorePurchasesSupported() {
  return !!window.isIosApp || isWebPurchaseSupported();
}

function restorePurchases(callback) {
  if (window.isIosApp) {
    window.restoreCallback = callback;
    callIos("restorepurchases");
  } else if (isWebPurchaseSupported()) {
    isRegistered(function(registered) {
      var restoreCallback = function() {callback();};
      if (registered) {
        getKnownPurchases(restoreCallback);
      } else {
        clearScreen(function() {
          var target = document.getElementById('text');
          target.innerHTML="<p>Please sign in to Choiceofgames.com to restore purchases.</p>";
          loginForm(document.getElementById('text'), /*optional*/1, /*err*/null, restoreCallback);
        });
      }
    });
  } else {
    safeTimeout(callback, 0);
  }
}
// Callback expects a localized string, or "", or "free", or "guess"
function getPrice(product, callback) {
  if (window.isIosApp) {
    window.priceCallback = callback;
    callIos("price", product);
  } else if (window.isAndroidApp) {
    window.priceCallback = callback;
    androidBilling.getPrice(product);
  } else {
    safeTimeout(function () {
      callback.call(this, "guess");
    }, 0);
  }
}
// Callback expects no args, but should only be called on success
function purchase(product, callback) {
  var purchaseCallback = function() {
    window.purchaseCallback = null;
    safeCall(null, callback);
  };
  if (window.isIosApp) {
    window.purchaseCallback = purchaseCallback;
    callIos("purchase", product);
  } else if (window.isAndroidApp) {
    window.purchaseCallback = purchaseCallback;
    var androidStackTrace = androidBilling.purchase(product);
    if (androidStackTrace) throw new Error(androidStackTrace);
  } else if (window.isWinOldApp) {
    window.external.Purchase(product);
  } else if (window.isMacApp && window.macPurchase) {
    macPurchase.purchase_(product);
  } else if (window.isCef) {
    cefQuerySimple("Purchase " + product);
    // no callback; we'll refresh on purchase
  } else if (isWebPurchaseSupported()) {
    if (!window.StripeCheckout) return asyncAlert("Sorry, we weren't able to initiate payment. (Your "+
      "network connection may be down.) Please refresh the page and try again, or contact "+
      "support@choiceofgames.com for assistance.");
    startLoading();
    isRegistered(function(registered) {
      doneLoading();
      var fullProductName = window.storeName + "." + product;
      function stripe(email) {
        startLoading();
        xhrAuthRequest("GET", "product-data", function(ok, data) {
          doneLoading();
          if (!ok) return asyncAlert("Sorry, we weren't able to initiate payment. (Your "+
            "network connection may be down.) Please refresh the page and try again, or contact "+
            "support@choiceofgames.com for assistance.");
          data = data[fullProductName];
          StripeCheckout.open({
            key:         window.stripeKey,
            address:     false,
            amount:      data.amount,
            name:        data.display_name,
            email:       email,
            panelLabel:  'Buy',
            token:       function(response) {
              clearScreen(function() {
                startLoading();
                xhrAuthRequest("POST", "purchase", function(ok, response) {
                  doneLoading();
                  if (ok) {
                    cacheKnownPurchases(response);
                    return callback();
                  } else if (/^card error: /.test(response.error)) {
                    var cardError = response.error.substring("card error: ".length);
                    asyncAlert(cardError);
                    clearScreen(loadAndRestoreGame);
                  } else if ("purchase already in flight" == response.error) {
                    asyncAlert("Sorry, there was an error handling your purchase. Please wait five minutes and try again, or contact support@choiceofgames.com for assistance.");
                    clearScreen(loadAndRestoreGame);
                  } else {
                    asyncAlert("Sorry, there was an error processing your card. (Your "+
                      "network connection may be down.) Please refresh the page and try again, or contact "+
                      "support@choiceofgames.com for assistance.");
                    clearScreen(loadAndRestoreGame);
                  }
                }, "stripeToken", response.id, "product", fullProductName, "key", window.stripeKey);
              });
            }
          });
        }, "products", fullProductName);
      }
      if (registered) return fetchEmail(stripe);
      clearScreen(function() {
        var target = document.getElementById('text');
        target.innerHTML="<p>Please sign in to Choiceofgames.com to purchase.</p>";
        loginForm(document.getElementById('text'), /*optional*/1, /*err*/null, function(registered){
          if (registered) {
            checkPurchase(product, function(ok, response) {
              if (ok && response[product]) {
                callback();
              } else {
                clearScreen(loadAndRestoreGame);
                return fetchEmail(stripe);
              }
            });
          } else {
            clearScreen(loadAndRestoreGame);
          }
        });
      });
    });
  } else {
    safeTimeout(callback, 0);
  }
}

function registerNativeAchievement(name) {
  if (window.blockNativeAchievements) return;
  if (window.isIosApp) {
    callIos("achieve", name+"/");
  } else if (window.isMacApp && window.macAchievements) {
    macAchievements.achieve_(name);
  } else if (window.isWinOldApp) {
    window.external.Achieve(name);
  } else if (window.isCef) {
    cefQuerySimple("Achieve " + name);
  }
}

function achieve(name, title, description) {
  if (initStore()) window.store.set("achieved", toJson(nav.achieved));
  registerNativeAchievement(name);
  // iOS shows a prominent banner; no need to show our own
  if (window.isIosApp) return;
  var escapedTitle = title+"".replace(/&/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;');
  var escapedDescription = description+"".replace(/&/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;')
    .replace(/\[b\]/g, '<b>')
    .replace(/\[\/b\]/g, '</b>')
    .replace(/\[i\]/g, '<i>')
    .replace(/\[\/i\]/g, '</i>');
  var html = "<b>Achievement: "+escapedTitle+"</b><br>" + escapedDescription;
  alertify.log(html);
}

function checkAchievements(callback) {
  safeTimeout(function() {
    if (!initStore()) return callback();
    window.store.get("achieved", function(ok, value){
      function mergeNativeAchievements(achieved) {
        window.checkAchievementCallback = null;
        var nativeRegistered = {};
        for (var i = 0; i < achieved.length; i++) {
          nav.achieved[achieved[i]] = true;
          nativeRegistered[achieved[i]] = true;
        }
        for (var achievement in nav.achieved) {
          if (nav.achieved[achievement] && !nativeRegistered[achievement]) {
            registerNativeAchievement(achievement);
          }
        }
        callback();
      }
      var alreadyLoadingAchievements = false;
      if (ok && value) {
        var achievementRecord = jsonParse(value);
        for (var achieved in achievementRecord) {
          if (achievementRecord[achieved]) nav.achieved[achieved] = true;
        }
      }
      if (window.isIosApp) {
        alreadyLoadingAchievements = !!window.checkAchievementCallback;
        window.checkAchievementCallback = mergeNativeAchievements;
        if (!alreadyLoadingAchievements) callIos("checkachievements");
      } else if (window.isMacApp && window.macAchievements) {
        alreadyLoadingAchievements = !!window.checkAchievementCallback;
        window.checkAchievementCallback = mergeNativeAchievements;
        if (!alreadyLoadingAchievements) macAchievements.checkAchievements();
      } else if (window.isWinOldApp) {
        var checkWinAchievements = function () {
          var achieved = eval(window.external.GetAchieved());
          if (achieved) {
            mergeNativeAchievements(achieved);
          } else {
            safeTimeout(checkWinAchievements, 100);
          }
        };
        checkWinAchievements();
      } else if (window.isCef) {
        var checkCefAchievements = function() {
          cefQuery({
            request:"GetAchieved ",
            onSuccess: function(response) {
              //console.log("GetAchieved " + response);
              var achieved = eval(response);
              mergeNativeAchievements(achieved);
            },
            onFailure: function(error_code, error_message) {
              //console.error("GetAchieved error " + error_message);
              if (error_code == 1) {
                safeTimeout(checkCefAchievements, 100);
              } else {
                callback();
              }
            }
          });
        };
        checkCefAchievements();
      } else {
        callback();
      }
    });
  },0);
}

function isAdvertisingSupported() {
  return typeof window != "undefined" && (window.isIosApp || window.isAndroidApp);
}

function isFullScreenAdvertisingSupported() {
  return window.isIosApp || window.isAndroidApp;
}

function showFullScreenAdvertisement(callback) {
  if (window.isIosApp) {
    callIos("advertisement");
    safeTimeout(callback, 0);
  } else if (window.isAndroidApp && window.adBridge) {
    adBridge.displayFullScreenAdvertisement();
    safeTimeout(callback, 0);
  } else {
    safeTimeout(callback, 0);
  }
}

function showTicker(target, endTimeInSeconds, finishedCallback) {
  if (!target) target = document.getElementById('text');
  var div = document.createElement("span");
  div.setAttribute("id", "delayTicker");
  target.appendChild(div);
  var timerDisplay = document.createElement("span");
  div.appendChild(timerDisplay);
  var timer;

  var statsButton = document.getElementById("statsButton");
  if (statsButton) {
    var defaultStatsButtonDisplay = statsButton.style.display;
    statsButton.style.display = "none";
  }

  if (endTimeInSeconds > Math.floor(new Date().getTime() / 1000)) {
    if (window.isAndroidApp) {
      notificationBridge.scheduleNotification(endTimeInSeconds);
    } else if (window.isIosApp) {
      callIos("schedulenotification", endTimeInSeconds);
    }
  }

  function cleanUpTicker() {
    window.tickerRunning = false;
    if (window.isAndroidApp) {
      notificationBridge.cancelNotification();
    } else if (window.isIosApp) {
      callIos("cancelnotifications");
    }
    clearInterval(timer);
    if (statsButton) statsButton.style.display = defaultStatsButtonDisplay;
  }

  function formatSecondsRemaining(secondsRemaining, forceMinutes) {
    if (!forceMinutes && secondsRemaining < 60) {
      return ""+secondsRemaining+"s";
    } else {
      var minutesRemaining = Math.floor(secondsRemaining / 60);
      var remainderSeconds;
      if (minutesRemaining < 60) {
        remainderSeconds = secondsRemaining - minutesRemaining * 60;
        return ""+minutesRemaining+"m " + formatSecondsRemaining(remainderSeconds);
      } else {
        var hoursRemaining = Math.floor(secondsRemaining / 3600);
        remainderSeconds = secondsRemaining - hoursRemaining * 3600;
        return ""+hoursRemaining+"h " + formatSecondsRemaining(remainderSeconds, true);
      }
    }
  }

  function tick() {
    window.tickerRunning = true;
    var tickerElement = document.getElementById("delayTicker");
    var tickerStillVisible = tickerElement && tickerElement.parentNode && tickerElement.parentNode.parentNode;
    if (!tickerStillVisible) {
      cleanUpTicker();
      return;
    }
    var nowInSeconds = Math.floor(new Date().getTime() / 1000);
    var secondsRemaining = endTimeInSeconds - nowInSeconds;
    if (secondsRemaining >= 0) {
      timerDisplay.innerHTML = "" + formatSecondsRemaining(secondsRemaining) + " seconds remaining";
    } else {
      cleanUpTicker();
      tickerElement.innerHTML = "0s remaining";
      if (finishedCallback) safeCall(null, finishedCallback);
    }
  }

  timer = setInterval(tick, 1000);
  tick();
}

function printButton(name, parent, isSubmit, code) {
  var button;
  if (isSubmit) {
    button = document.createElement("input");
    button.type = "submit";
    button.value = name;
    button.name = name;
  } else {
    button = document.createElement("button");
    button.setAttribute("type", "button");
    printx(name, button);
  }
  setClass(button, "next");
  button.setAttribute("accesskey", "n");
  if (code) button.onclick = function(event) {
    if (window.isIosApp) {
      window.freezeCallback = function() {
        window.freezeCallback = null;
        code(event);
      };
      callIos("freeze");
    } else {
      safeCall(null, function() {code(event);});
    }
  };
  if (!isMobile) try { button.focus(); } catch (e) {}
  parent.appendChild(button);
  return button;
}

function printLink(target, href, anchorText, onclick) {
  if (!target) target = document.getElementById('text');
  var link = document.createElement("a");
  link.setAttribute("href", href);
  link.appendChild(document.createTextNode(anchorText));
  if (onclick) {
    if (link.addEventListener) {
      link.addEventListener("click", onclick, true);
    } else {
      link.onclick = onclick;
    }
  }
  target.appendChild(link);
  target.appendChild(document.createTextNode(" "));
}

function kindleButton(target, query, buttonName) {
  printButton(buttonName, main, false,
    function() {
      try {
        window.location.href="http://www.amazon.com/s?rh=n%3A133140011%2Ck%3A" + encodeURIComponent(query);
      } catch (e) {} // xulrunner will intercept this link and throw an exception, opening it in the external browser
    }
  );
}

function printInput(target, inputType, callback, minimum, maximum, step) {
    if (!target) target = document.getElementById('text');
    var form = document.createElement("form");
    target.appendChild(form);
    var self = this;
    form.action="#";


    if (inputType == "textarea") {
      var input = document.createElement("textarea");
      input.setAttribute("rows", 4);
    } else {
      var input = document.createElement("input");
      input.setAttribute("type", inputType);
      if (inputType == "number") {
        input.setAttribute("min", minimum);
        input.setAttribute("max", maximum);
        step = step || "any";
        input.setAttribute("step", step);
      }
    }

    input.name="text";
    input.setAttribute("style", "font-size: 25px; width: 90%;");
    form.appendChild(input);

    form.onsubmit = function(e) {
        preventDefault(e);
        if (!input.value) {
            // TODO optional value?
            // TODO configurable error message?
            asyncAlert("Don't just leave it blank!  Type something!");
            return;
        }
        if (window.isIosApp) {
          window.freezeCallback = function() {
            window.freezeCallback = null;
            safeCall(null, function() {callback(input.value);});
          };
          callIos("freeze");
        } else {
          safeCall(null, function() {callback(input.value);});
        }
        return false;
    };

    form.appendChild(document.createElement("br"));
    form.appendChild(document.createElement("br"));
    printButton("Next", form, true);

}

function promptEmailAddress(target, defaultEmail, callback) {
  if (!target) target = document.getElementById('text');
  var form = document.createElement("form");
  var self = this;
  form.action="#";

  var message = document.createElement("div");
  message.style.color = "red";
  message.style.fontWeight = "bold";
  message.setAttribute("id", "errorMessage");
  form.appendChild(message);

  var input = document.createElement("input");
  // This can fail on IE
  try { input.type="email"; } catch (e) {}
  input.name="email";
  input.value=defaultEmail;
  input.setAttribute("style", "font-size: 25px; width: 90%;");
  form.appendChild(input);
  target.appendChild(form);
  println("", form);
  println("", form);
  printButton("Next", form, true);

  printButton("No, Thanks", target, false, function() {
    callback(true);
  });

  form.onsubmit = function(e) {
    preventDefault(e);
    safeCall(this, function() {
      var email = trim(input.value);
      if (!/^\S+@\S+\.\S+$/.test(email)) {
        var messageText = document.createTextNode("Sorry, \""+email+"\" is not an email address.  Please type your email address again.");
        message.innerHTML = "";
        message.appendChild(messageText);
      } else {
        recordEmail(email, function() {
          callback(false, email);
        });
      }
    });
  };

  curl();
}

function loginForm(target, optional, errorMessage, callback) {
  if (!isRegisterAllowed() || !initStore()) return safeTimeout(function() {
    callback(!"ok");
  }, 0);
  var optional_start = 1;
  var optional_returning_subscribe = 2;
  var optional_returning_no_subscribe = 3;
  var optional_new_subscribe = 4;
  var optional_new_no_subscribe = 5;
  startLoading();
  fetchEmail(function(defaultEmail) {
    isRegistered(function(registered) {
      if (registered) {
        if (defaultEmail) {
          doneLoading();
          loginDiv(registered, defaultEmail);
          return safeTimeout(callback, 0);
        }
        // Cookie says I'm logged in, but we have no local record of the email address
        return getRemoteEmail(function(ok, response) {
          doneLoading();
          if (ok) {
            if (response.email) {
              loginDiv(registered, response.email);
              return recordEmail(response.email, callback);
            } else {
              // not really logged in after all
              logout();
              loginDiv();
              return loginForm(target, optional, errorMessage, callback);
            }
          } else {
            // missed an opportunity to record email locally. meh.
            return safeCall(null, callback);
          }
        });
      }
      doneLoading();
      var form = document.createElement("form");

    if (!errorMessage) errorMessage = "";

      var escapedEmail = defaultEmail.replace(/'/g, "&apos;");
      var passwordButton;
      if (optional == optional_start) {
        form.innerHTML = "<div id=message style='color:red; font-weight:bold'>"+errorMessage+
          "</div><div class='choice'>"+
          "<label for=yes class=firstChild><input type=radio name=choice value=yes id=yes checked> My email address is: "+
          "<input type=email name=email id=email value='"+escapedEmail+"' style='font-size: 25px; width: 11em'></label>"+
          ((isWeb && window.facebookAppId)?"<label for=facebook><input type=radio name=choice value=facebook id=facebook > Sign in with Facebook.</label>":"")+
          ((isWeb && window.googleAppId)?"<label for=google><input type=radio name=choice value=google id=google > Sign in with Google.</label>":"")+
          "<label for=no class=lastChild><input type=radio name=choice value=no id=no > No, thanks.</label>"+
          "<p><label class=noBorder for=subscribe><input type=checkbox name=subscribe id=subscribe checked> "+
          "Email me when new games are available.</label></p>";

        form.email.onclick = function() {
          setTimeout(function() {form.email.focus();}, 0);
        };
        setTimeout(function() {form.email.focus();}, 0);
      } else {
        form.innerHTML = "<div id=message style='color:red; font-weight:bold'>"+errorMessage+
          "</div><span><span>My email address is: </span><input type=email name=email id=email value='"+
          escapedEmail+"' style='font-size: 25px; width: 12em'></span><p><label class=noBorder id=subscribeLabel for=subscribe>"+
          "<input type=checkbox name=subscribe id=subscribe checked> "+
          "Email me when new games are available.</label></p><p>Do you have a Choiceofgames.com password?</p>"+
          "<div class='choice'>"+
          "<label for=new class=firstChild><input type=radio name=choice value=new id=new checked> No, I'm new.</label>"+
          "<label for=passwordButton><input type=radio name=choice value=passwordButton id=passwordButton> "+
          "Yes, I have a password: <input id=password type=password name=password disabled class=needsclick style='font-size: 25px; width: 11em'></label>"+
          "<label for=forgot><input type=radio name=choice value=forgot id=forgot> I forgot my password.</label>"+
          ((isWeb && window.facebookAppId)?"<label for=facebook><input type=radio name=choice value=facebook id=facebook> Sign in with Facebook.</label>":"")+
          ((isWeb && window.googleAppId)?"<label for=google><input type=radio name=choice value=google id=google> Sign in with Google.</label>":"")+
          (optional ? "<label for=no><input type=radio name=choice value=no id=no> Cancel.</label>" : "") +
          "</div><br>";

        var labels = form.getElementsByTagName("label");
        setClass(labels[labels.length-1], "lastChild");

        var password = form.password;
        passwordButton = form.passwordButton;

        passwordButton.parentNode.onclick = function() {
          passwordButton.checked = true;
          passwordButton.onchange();
        };

        var radioButtons = form.choice;
        var onchange = function() {
          var enabled = passwordButton.checked;
          password.disabled = !enabled;
          if (enabled) {
            password.focus();
            setTimeout(function() {password.parentNode.scrollIntoView();}, 0);
          }
        };
        for (var i = radioButtons.length - 1; i >= 0; i--) {
          radioButtons[i].onchange = onchange;
        }
        if (optional) {
          form.subscribe.checked = (optional == optional_returning_subscribe || optional == optional_new_subscribe);
          passwordButton.checked = (optional == optional_returning_subscribe || optional == optional_returning_no_subscribe);
        }
      }

      function showMessage(msg) {
        var message = document.getElementById('message');
        var messageText = document.createTextNode(msg);
        message.innerHTML = "";
        message.appendChild(messageText);
      }

      form.onsubmit = function(event) {
        preventDefault(event);
        var email = trim(form.email.value);
        var subscribe = form.subscribe.checked;
        var choice = getFormValue("choice");
        if ("facebook" == choice) {
          if (!window.FB) return asyncAlert("Sorry, we weren't able to sign you in with Facebook. (Your network connection may be down.) Please try again later, or contact support@choiceofgames.com for assistance.");
          var loginParams = {scope:'email',return_scopes:true};
          if (window.facebookReRequest) loginParams.auth_type = "rerequest";
          return FB.login(function(response){
            if ("connected" == response.status) {
              var grantedScopes = [];
              try { grantedScopes = response.authResponse.grantedScopes.split(","); } catch (e) {}
              var grantedEmail = false;
              for (var i = 0; i < grantedScopes.length; i++) {
                if ("email" == grantedScopes[i]) {
                  grantedEmail = true;
                  break;
                }
              }
              if (grantedEmail) {
                xhrAuthRequest("POST", "facebook-login", function(ok, response){
                  if (ok) {
                    loginDiv(ok, response.email);
                    recordLogin(ok, response.email);
                    cacheKnownPurchases(response.purchases);
                    safeCall(null, function() {callback("ok");});
                  } else {
                    asyncAlert("Sorry, we weren't able to sign you in with Facebook. (Your network connection may be down.) Please try again later, or contact support@choiceofgames.com for assistance.");
                  }
                }, "app_id", facebookAppId);
              } else {
                showMessage("Sorry, we require an email address to sign you in. Please grant access to your email address, or type your email address below.");
                window.facebookReRequest = true;
              }
            }
          },loginParams);
        }
        if ("google" == choice) {
          if (!window.gapi) return asyncAlert("Sorry, we weren't able to sign you in with Google. (Your network connection may be down.) Please try again later, or contact support@choiceofgames.com for assistance.");
          googleLoginCallbackCallback = function(ok) {
            if (ok) {
              return safeCall(null, function() {callback("ok")});
            } else {
              asyncAlert("Sorry, we weren't able to sign you in with Google. Please try again later, or contact support@choiceofgames.com for assistance.");
            }
          }
          return gapi.auth.signIn();
        }
        if (!/^\S+@\S+\.\S+$/.test(email) && "no" != choice) {
          showMessage('Sorry, "'+email+'" is not an email address.  Please type your email address again.');
        } else {
          recordEmail(email, function() {
            if ("yes" == choice) {
              clearScreen(function() {
                if (defaultEmail) {
                  optional = subscribe ? optional_returning_subscribe : optional_returning_no_subscribe;
                } else {
                  optional = subscribe ? optional_new_subscribe : optional_new_no_subscribe;
                }
                loginForm(document.getElementById("text"), optional, null, callback);
              });
            } else if ("no" == choice) {
              safeCall(null, function() {callback(false);});
            } else if ("new" == choice) {
              target.innerHTML = "";
              window.scrollTo(0,0);
              form = document.createElement("form");
              var escapedEmail = email.replace(/'/g, "&apos;");
              form.innerHTML = "<div id=message style='color:red; font-weight:bold'></div>"+
                "<div>My email address is: </div><div><input type=email name=email id=email value='"+
                escapedEmail+"' style='font-size: 25px; width: 12em'></div>"+
                "<div>Type it again: </div><div><input type=email name=email2 id=email2 autocomplete='off' style='font-size: 25px; width: 12em'></div>"+
                "<div>Enter a new password:&nbsp;</div><div>"+
                "<input type=password name=password id=password style='font-size: 25px; width: 12em'></div>";
              form.onsubmit = function(event) {
                preventDefault(event);
                var email = trim(form.email.value);
                var email2 = trim(form.email2.value);
                if (!/^\S+@\S+\.\S+$/.test(email)) {
                  showMessage('Sorry, "'+email+'" is not an email address.  Please type your email address again.');
                  return;
                } else if (email != email2) {
                  showMessage('Those email addresses don\'t match.  Please type your email address again.');
                  return;
                }
                startLoading();
                form.style.display = "none";
                window.scrollTo(0,0);
                login(email, form.password.value, /*register*/true, subscribe, function(ok, response) {
                  doneLoading();
                  if (ok) {
                    target.innerHTML = "";
                    loginDiv(ok, email);
                    recordLogin(ok, email);
                    cacheKnownPurchases(response.purchases);
                    safeCall(null, function() {callback("ok");});
                  } else if ("incorrect password" == response.error) {
                    target.innerHTML = "";
                    loginForm(target, optional, 'Sorry, the email address "'+email+'" is already in use. Please type your password below, or use a different email address.', callback);
                  } else {
                    form.style.display = "";
                    showMessage("Sorry, we weren't able to sign you in. (Your network connection may be down.) Please try again later, or contact support@choiceofgames.com for assistance.");
                  }
                });
              };
              target.appendChild(form);
              println("", form);
              printButton("Next", form, true);
              if (optional) {
                printButton("Cancel", form, false, function() {
                  safeCall(null, function() {callback(false);});
                });
              }
            } else if ("passwordButton" == choice) {
              startLoading();
              form.style.display = "none";
              window.scrollTo(0,0);
              login(email, form.password.value, /*register*/false, form.subscribe.checked, function(ok, response) {
                doneLoading();
                form.style.display = "";
                if (ok) {
                  target.innerHTML = "";
                  loginDiv(ok, email);
                  recordLogin(ok, email);
                  cacheKnownPurchases(response.purchases);
                  safeCall(null, function() {callback("ok");});
                } else if ("unknown email" == response.error) {
                  showMessage('Sorry, we can\'t find a record for the email address "'+email+'". Please try a different email address, or create a new account.');
                } else if ("incorrect password" == response.error) {
                  showMessage('Sorry, that password is incorrect. Please try again, or select "I forgot my password" to reset your password.');
                } else {
                  showMessage("Sorry, we weren't able to sign you in. (Your network connection may be down.) Please try again later, or contact support@choiceofgames.com for assistance.");
                }
              });
            } else if ("forgot" == choice) {
              startLoading();
              form.style.display = "none";
              window.scrollTo(0,0);
              forgotPassword(email, function(ok, response) {
                doneLoading();
                form.style.display = "";
                if (ok) {
                  showMessage("We've emailed you a link to reset your password. Please check your email and click on the link, then return here to sign in.");
                  document.getElementById('passwordButton').checked = true;
                  document.getElementById('passwordButton').onchange();
                } else if ("unknown email" == response.error) {
                  showMessage('Sorry, we can\'t find a record for the email address "'+email+'". Please try a different email address, or create a new account.');
                } else {
                  showMessage("Sorry, we weren't able to sign you in. (Your network connection may be down.) Please try again later, or contact support@choiceofgames.com for assistance.");
                }
              });
            }
          });
        }
      };

      target.appendChild(form);
      if (passwordButton && passwordButton.checked) passwordButton.onchange();
      if (optional && optional > 1) document.getElementById("subscribeLabel").style.display = "none";
      printButton("Next", form, true);
      printFooter();
    });
  });
}

function loginDiv(registered, email) {
  var domain = "https://www.choiceofgames.com/";
  var identity = document.getElementById("identity");
  if (!identity) return;
  if (registered) {
    var emailLink = document.getElementById("email");
    emailLink.setAttribute("href", domain + "profile" + "/");
    emailLink.innerHTML = "";
    emailLink.appendChild(document.createTextNode(email));
    identity.style.display = "block";
    var logoutLink = document.getElementById("logout");
    logoutLink.onclick = function(event) {
      preventDefault(event);
      logout();
      loginDiv();
    };
  } else {
    identity.style.display = "none";
  }
}

function isRegistered(callback) {
  if (window.isWeb) {
    return safeTimeout(function() {
      if (!window.registered) window.registered = !!getCookieByName("login");
      callback(window.registered);
    }, 0);
  } else if (initStore()) {
    return window.store.get("login", function(ok, value) {
      safeTimeout(function() {
        window.registered = ok && value && "false" != value;
        callback(window.registered);
      }, 0);
    });
  } else {
    safeCall(null, function() {
      window.registered = false;
      callback(false);
    });
  }
}

function isRegisterAllowed() {
  return window.isWeb || window.isIosApp;
}

function preventDefault(event) {
  if (!event) event = window.event;
  if (!event) return;
  if (event.preventDefault) {
    event.preventDefault();
  } else {
    event.returnValue = false;
  }
}

function getPassword(target, code) {
  if (!target) target = document.getElementById('text');
  var textArea = document.createElement("textarea");
  textArea.cols = 41;
  textArea.rows = 30;
  setClass(textArea, "savePassword");
  target.appendChild(textArea);
  println("", target);
  printButton("Next", target, false, function() {
    code(false, textArea.value);
  });

  printButton("Cancel", target, false, function() {
    code(true);
  });
}

function facebookStatusChangeCallback(response) {
  if (response.status == "connected") {
    isRegistered(function(registered) {
      if (!registered) xhrAuthRequest("POST", "facebook-login", function(ok, response){
        loginDiv(ok, response.email);
        cacheKnownPurchases(response.purchases);
        recordLogin(ok, response.email);
        if (ok) clearScreen(loadAndRestoreGame);
      }, "app_id", facebookAppId);
    });
  }
}

function showPassword(target, password) {
  if (!target) target = document.getElementById('text');

  var textBuffer = [];
  var colWidth = 40;
  for (var i = 0; i < password.length; i++) {
    textBuffer.push(password.charAt(i));
    if ((i + 1) % colWidth === 0) {
      textBuffer.push('\n');
    }
  }
  password = "----- BEGIN PASSWORD -----\n" + textBuffer.join('') + "\n----- END PASSWORD -----";

  var shouldButton = isMobile;
  if (shouldButton) {
    var button = printButton("Email My Password to Me", target, false,
      function() {
        safeCall(self, function() {
            if (isWeb) {
              // TODO more reliable system
            }
            window.location.href = "mailto:?subject=Save%20this%20password&body=" + encodeURIComponent(password);
        });
      }
    );
    setClass(button, "");
  }

  var shouldTextArea = !isMobile;
  if (shouldTextArea) {
    var textArea = document.createElement("textarea");
    textArea.cols = colWidth + 1;
    textArea.rows = 30;
    setClass(textArea, "savePassword");

    textArea.setAttribute("readonly", true);
    textArea.onclick = function() {textArea.select();};
    textArea.value = (password);
    target.appendChild(textArea);
  }
}

function changeTitle(title) {
  document.title = title;
  var h1 = document.getElementsByTagName("h1");
  if (h1) h1 = h1[0];
  h1.innerHTML = "";
  h1.appendChild(document.createTextNode(title));
  if (window.isWinOldApp) {
    window.external.SetTitle(title);
  }
}

function changeAuthor(author) {
  var authorTag = document.getElementById("author");
  authorTag.innerHTML = "";
  authorTag.appendChild(document.createTextNode("by " + author));
}


function reportBug() {
  var prompt = "Please explain the problem. Be sure to describe what you expect, as well as what actually happened.";
  alertify.prompt(prompt, function(ok, body) {
    var statMsg = "(unknown)";
    try {
        statMsg = toJson(window.stats, '\n');
    } catch (ex) {}
    body += "\n\nGame: " + window.storeName;
    if (window.stats && window.stats.scene) {
      body += "\nScene: " + window.stats.scene.name;
      body += "\nLine: " + (window.stats.scene.lineNum+1);
    }
    body += "\nUser Agent: " + navigator.userAgent;
    body += "\nLoad time: " + window.loadTime;
    if (window.Persist) body += "\nPersist: " + window.Persist.type;
    body += "\nversion=" + window.version;
    body += "\n\n" + statMsg;
    if (window.nav && window.nav.bugLog) body += "\n\n" + window.nav.bugLog.join("\n");
    console.log(body);
    if (ok) alertify.prompt("Please type your email address.", function(ok, email) {
      if (ok) xhrAuthRequest("POST", "support-mail", function(ok, response) {
        if (ok) {
          alertify.log("Thank you for reporting a bug!");
        } else {
          alertify.alert("Bug reporting failed. Please email your bug report to support@choiceofgames.com (and be sure to mention that the bug reporter failed!)");
        }
      }, "email", encodeURIComponent(email),
        "subject", encodeURIComponent("bug report " + window.storeName),
        "text", encodeURIComponent(body));
    });
  });
}

window.isWebOS = /webOS/.test(navigator.userAgent);
window.isMobile = isWebOS || /Mobile/.test(navigator.userAgent);
window.isFile = /^file:/.test(window.location.href);
window.isXul = /^chrome:/.test(window.location.href);
window.isWinOldApp = false;
try {
  isWinOldApp = window.external.IsWinOldApp();
} catch (ignored) {}
window.isWeb = !isWinOldApp && /^https?:/.test(window.location.href);
window.isAndroid = /Android/.test(navigator.userAgent);
window.isSecureWeb = /^https:?$/.test(window.location.protocol);
window.isSafari = /Safari/.test(navigator.userAgent);
window.isIE = /(MSIE|Trident)/.test(navigator.userAgent);
window.isIPad = /iPad/.test(navigator.userAgent);
window.isKindleFire = /Kindle Fire/.test(navigator.userAgent);
window.isWinStoreApp = "ms-appx:" == window.location.protocol;
window.isCef = !!window.cefQuery;

window.loadTime = new Date().getTime();
window.registered = false;

function getSupportEmail() {
  if (window.storeName) {
    return "support-" + storeName + "-" + platformCode() + "@choiceofgames.com";
  }
  try {
    return document.getElementById("supportEmail").getAttribute("href").substring(7);
  } catch (e) {
    return "support-external@choiceofgames.com";
  }
}

function absolutizeAboutLink() {
  var aboutAnchor = document.getElementById("aboutLink");
  if (aboutLink) {
    var aboutHref = aboutLink.getAttribute("href");
    if (/^https?:/.test(aboutHref)) return;

    var linkTags = document.getElementsByTagName("link");
    var canonical;
    for (var i = 0; i < linkTags.length; i++) {
      if (linkTags[i].getAttribute("rel") == "canonical") {
        canonical = linkTags[i].getAttribute("href");
        break;
      }
    }

    if (!canonical) return;

    var absoluteCanonical;
    if (/^https?:/.test(canonical)) {
      absoluteCanonical = canonical;
    } else if (/^\//.test(canonical)) {
      absoluteCanonical = "https://www.choiceofgames.com" + canonical;
    } else {
      absoluteCanonical = "https://www.choiceofgames.com/" + canonical;
    }
    if (!/\/$/.test(canonical)) {
      absoluteCanonical += "/";
    }

    aboutLink.setAttribute("href", absoluteCanonical + aboutHref);
  }
}

function aboutClick() {
    window.location.href = document.getElementById("aboutLink").href;
}

window.onerror=function(msg, file, line, stack) {
    if (window.console) {
      window.console.error(msg);
      if (file) window.console.error("file: " + file);
      if (line) window.console.error("line: " + line);
    }
    if (window.Event && msg instanceof window.Event && /WebKit/.test(navigator.userAgent)) {
      return; // ignore "adsense offline" error
    } else if (/(Error loading script|Script error)/.test(msg) && /(show_ads|google-analytics|version\.js)/.test(file)) {
      return; // ignore "adsense offline" error
    }
    alert(msg);
    if (!window.storeName) return;
    var ok = confirm("Sorry, an error occured.  Click OK to email error data to support.");
    if (ok) {
        var statMsg = "(unknown)";
        try {
            statMsg = toJson(window.stats, '\n');
        } catch (ex) {}
        var body = "What were you doing when the error occured?\n\nError: " + msg;
        if (window.stats && window.stats.scene && window.stats.scene.name) body += "\nScene: " + window.stats.scene.name;
        if (file) body += "\nFile: " + file;
        if (line) body += "\nLine: " + line;
        if (stack) body += "\nStack: " + stack;
        body += "\nUser Agent: " + navigator.userAgent;
        body += "\nLoad time: " + window.loadTime;
        if (window.Persist) body += "\nPersist: " + window.Persist.type;
        body += "\n\n" + statMsg + "\n\nversion=" + window.version;
        var supportEmailHref = "mailto:support-external@choiceofgames.com";
        try {
          supportEmailHref="mailto:"+getSupportEmail();
          supportEmailHref=supportEmailHref.replace(/\+/g,"%2B");
        } catch (e) {}
        window.location.href=(supportEmailHref + "?subject=Error Report&body=" + encodeURIComponent(body));
    }
};

window.onload=function() {
    if (window.alreadyLoaded) return;
    window.alreadyLoaded = true;
    window.main = document.getElementById("main");
    var head = document.getElementsByTagName("head")[0];
    window.nav.setStartingStatsClone(window.stats);
    if (window.achievements && window.achievements.length) {
      nav.loadAchievements(window.achievements);
      checkAchievements(function() {});
      setButtonTitles();
    }
    stats.sceneName = window.nav.getStartupScene();
    var map = parseQueryString(window.location.search);
    if (!map) {
      if (window.androidQueryString) {
        map = parseQueryString(window.androidQueryString);
      } else if (window.forcedScreenshots) {
        map = {forcedScene:"screenshots"};
      }
    }

    if (map) {
      window.forcedScene = map.forcedScene;
      window.slot = map.slot;
      window.debug = map.debug;
      if (map.restart) {
        restartGame();
      } else if (map.achievements) {
        doneLoading();
        showAchievements("hideNextButton");
      } else {
        safeCall(null, function() {loadAndRestoreGame(window.slot, window.forcedScene);});
      }
    } else {
      safeCall(null, loadAndRestoreGame);
    }
    if (window.Touch && window.isWeb) {
      // INSERT ADMOB AD
    }
    isRegistered(function(registered){
      if (registered) {
        fetchEmail(function(email) {
          loginDiv(registered, email);
        });
      } else {
        loginDiv();
      }
    });
    if (window.isWinStoreApp || window.isWinOldApp) {
        var subscribeAnchor = document.getElementById("subscribeLink");
        if (subscribeAnchor) {
            subscribeAnchor.onclick = function() {
              safeCall(null, subscribeLink);
              return false;
            };
        }
    }
    if (window.isCef) {
      var buttons = document.getElementById("buttons");
      buttons.appendChild(document.createTextNode(" "));
      var menuButton = document.createElement("button");
      menuButton.id = "menuButton";
      setClass(menuButton, "spacedLink");
      menuButton.onclick = showMenu;
      menuButton.innerHTML = "Menu";
      buttons.appendChild(menuButton);
    }
    if (window.isWinOldApp) {
        absolutizeAboutLink();
        var h1s = document.getElementsByTagName("h1");
        if (h1s.length) window.external.SetTitle(document.getElementsByTagName("h1")[0].innerText);
    }
    if (isFollowEnabled()) {
      var shareElement = document.getElementById("share");
      if (shareElement) shareElement.innerHTML = '<iframe src="//www.facebook.com/plugins/like.php?href=https%3A%2F%2Fwww.facebook.com%2Fchoiceofgames&amp;send=false'+
      '&amp;layout=button_count&amp;width=90&amp;show_faces=true&amp;font&amp;colorscheme=light&amp;action=like&amp;height=20&amp;appId=190439350983878"'+
      ' scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:90px; height:20px;" allowTransparency="true"></iframe>'+
      '<iframe allowtransparency="true" frameborder="0" scrolling="no" '+
      'src="//platform.twitter.com/widgets/follow_button.html?screen_name=choiceofgames&amp;show_screen_name=false"'+
      ' style="width:150px; height:20px;"></iframe>';
    }
    var supportEmailLink = document.getElementById("supportEmail");
    if (window.storeName && supportEmailLink) {
      supportEmailLink.href = "mailto:" + getSupportEmail();
    }

    submitAnyDirtySaves();
};

_global = this;

if ( document.addEventListener ) {
  document.addEventListener( "DOMContentLoaded", window.onload, false );
}

try {
  var style = document.createElement('style');
  style.type = 'text/css';
  try {style.innerHTML = 'noscript {display: none;}'; } catch (e) {}
  document.getElementsByTagName('head')[0].appendChild(style);
} catch (e) {}

if (window.isWeb) {
  document.write("<style>.webOnly { display: block !important; }</style>\n"+
    "<scr"+"ipt src='https://checkout.stripe.com/v2/checkout.js'></scr"+"ipt>");

  var metas = document.getElementsByTagName("meta");
  var facebookAppId, googleAppId;
  var googleLoginCallbackCallback;
  for (var i = 0; i < metas.length; i++) {
    var meta = metas[i];
    if ("fb:app_id" == meta.getAttribute("property")) {
      facebookAppId = meta.getAttribute("content");
      break;
    } else if ("google-signin-clientid" == meta.getAttribute("name")) {
      googleAppId = meta.getAttribute("content");
    }
  }

  if (facebookAppId) {
    window.fbAsyncInit = function() {
      FB.init({
        appId      : facebookAppId,
        cookie     : true,  // enable cookies to allow the server to access 
                            // the session
        xfbml      : true,  // parse social plugins on this page
        version    : 'v2.0' // use version 2.0
      });

      FB.getLoginStatus(function(response) {
        facebookStatusChangeCallback(response);
      });
    };

    (function(d, s, id){
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src ="//connect.facebook.net/en_US/sdk.js";
        fjs.parentNode.insertBefore(js, fjs);
    }(document,'script','facebook-jssdk'));
  }

  if (googleAppId) (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/client:plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
  
}
if (!isWeb && window.isIosApp) {
  document.write("<style>"+
  "#header { display: none; }"+
  ""+
  "#emailUs { display: none; }"+
  ""+
  "#main { padding-top: 1em; }"+
  "</style>"+
  // Use UIWebView width, not screen width, on iPad
  "<meta name = 'viewport' content = 'width = "+window.innerWidth+"'>"
  );
  window.addEventListener("resize", function() {
      document.querySelector("meta[name=viewport]").setAttribute("content", "width="+window.innerWidth);
      // this dummy element seems to be required to get the viewport to stick
      var dummy = document.createElement("p");
      dummy.innerHTML = "&nbsp;";
      document.body.appendChild(dummy);
      window.setTimeout(function() {document.body.removeChild(dummy);}, 10);
    }, false);
} else if (window.isAndroidApp) {
  document.write("<style>"+
  "#header { display: none; }"+
  ""+
  "#emailUs { display: none; }"+
  ""+
  "#main { padding-top: 1em; }"+
  "</style>");
}
if (window.isWebOS) document.write("<style>body {font-family: Prelude; font-size: 14pt}\n#header {font-size: 13pt}</style>");
if (window.isMacApp || window.isWinOldApp || window.isCef || window.isAndroidApp) {
  document.write("<style>"+
    "#headerLinks { display: none; }"+
    ""+
    "#emailUs { display: none; }"+
    ""+
    "</style>");
}
if (isWeb && !window.Touch) {
  document.write("<style>label:hover {background-color: #E4DED8;}</style>");
}
if (window.isChromeApp) {
  var base = document.createElement('base');
  base.setAttribute("target", "_blank");
  document.head.appendChild(base);

  document.addEventListener( "DOMContentLoaded", function() {
    var aboutLink = document.getElementById("aboutLink");
    aboutLink.addEventListener("click", function() {
      if (chrome.app.window) {
        event.preventDefault();
        chrome.app.window.create("credits.html", {}, function(w) {
          w.contentWindow.addEventListener( "DOMContentLoaded", function() {
            var win = this;
            var back = win.document.getElementById("back");
            back.addEventListener("click", function(event) {
              event.preventDefault();
              win.close();
            }, false);
            var base = win.document.createElement('base');
            base.setAttribute("target", "_blank");
            win.document.head.appendChild(base);
            win.document.documentElement.style.overflowY = "scroll";
          }, false);
        });
      }
    }, false);

    var statsButton = document.getElementById("statsButton");
    if (statsButton) {
      statsButton.onclick = undefined;
      statsButton.addEventListener("click", function() {
        showStats();
      }, false);
    }

    var achievementsButton = document.getElementById("achievementsButton");
    if (achievementsButton) {
      achievementsButton.onclick = undefined;
      achievementsButton.addEventListener("click", function() {
        showAchievements();
      }, false);
    }

    var restartButton = document.getElementById("restartButton");
    restartButton.onclick = undefined;
    restartButton.addEventListener("click", function() {
      restartGame("prompt");
    }, false);

    var subscribeAnchor = document.getElementById("subscribeLink");
    subscribeAnchor.onclick = undefined;
    subscribeAnchor.addEventListener("click", function() {
      subscribeLink();
    }, false);

    var supportAnchor = document.getElementById("supportEmail");
    supportAnchor.addEventListener("click", function(event) {
      event.preventDefault();
    }, false);

  }, false );
}
if (window.isCef) {
  var pollPurchases = function() {
    cefQuery({
      request:"PollPurchases",
      onSuccess:function(response){
        //console.log("PollPurchases: '"+response+"'");
        if (response) {
          clearScreen(loadAndRestoreGame);
        }
        safeTimeout(pollPurchases, 100);
      },
      onFailure:function(error_code, error_message) {
        console.error("PollPurchases error: " + error_message);
      }
    });
  };
  pollPurchases();
}

function winStoreShareLinkHandler(e) {
    var request = e.request;
    var canonical = document.querySelector("link[rel=canonical]");
    var canonicalHref = canonical && canonical.getAttribute("href");
    if (!/^https?:/.test(canonicalHref)) {
        canonicalHref = "https://www.choiceofgames.com" + canonicalHref;
    }
    if (!/\/$/.test(canonicalHref)) {
        canonicalHref += "/";
    }
    canonicalHref += "redirect.php?src=winshare";
    request.data.properties.title = document.title;
    request.data.properties.description = document.querySelector("meta[name=description]").getAttribute("content");
    request.data.setUri(new Windows.Foundation.Uri(canonicalHref));
}

if (window.isWinStoreApp) {
    var dataTransferManager = Windows.ApplicationModel.DataTransfer.DataTransferManager.getForCurrentView();
    dataTransferManager.addEventListener("datarequested", winStoreShareLinkHandler);

    baseScript = document.createElement("script");
    baseScript.src = "//Microsoft.WinJS.1.0/js/base.js";
    baseScript.onload = function () {
        WinJS.Application.onsettings = function (e) {
            var privacyCmd = new Windows.UI.ApplicationSettings.SettingsCommand("privacy", "Privacy Policy", function () {
                window.open("https://www.choiceofgames.com/privacy-policy");
            });
            e.detail.e.request.applicationCommands.append(privacyCmd);
        };
        WinJS.Application.start();
    };
    document.head.appendChild(baseScript);

    uiScript = document.createElement("script");
    uiScript.src = "//Microsoft.WinJS.1.0/js/ui.js";
    document.head.appendChild(uiScript);
} else if (isWinOldApp) {
    console = {
        log: function (message) { window.external.ConsoleLog(message); },
        error: function (message) { window.external.ConsoleError(message); }
    };
    document.oncontextmenu = function() {return false;};
}

function platformCode() {
  if (window.isIosApp) return "ios";
  if (window.isAndroidApp) return "android";
  if (window.isMacApp) return "mac";
  if (window.isWinStoreApp) return "windows";
  if (window.isWinOldApp) return "csharp";
  if (window.isChromeApp) return "chrome";
  if (window.isWebOS) return "palm";
  if (window.isCef) return "cef";
  if (window.isWeb) return "web";
  return "unknown";
}

function googleLoginCallback(authResult) {
  var callback = googleLoginCallbackCallback;
  googleLoginCallbackCallback = null;
  if (!callback) callback = function(ok) { if (ok) clearScreen(loadAndRestoreGame); };
  if (authResult['status']['signed_in']) {
    isRegistered(function(registered) {
      if (!registered) xhrAuthRequest("POST", "google-login", function(ok, response){
        loginDiv(ok, response.email);
        recordLogin(ok, response.email);
        cacheKnownPurchases(response.purchases);
        callback("ok");
      }, "code", authResult['code'], "client_id", googleAppId);
    });
  } else {
    callback(!"ok");
  }
}
</script><script>/*
 * Copyright 2010 by Dan Fabulich.
 *
 * Dan Fabulich licenses this file to you under the
 * ChoiceScript License, Version 1.0 (the "License"); you may
 * not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.choiceofgames.com/LICENSE-1.0.txt
 *
 * See the License for the specific language governing
 * permissions and limitations under the License.
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied.
 */
function Scene(name, stats, nav, options) {
    if (!name) name = "";
    if (!stats) stats = {};
    // the name of the scene
    this.name = name;

    // the permanent statistics and the temporary values
    this.stats = stats;
    this.temps = {choice_reuse:"allow", choice_user_restored:false};

    // the navigator determines which scene comes next
    this.nav = nav;

    options = options || {};

    // should we print debugging information?
    this.debugMode = options.debugMode || false;
    //this.debugMode = true;

    // used for stats screen, and maybe other secondary views someday
    this.secondaryMode = options.secondaryMode;

    this.saveSlot = options.saveSlot || "";

    // the array of lines in the scene file
    this.lines = [];

    // the current line number (WARNING 0-based!)
    this.lineNum = 0;
    this.rollbackLineCoverage();

    // when this is true, the main printLoop will halt
    this.finished = false;

    // map of label names to line numbers
    this.labels = {};

    // the current amount of indentation
    this.indent = 0;

    // Did the previous line contain text?
    this.prevLine = "empty";

    // Have we ever printed any text?
    this.screenEmpty = true;

    // Have we run any commands (except for create and scene_list) yet?
    this.initialCommands = true;

    this.stats.sceneName = name;

    // for easy reachability from the window
    this.stats.scene = this;

    // where should we print text?
    this.target = null;
}

Scene.prototype.reexecute = function reexecute() {
  this.lineNum = this.stats.testEntryPoint || 0;
  this.finished = 0;
  this.indent = this.getIndent(this.lines[this.lineNum]);
  this.prevLine = "empty";
  this.screenEmpty = true;
  this.execute();
};

// the main loop of the scene
Scene.prototype.printLoop = function printLoop() {
    var line;
    for (;!this.finished && this.lineNum < this.lines.length; this.lineNum++) {
        line = this.lines[this.lineNum];
        if (!trim(line)) {
            this.paragraph();
            continue;
        }
        var indent = this.getIndent(line);
        if (indent > this.indent) {
            // ignore indentation level of *comments
            if (/\s*\*comment\b/.test(line)) continue;
            throw new Error(this.lineMsg() + "increasing indent not allowed, expected " + this.indent + " was " + indent);
        } else if (indent < this.indent) {
            this.dedent(indent);
        }
        if (this.temps.fakeChoiceLines && this.temps.fakeChoiceLines[this.lineNum]) {
          this.rollbackLineCoverage();
          this.lineNum = this.temps.fakeChoiceEnd;
          this.rollbackLineCoverage();
          delete this.temps.fakeChoiceEnd;
          delete this.temps.fakeChoiceLines;
          continue;
        }
        this.indent = indent;
        if (!this.runCommand(line)) {
            if (/^\s*#/.test(line)) {
                if (this.temps.fakeChoiceEnd) {
                    this.rollbackLineCoverage();
                    this.lineNum = this.temps.fakeChoiceEnd;
                    this.rollbackLineCoverage();
                    delete this.temps.fakeChoiceEnd;
                    delete this.temps.fakeChoiceLines;
                    continue;
                } else {
                    throw new Error(this.lineMsg() + "It is illegal to fall out of a *choice statement; you must *goto or *finish before the end of the indented block.");
                }
            }
            this.prevLine = "text";
            this.screenEmpty = false;
            this.printLine(trim(line));
            printx(' ', this.target);
        }
    }
    this.rollbackLineCoverage();
    if (!this.finished) {
        this.autofinish();
    }
    this.save(null, "temp");
    if (this.skipFooter) {
        this.skipFooter = false;
    } else {
        printFooter();
    }
};

Scene.prototype.dedent = function dedent(newDent) {};

Scene.prototype.printLine = function printLine(line, parent) {
    if (!line) return null;
    line = this.replaceVariables(line);
    if (!parent) parent = this.target;
    return printx(line, parent);
};

Scene.prototype.replaceVariables = function (line) {
  if (!line.replace) line = String(line);
  var self = this;
  // replace ${variables} with values
  line = line.replace(/\$(\!?\!?)\{([a-zA-Z][_\w]*)\}/g, function (matched, capitalize, variable) {
    var value = self.getVar(variable);
    if (capitalize == "!") {
      value = ""+value;
      value = value.charAt(0).toUpperCase() + value.slice(1);
    } else if (capitalize == "!!") {
      value = (""+value).toUpperCase();
    }
    return value;
  });
  // double-check for unreplaced/invalid ${} expressions
  var unreplaced = line.search(/\$(\!?)\{/) + 1;
  if (unreplaced) {
    throw new Error(this.lineMsg() + "invalid ${} variable substitution at letter " + unreplaced);
  }
  return line;
};

Scene.prototype.paragraph = function paragraph() {
    if (this.prevLine == "text") {
        println("", this.target);
        println("", this.target);
    } else if (this.prevLine == "block") {
      println("", this.target);
    }
    this.prevLine = "empty";
};

Scene.prototype.loadSceneFast = function loadSceneFast(url) {
    if (this.loading) return;
    this.loading = true;
    var result;
    if (window.cachedResult) {
      result = window.cachedResult;
      window.cachedResult = null;
      return this.loadLinesFast(result.crc, result.lines, result.labels);
    } else if (typeof allScenes != "undefined") {
      result = allScenes[this.name];
      return this.loadLinesFast(result.crc, result.lines, result.labels);
	}
    startLoading();
    if (!url) {
        url = Scene.baseUrl + "/" + this.name.replace(/ /g, "_") + ".txt.json";
    }
    var xhr = findXhr();
    xhr.open("GET", url, true);
    var self = this;
    var done = false;
    xhr.onreadystatechange = function() {
        if (done) return;
        if (xhr.readyState != 4) return;
        if (xhr.status == 403) {
          try {
            var err = JSON.parse(xhr.responseText);
            if (err.error == "not registered") {
              return isRegistered(function(registered) {
                if (registered) {
                  logout();
                  loginDiv();
                }
                return clearScreen(function() {
                  loginForm(main, 0/*optional*/,
                    "Please sign in to access this part of the game.", function() {
                      clearScreen(loadAndRestoreGame);
                    });
                });
              });
            }
          } catch (e) {} // JSON parse failure? must not be a login prompt
        }
        if (window.isWeb && xhr.status != 200) {
          var status = xhr.status || "network";
          main.innerHTML = "<p>Our apologies; there was a " + status + " error while loading game data."+
          "  Please refresh your browser now; if that doesn't work, please click the Restart button and email "+getSupportEmail()+" with details.</p>"+
          " <p><button onclick='window.location.reload();'>Refresh Now</button></p>";
          return;
        } else if (!xhr.status && !xhr.responseText) {
          throw new Error("Couldn't load " + url);
        }
        done = true;
        var result = xhr.responseText;
        result = jsonParse(result);
        self.loadLinesFast(result.crc, result.lines, result.labels);
    };
    if (isIE) {
      // IE8 swallows errors in onreadystatechange if xhr.send is in a try block
      xhr.send(null);
    } else {
      try {
        xhr.send(null);
      } catch (e) {
        if (window.location.protocol == "file:" && !window.isMobile) {
          if (/Chrome/.test(navigator.userAgent)) {
            window.onerror("We're sorry, Google Chrome has blocked ChoiceScript from functioning.  (\"file:\" URLs cannot "+
            "load files in Chrome.)  ChoiceScript works just fine in Chrome, but only on a published website like "+
            "choiceofgames.com.  For the time being, please try another browser like Mozilla Firefox.");
            return;
          }
        }
        window.onerror("Couldn't load URL: " + url + "\n" + e);
      }
    }
};

Scene.prototype.loadLinesFast = function loadLinesFast(crc, lines, labels) {
  this.checkSum(crc);
  this.lines = lines;
  this.labels = labels;
  this.loading = false;
  this.loaded = true;
  var self = this;
  if (this.executing) {
    safeCall(this, function() {
      doneLoading();
      self.execute();
    });
  }
};

// load the scene file from the specified URL (or from default URL by name)
Scene.prototype.loadScene = function loadScene(url) {
    if (this.loading) return;
    this.loading = true;
    startLoading();
    if (!url) {
        url = Scene.baseUrl + "/" + this.name + ".txt";
    }
    var xhr = findXhr();
    xhr.open("GET", url, true);
    var self = this;
    var done = false;
    xhr.onreadystatechange = function() {
        if (done) return;
        if (xhr.readyState != 4) return;
        done = true;
        if (xhr.status == 403) {
          try {
            var err = JSON.parse(xhr.responseText);
            if (err.error == "not registered") {
              return isRegistered(function(registered) {
                if (registered) {
                  logout();
                  loginDiv();
                }
                return clearScreen(function() {
                  loginForm(main, 0/*optional*/,
                    "Please sign in to access this part of the game.", function() {
                      clearScreen(loadAndRestoreGame);
                    });
                });
              });
            }
          } catch (e) {} // JSON parse failure? must not be a login prompt
        }
        if (window.isWeb && xhr.status != 200) {
            var status = xhr.status || "network";
            main.innerHTML = "<p>Our apologies; there was a " + status + " error while loading game data."+
            "  Please refresh your browser now; if that doesn't work, please email "+getSupportEmail()+" with details.</p>"+
            " <p><button onclick='window.location.reload();'>Refresh Now</button></p>";
            return;
        } else if (!xhr.status && !xhr.responseText) {
          throw new Error("Couldn't load " + url);
        }
        var result = xhr.responseText;
        scene = result;
        scene = scene.replace(/\r/g, "");
        this.loading = false;
        self.loadLines(scene);
        if (self.executing) {
            safeCall(self, function () {
              doneLoading();
              self.execute();
            });
        }
    };
    if (isIE) {
      // IE8 swallows errors in onreadystatechange if xhr.send is in a try block
      xhr.send(null);
    } else {
      try {
        xhr.send(null);
      } catch (e) {
        if (window.location.protocol == "file:" && !window.isMobile) {
          if (/Chrome/.test(navigator.userAgent)) {
            window.onerror("We're sorry, Google Chrome has blocked ChoiceScript from functioning.  (\"file:\" URLs cannot "+
            "load files in Chrome.)  ChoiceScript works just fine in Chrome, but only on a published website like "+
            "choiceofgames.com.  For the time being, please try another browser like Mozilla Firefox.");
            return;
          }
        }
        window.onerror("Couldn't load URL: " + url + "\n" + e);
      }
    }
};

Scene.prototype.checkSum = function checkSum(crc) {
  if (this.temps.choice_crc) {
    if (this.temps.choice_crc != crc) {
      // The scene has changed; restart the scene
      var userRestored = this.temps.choice_user_restored || false;
      this.temps = {choice_reuse:"allow", choice_user_restored:userRestored, choice_crc: crc};
      this.lineNum = 0;
      this.indent = 0;
    }
  } else {
    this.temps.choice_crc = crc;
  }
};

Scene.prototype.loadLines = function loadLines(str) {
    var crc = crc32(str);
    this.checkSum(crc);
    this.lines = str.split('\n');
    this.parseLabels();
    this.loaded = true;
};

// launch the vignette as soon as it's available
Scene.prototype.execute = function execute() {
    if (!this.loaded) {
        this.executing = true;
        if (Scene.generatedFast || (typeof generatedFast != "undefined" && generatedFast) || typeof allScenes != 'undefined') {
          this.loadSceneFast();
        } else {
          this.loadScene();
        }
        return;
    }
    if (this.nav) this.nav.repairStats(stats);
    doneLoading();
    if (typeof this.targetLabel != "undefined") {
      var label = this.targetLabel.label.toLowerCase();
      if (typeof(this.labels[label]) != "undefined") {
          this.lineNum = this.labels[label];
          this.indent = this.getIndent(this.lines[this.lineNum]);
          delete this.targetLabel;
      } else {
          throw new Error(this.targetLabel.origin + " line " + (this.targetLabel.originLine+1) + ": "+this.name+" doesn't contain label " + label);
      }
    }
    this.printLoop();
};

// loop through the file looking for *label commands
Scene.prototype.parseLabels = function parseLabels() {
    var lineLength = this.lines.length;
    var oldLineNum = this.lineNum;
    for (this.lineNum = 0; this.lineNum < lineLength; this.lineNum++) {
        this.rollbackLineCoverage();
        var line = this.lines[this.lineNum];
        var result = /^(\s*)\*(\w+)(.*)/.exec(line);
        if (!result) continue;
        var indentation = result[1];
        var indent = indentation.length;
        var command = result[2].toLowerCase();
        var data = trim(result[3]);
        if ("label" == command) {
            data = data.toLowerCase();
            if (/\s/.test(data)) throw new Error(this.lineMsg() + "label '"+data+"' is not allowed to contain spaces");
            if (this.labels.hasOwnProperty(data)) {
              throw new Error(this.lineMsg() + "label '"+data+"' already defined on line " + (this.labels[data]*1+1));
            }
            this.labels[data] = this.lineNum;
        }
    }
    this.rollbackLineCoverage();
    this.lineNum = oldLineNum;
};

// if this is a command line, run it
Scene.prototype.runCommand = function runCommand(line) {
    var result = /^\s*\*(\w+)(.*)/.exec(line);
    if (!result) return false;
    var command = result[1].toLowerCase();
    var data = trim(result[2]);
    if (Scene.validCommands[command]) {
        if ("comment" == command) return true;
        if (Scene.initialCommands[command]) {
          if ("startup" != this.name || !this.initialCommands) {
            throw new Error(this.lineMsg() + "Invalid "+command+" instruction, only allowed at the top of startup.txt");
          }
        } else {
          this.initialCommands = false;
        }
        this[command](data);
    } else {
        throw new Error(this.lineMsg() + "Non-existent command '"+command+"'");
    }
    return true;
};

// *choice [group1] [group2] ...
// prompt the user with a multiple choice question.
// nested lines are options to be presented to the user
//
// Examples:
// *choice
//    good
//      Good choice
//      *finish
//    bad
//      Bad choice
//      *finish
//
// *choice toy
//    spaceship
//      Nice spaceship
//      *finish
//    train
//      Nice train
//      *finish
//    doll
//      Nice doll
//      *finish
//
// *choice color toy
//    red
//      spaceship
//        Nice red spaceship
//        *finish
//      train
//        Nice red train
//        *finish
//    blue
//       spaceship
//         Nice blue spaceship
//        *finish
//       train
//         Nice red train
//        *finish

// If a group is specified, generate a prompt message, e.g. "*choice toy" -> "Select a toy:"
// If no group is specified, don't generate a prompt message
// if multiple groups are specified, allow the user to make multiple choices simultaneously
//   all multi-dimensional choices must be valid (otherwise throw a parse error)
Scene.prototype.choice = function choice(data) {
    var startLineNum = this.lineNum;
    var groups = data.split(/ /);
    for (var i = 0; i < groups.length; i++) {
      if (!/^\w*$/.test(groups[i])) {
        throw new Error(this.lineMsg() + "invalid choice group name: " + groups[i]);
      }
    }
    var options = this.parseOptions(this.indent, groups);
    var self = this;
    this.renderOptions(groups, options, function(option) {
      self.standardResolution(option);
    });
    this.finished = true;
    if (this.fakeChoice) {
      this.temps.fakeChoiceEnd = this.lineNum;
      var fakeChoiceLines = {};
      for (i = 0; i < options.length; i++) {
        fakeChoiceLines[options[i].line-1] = 1;
      }
      this.temps.fakeChoiceLines = fakeChoiceLines;
    }
    this.lineNum = startLineNum;
};

Scene.prototype.fake_choice = function fake_choice(data) {
    this.fakeChoice = true;
    this.choice(data, true);
    delete this.fakeChoice;
};

Scene.prototype.standardResolution = function(option) {
  var self = this;
  self.lineNum = option.line;
  self.indent = self.getIndent(self.nextNonBlankLine(true/*includingThisOne*/));
  if (option.reuse && option.reuse != "allow") self.temps.choice_used[option.line-1] = 1;
  if (this.nav) this.nav.bugLog.push("#"+(option.line+1) + " " + option.name);

  self.finished = false;
  self.resetPage();
};

Scene.prototype.nextNonBlankLine = function nextNonBlankLine(includingThisOne) {
    var line;
    var i = this.lineNum;
    if (!includingThisOne) i++;
    while(isDefined(line = this.lines[i]) && !trim(line)) {
      i++;
    }
    return line;
};

// reset the page and invoke code after clearing the screen
Scene.prototype.resetPage = function resetPage() {
    var self = this;
    this.save(function() {
      self.prevLine = "empty";
      self.screenEmpty = true;
      clearScreen(function() {self.execute();});
    }, "");
};

/* The function needs some explaining.
We want the game to be "refreshable," e.g. on the web.
So we only make a "real" autosave as you click "Next"
But if we do it that way, when we visit the stat screen, it's out of date
So we make a "temp" autosave slot, right as the page finishes redrawing,
and the stat screen uses the "temp" autosave to display your current data.
When you refresh the page, the "temp" autosave is rewritten.

If you save stats on the stat screen, they're written into the "temp" autosave
In addition, setVar will mark a special choice_dirty_stats variable, to indicate
that there's something important in the "temp" autosave slot.

Back in the main game, we load the temp save slot when saving the either the
main autosave slot or the temp save slot.

If the main game is about to rewrite the temp
slot, but the temp slot has dirty stats (written by the stat screen), then
we must be returning from the stats screen, so skip saving temp.
Otherwise, save the temp slot normally.

If the main game is about to write the main slot, clear the old temp slot,
and save the temp stats as the "real" autosave slot.

Thus, stat changes on the stat screen will only be permanently saved when
the player clicks "Next" in the main game, ensuring that the game is still
refreshable.
*/
Scene.prototype.save = function save(callback, slot) {
    if (!slot) slot = this.saveSlot;
    var self = this;
    if (this.saveSlot) {
      saveCookie(callback, slot, self.stats, self.temps, self.lineNum, self.indent, self.debugMode, self.nav);
    } else {
      loadTempStats(this.stats, function(stats) {
        if (slot == "temp") {
          if (stats.choice_dirty_stats) {
            safeTimeout(callback, 0);
          } else {
            saveCookie(callback, "temp", self.stats, self.temps, self.lineNum, self.indent, self.debugMode, self.nav);
          }
        } else {
          clearTemp();
          delete stats.choice_dirty_stats;
          stats.sceneName = self.name;
          stats.scene = self;
          self.stats = stats;
          if (typeof window != "undefined") window.stats = stats;
          saveCookie(callback, slot, stats, self.temps, self.lineNum, self.indent, self.debugMode, self.nav);
        }
      });
    }
};

// *goto labelName
// Go to the line labeled with the label command *label labelName
Scene.prototype["goto"] = function scene_goto(label) {
    label = label.toLowerCase();
    if (typeof(this.labels[label]) != "undefined") {
        this.lineNum = this.labels[label];
        this.indent = this.getIndent(this.lines[this.lineNum]);
    } else {
        throw new Error(this.lineMsg() + "bad label " + label);
    }
};

Scene.prototype.gosub = function scene_gosub(label) {
    if (!this.temps.choice_substack) {
      this.temps.choice_substack = [];
    }
    this.temps.choice_substack.push({lineNum: this.lineNum, indent: this.indent});
    this["goto"](label);
};

Scene.prototype.gosub_scene = function scene_gosub_scene(data) {
    if (!this.stats.choice_subscene_stack) {
      this.stats.choice_subscene_stack = [];
    }
    this.stats.choice_subscene_stack.push({name:this.name, lineNum: this.lineNum + 1, indent: this.indent, temps: this.temps});
    this.goto_scene(data);
};

Scene.prototype["return"] = function scene_return() {
    var stackFrame;
    if (this.temps.choice_substack && this.temps.choice_substack.length) {
      stackFrame = this.temps.choice_substack.pop();
      this.lineNum = stackFrame.lineNum;
      this.indent = stackFrame.indent;
    } else if (this.stats.choice_subscene_stack && this.stats.choice_subscene_stack.length) {
      stackFrame = this.stats.choice_subscene_stack.pop();
      this.finished = true;
      this.skipFooter = true;
      var scene = new Scene(stackFrame.name, this.stats, this.nav, {debugMode:this.debugMode, secondaryMode:this.secondaryMode});
      scene.temps = stackFrame.temps;
      scene.screenEmpty = this.screenEmpty;
      scene.prevLine = this.prevLine;
      scene.lineNum = stackFrame.lineNum;
      scene.indent = stackFrame.indent;
      scene.execute();
    } else if (!this.temps.choice_substack && !this.stats.choice_subscene_stack) {
      throw new Error(this.lineMsg() + "invalid return; gosub has not yet been called");
    } else {
      throw new Error(this.lineMsg() + "invalid return; we've already returned from the last gosub");
    }
    
};

// *gotoref expression
// Go to the label identified by the expression
//
// *temp foo
// *set foo "bar"
// *gotoref foo
// Skipped!
// *label bar
Scene.prototype["gotoref"] = function scene_gotoref(expression) {
    var stack = this.tokenizeExpr(expression);
    var value = this.evaluateExpr(stack);
    this["goto"](value);
};


// *finish
// halt the scene
Scene.prototype.finish = function finish(buttonName) {
    this.paragraph();
    this.finished = true;
    var self = this;
    if (this.secondaryMode == "stats") {
      if (typeof window == "undefined") return;
      if (window.forcedScene == "choicescript_stats") return;
      if (window.isAndroidApp && window.statsMode.get()) return;
      printButton(buttonName || "Next", main, false,
        function() {
          clearScreen(loadAndRestoreGame);
        }
      );
      return;
    }
    var nextSceneName = this.nav && nav.nextSceneName(this.name);
    // if there are no more scenes, then just halt
    if (!nextSceneName) {
        if (!this.secondaryMode) this.ending();
        return;
    }
    if (this.screenEmpty) {
      this.goto_scene(nextSceneName);
      return;
    }
    if (!buttonName) buttonName = "Next Chapter";
    buttonName = this.replaceVariables(buttonName);


    printButton(buttonName, main, false,
      function() {
        safeCall(self, function() {
            var scene = new Scene(nextSceneName, self.stats, self.nav, {debugMode:self.debugMode, secondaryMode:self.secondaryMode});
            scene.resetPage();
        });
      }
    );
    if (this.debugMode) {
    	println(toJson(this.stats));
    	//alert(this.stats);
    	//alert(scene.testPath);
    }
};

Scene.prototype.autofinish = function autofinish(buttonName) {
  this.finish(buttonName);
};

// *reset
// clear all stats
Scene.prototype.reset = function reset() {
    this.nav.resetStats(this.stats);
    this.stats.scene = this;
};

// *goto_scene foo
//
Scene.prototype.goto_scene = function gotoScene(data) {
    var args = trim(data).split(/ /);
    var sceneName, label;
    if (args.length == 1) {
      sceneName = data;
    } else {
      sceneName = args[0];
      label = args[1];
    }
    this.finished = true;
    this.skipFooter = true;
    var scene = new Scene(sceneName, this.stats, this.nav, {debugMode:this.debugMode, secondaryMode:this.secondaryMode});
    scene.screenEmpty = this.screenEmpty;
    scene.prevLine = this.prevLine;
    if (typeof label != "undefined") scene.targetLabel = {label:label, origin:this.name, originLine:this.lineNum};
    scene.execute();
};

// *redirect_scene foo
Scene.prototype.redirect_scene = function redirectScene(data) {
  if (this.secondaryMode != "stats") throw new Error(this.lineMsg() + "The *redirect_scene command can only be used from the stats screen.");
  var args = trim(data).split(/ /);
  var sceneName, label;
  if (args.length == 1) {
    sceneName = data;
  } else {
    sceneName = args[0];
    label = args[1];
  }
  this.finished = true;
  this.skipFooter = true;
  var self = this;
  redirectFromStats(sceneName, label, this.lineNum, function() {
    delete self.secondaryMode;
    self.goto_scene(data);
  });
};

Scene.prototype.restore_purchases = function scene_restorePurchases(data) {
  var self = this;
  var target = this.target;
  if (!target) target = document.getElementById('text');
  var button = printButton("Restore Purchases", target, false,
    function() {
      safeCall(self, function() {
          restorePurchases(function() {
            self["goto"](data);
            self.finished = false;
            self.resetPage();
          });
      });
    }
  );

  setClass(button, "");
  this.prevLine = "block";
};

Scene.prototype.check_purchase = function scene_checkPurchase(data) {
  this.finished = true;
  this.skipFooter = true;
  var self = this;
  checkPurchase(data, function(ok, result) {
    self.finished = false;
    self.skipFooter = false;
    if (!ok) {
      result = {billingSupported:true};
      self.temps.choice_purchase_error = true;
    }
    result = result || {};
    var products = data.split(/ /);
    var everything = true;
    for (var i = 0; i < products.length; i++) {
      var purchasedProduct = result[products[i]] || false;
      self.temps["choice_purchased_"+products[i]] = purchasedProduct;
      if (!purchasedProduct) everything = false;
    }
    self.temps.choice_purchased_everything = everything;
    self.temps.choice_purchase_supported = !!result.billingSupported;
    self.execute();
  });
};

Scene.prototype.purchase = function purchase_button(data) {
  var result = /^(\w+)\s+(\S+)\s+(.*)/.exec(data);
  if (!result) throw new Error(this.lineMsg() + "invalid line; can't parse purchaseable product: " + data);
  var product = result[1];
  var priceGuess = trim(result[2]);
  var label = trim(result[3]);
  this.finished = true;
  this.skipFooter = true;
  var self = this;
  getPrice(product, function (price) {
    if (!price || "free" == price) {
      self["goto"](label);
      self.finished = false;
      self.resetPage();
    } else {
      if (price == "guess") price = priceGuess;
      var target = self.target;
      if (!target) target = document.getElementById('text');
      self.paragraph();
      var button = printButton("Buy It Now for " + price, target, false,
        function() {
          safeCall(self, function() {
              purchase(product, function() {
                safeCall(self, function() {
                  self["goto"](label);
                  self.finished = false;
                  self.resetPage();
                });
              });
          });
        }
      );
      self.prevLine = "block";
      if (isRestorePurchasesSupported()) {
        self.prevLine = "text";
        printLink(target, "#", "Restore Purchases",
          function() {
            safeCall(self, function() {
                restorePurchases(function(error) {
                  checkPurchase([product], function(ok, purchases) {
                    if (purchases[product]) {
                      self["goto"](label);
                      self.finished = false;
                      self.resetPage();
                    } else {
                      if (error) {
                        asyncAlert("Restore failed. Please try again.");
                      } else {
                        asyncAlert("Restore completed. This product is not yet purchased.");
                      }
                      // refresh, in case we're on web showing a full-screen login. Not necessary on mobile? But, meh.
                      if (!self.secondaryMode) clearScreen(loadAndRestoreGame);
                    }
                  });
                });
            });
          }
        );
      }
      
      self.skipFooter = false;
      self.finished = false;
      self.execute();
    }
  });
};

// *abort
// halt the scene without showing a button
Scene.prototype.abort = function() {
  this.paragraph();
  this.finished = true;
};

// *create
// create a new permanent stat
Scene.prototype.create = function create(line) {
    var result = /^(\w*)(.*)/.exec(line);
    if (!result) throw new Error(this.lineMsg()+"Invalid create instruction, no variable specified: " + line);
    var variable = result[1];
    this.validateVariable(variable);
    variable = variable.toLowerCase();
    var expr = result[2];
    var stack = this.tokenizeExpr(expr);
    if (stack.length === 0) throw new Error(this.lineMsg()+"Invalid create instruction, no value specified: " + line);
    var self = this;
    function complexError() {
      throw new Error(self.lineMsg()+"Invalid create instruction, value must be a a number, true/false, or a quoted string: " + line);
    }
    if (stack.length > 1) complexError();
    var token = stack[0];
    if (!/STRING|NUMBER|VAR/.test(token.name)) complexError();
    if ("VAR" == token.name && !/^true|false$/i.test(token.value)) complexError();
    if ("STRING" == token.name && /\$!?!?{/.test(token.value)) throw new Error(this.lineMsg() + "Invalid create instruction, value must be a simple string without ${}: " + line);
    var value = this.evaluateExpr(stack);
    this.stats[variable] = value;
    if (this.nav) this.nav.startingStats[variable] = value;
};

// *temp
// create a temporary stat for the current scene
Scene.prototype.temp = function temp(line) {
    var result = /^(\w*)(.*)/.exec(line);
    if (!result) throw new Error(this.lineMsg()+"Invalid temp instruction, no variable specified: " + line);
    var variable = result[1];
    this.validateVariable(variable);
    var expr = result[2];
    var stack = this.tokenizeExpr(expr);
    if (stack.length === 0) {
      this.temps[variable.toLowerCase()] = null;
      return;
    }
    var value = this.evaluateExpr(stack);
    this.temps[variable.toLowerCase()] = value;
};

// retrieve the value of the variable, preferring temp scope
Scene.prototype.getVar = function getVar(variable) {
    var value;
    variable = String(variable).toLowerCase();
    if (variable == "true") return true;
    if (variable == "false") return false;
    if (variable == "choice_subscribe_allowed") return true;
    if (variable == "choice_register_allowed") return isRegisterAllowed();
    if (variable == "choice_registered") return typeof window != "undefined" && !!window.registered;
    if (variable == "choice_is_web") return typeof window != "undefined" && !!window.isWeb;
    if (variable == "choice_is_advertising_supported") return typeof isAdvertisingSupported != "undefined" && !!isAdvertisingSupported();
    if (variable == "choice_is_trial") return !!(typeof isTrial != "undefined" && isTrial);
    if (variable == "choice_kindle") return false;
    if (variable == "choice_randomtest") return !!this.randomtest;
    if (variable == "choice_restore_purchases_allowed") return isRestorePurchasesSupported();
    if (variable == "choice_save_allowed") return areSaveSlotsSupported();
    if (variable == "choice_time_stamp") return Math.floor(new Date()/1000);
    if ("undefined" === typeof this.temps[variable]) {
        if ("undefined" === typeof this.stats[variable]) {
            throw new Error(this.lineMsg() + "Non-existent variable '"+variable+"'");
        }
        value = this.stats[variable];
        if (value === null || value === undefined) {
            throw new Error(this.lineMsg() + "Variable '"+variable+"' exists but has no value");
        }
        if (this.debugMode) println("stats["+ variable + "]==" + value);
        return value;
    }
    value = this.temps[variable];
    if (value === null || value === undefined) {
        throw new Error(this.lineMsg() + "Variable '"+variable+"' exists but has no value");
    }
    if (this.debugMode) println("temps["+ variable + "]==" + value);
    return value;
};

// set the value of the variable, preferring temp scope
Scene.prototype.setVar = function setVar(variable, value) {
    variable = variable.toLowerCase();
    if (this.debugMode) println(variable +"="+ value);
    if ("undefined" === typeof this.temps[variable]) {
        if ("undefined" === typeof this.stats[variable]) {
            throw new Error(this.lineMsg() + "Non-existent variable '"+variable+"'");
        }
        this.stats[variable] = value;
        if (this.saveSlot == "temp") this.stats.choice_dirty_stats = true;
    } else {
        this.temps[variable] = value;
    }
};

// *delete variable
// deletes the named variable
Scene.prototype["delete"] = function scene_delete(variable) {
    variable = variable.toLowerCase();
    if ("undefined" === typeof this.temps[variable]) {
        if ("undefined" === typeof this.stats[variable]) {
            throw new Error(this.lineMsg() + "Non-existent variable '"+variable+"'");
        }
        delete this.stats[variable];
    } else {
        delete this.temps[variable];
    }
};

// during a choice, recursively parse the options
Scene.prototype.parseOptions = function parseOptions(startIndent, choicesRemaining, expectedSubOptions) {
    // nextIndent: the level of indentation after the current line
    // For example, in the color/toy sample above, we start at 0
    // then the nextIndent is 2 for "red"
    // then the nextIndent is 4 for "spaceship"
    var nextIndent = null;
    var options = [];
    var line;
    var currentChoice = choicesRemaining[0];
    if (!currentChoice) currentChoice = "choice";
    var suboptionsEncountered = false;
    var bodyExpected = false;
    var previousSubOptions;
    var namesEncountered = {};
    var atLeastOneSelectableOption = false;
    var prevOption, ifResult;
    var startingLine = this.lineNum;
    function removeModifierCommand() {
      line = trim(line.replace(/^\s*\*(\w+)(.*)/, "$2"));
      parsed = /^\s*\*(\w+)(.*)/.exec(line);
      if (parsed) {
        command = parsed[1].toLowerCase();
        data = trim(parsed[2]);
      } else {
        command = "";
      }
    }
    while(isDefined(line = this.lines[++this.lineNum])) {
        if (!trim(line)) {
            this.rollbackLineCoverage();
            continue;
        }
        var indent = this.getIndent(line);
        if (nextIndent === null || nextIndent === undefined) {
            // initialize nextIndent with whatever indentation the line turns out to be
            // ...unless it's not indented at all
            if (indent <= startIndent) {
                throw new Error(this.lineMsg() + "invalid indent, expected at least one '" + currentChoice + "'");
            }
            this.indent = nextIndent = indent;
        }
        if (indent <= startIndent) {
            // it's over!
            // TODO is this error test valid?
            if (choicesRemaining.length>1 && !suboptionsEncountered) {
                throw new Error(this.lineMsg() + "invalid indent, there were subchoices remaining: [" + choicesRemaining.join(",") + "]");
            }
            if (bodyExpected && !this.fakeChoice) {
                throw new Error(this.lineMsg() + "Expected choice body");
            }
            if (!atLeastOneSelectableOption) this.conflictingOptions("line " + (startingLine+1) + ": No selectable options");
            if (expectedSubOptions) {
                this.verifyOptionsMatch(expectedSubOptions, options);
            }
            this.rollbackLineCoverage();
            prevOption = options[options.length-1];
            if (!prevOption.endLine) prevOption.endLine = this.lineNum;
            this.lineNum--;
            this.rollbackLineCoverage();
            return options;
        }
        if (indent < this.indent) {
            // TODO drift detection
            if (false) /*(indent != nextIndent)*/ {
                // error: indentation has decreased, but not all the way back
                // Example:
                // *choice
                //     red
                //   blue
                throw new Error(this.lineMsg() + "invalid indent, expected "+this.indent+", was " + indent);
            }

            // we must be falling out of a sub-block
            this.dedent(indent);
            this.indent = indent;
        }
        if (indent > this.indent) {
            // body of the choice
            // ...unless we haven't identified our choices yet
            // TODO is this error test valid?
            if (choicesRemaining.length>1) throw new Error(this.lineMsg() + "invalid indent, there were subchoices remaining: [" + choicesRemaining.join(",") + "]");
            this.rollbackLineCoverage();
            bodyExpected = false;
            continue;
        }

        // here's the end of the previous option
        if (options.length) {
          prevOption = options[options.length-1];
          if (!prevOption.endLine) prevOption.endLine = this.lineNum;
        }

        // Execute *if commands (etc.) during option loop
        // sub-commands may modify this.indent
        var parsed = /^\s*\*(\w+)(.*)/.exec(line);
        var unselectable = false;
        var inlineIf = null;
        var selectableIf = null;
        var self = this;

        var overrideDefaultReuseSetting = false;
        var reuse = this.temps.choice_reuse;
        if (parsed) {
            var command = parsed[1].toLowerCase();
            var data = trim(parsed[2]);
            // TODO whitelist commands
            if ("hide_reuse" == command) {
              reuse = "hide";
              overrideDefaultReuseSetting = true;
              removeModifierCommand();
            }
            if ("disable_reuse" == command) {
              reuse = "disable";
              overrideDefaultReuseSetting = true;
              removeModifierCommand();
            }
            if ("allow_reuse" == command) {
              reuse = "allow";
              overrideDefaultReuseSetting = true;
              removeModifierCommand();
            }

            if ("print" == command) {
                line = this.evaluateExpr(this.tokenizeExpr(data));
            } else if ("if" == command) {
              ifResult = this.parseOptionIf(data, command);
              if (ifResult) {
                inlineIf = ifResult.condition;
                if (ifResult.result) {
                  line = ifResult.line;
                } else {
                  continue;
                }
              } else {
                this["if"](data, true /*inChoice*/);
                continue;
              }
            } else if (/^(else|elseif|elsif)$/.test(command)) {
              this[command](data, true /*inChoice*/);
              continue;
            } else if ("selectable_if" == command) {
              ifResult = this.parseOptionIf(data, command);
              if (!ifResult) throw new Error(this.lineMsg() + "Couldn't parse the line after *selectable_if: " + data);
              line = ifResult.line;
              selectableIf = ifResult.condition;
              unselectable = unselectable || !ifResult.result;
            } else if ("comment" == command) {
                continue;
            } else if (!command) {
              // command was rewritten by earlier modifier
            } else {
                if (Scene.validCommands[command]) {
                  throw new Error(this.lineMsg() + "Invalid indent? Expected an #option here, not *"+command);
                }  else {
                    throw new Error(this.lineMsg() + "Non-existent command '"+command+"'");
                }
            }
        }

        if ("allow" != reuse) {
          if (!this.temps.choice_used) this.temps.choice_used = {};
          if (this.temps.choice_used[this.lineNum]) {
            if ("hide" == reuse) continue;
            unselectable = true;
          }
        }

        // this line should be a valid option
        if (!/^\s*\#\s*\S/.test(line)) {
            throw new Error(this.lineMsg() + "Expected option starting with #");
        }
        // replace variables here and discard the result, so error messages display the correct line
        this.replaceVariables(line);
        line = trim(trim(line).substring(1));
        var option = {name:line, group:currentChoice};
        if (reuse != "allow") option.reuse = reuse;
        if (this.displayOptionConditions) {
          option.displayIf = [];
          for (var i = 0; i < this.displayOptionConditions.length; i++) {
            option.displayIf[i] = this.displayOptionConditions[i];
          }
          if (inlineIf) option.displayIf.push(inlineIf);
        } else if (inlineIf) {
          option.displayIf = [inlineIf];
        }
        if (selectableIf) {
          option.selectableIf = selectableIf;
        }
        option.line = this.lineNum + 1;
        if (unselectable) {
          option.unselectable = true;
        }
        if (namesEncountered[line]) {
            this.conflictingOptions(this.lineMsg() + "Invalid option; conflicts with option '"+option.name+"' on line " + namesEncountered[line]);
        } else {
            namesEncountered[line] = option.line;
        }
        options.push(option);
        if (choicesRemaining.length>1) {
            // recursive call will modify this.indent
            option.suboptions = this.parseOptions(this.indent, choicesRemaining.slice(1), previousSubOptions);
            // now restore it
            this.indent = nextIndent;
            if (!previousSubOptions) previousSubOptions = option.suboptions;
            suboptionsEncountered = true;
        } else {
            bodyExpected = true;
        }
        if (!unselectable) atLeastOneSelectableOption = true;
    }
    if (bodyExpected && !this.fakeChoice) {
        throw new Error(this.lineMsg() + "Expected choice body");
    }
    prevOption = options[options.length-1];
    if (!prevOption.endLine) prevOption.endLine = this.lineNum;
    if (!atLeastOneSelectableOption) this.conflictingOptions("line " + (startingLine+1) + ": No selectable options");
    return options;
};

// compute *if statement during options
Scene.prototype.parseOptionIf = function parseOptionIf(data) {
  var parsed = /^\s*\((.*)\)\s+(#.*)/.exec(data);
  if (!parsed) {
    return;
  }
  var condition = parsed[1];
  var stack = this.tokenizeExpr(condition);
  var result = this.evaluateExpr(stack);
  if (this.debugMode) println(condition + " :: " + result);
  result = bool(result, this.lineNum+1);
  // In the autotester, all conditionals are enabled
  result = result || this.testPath;
  return {result:result, line:parsed[2], condition:null};
};

// Add this as a separate method so we can override it elsewhere
// We want this error during randomtest but not during autotest
// Because autotest makes impossible situations happen
Scene.prototype.conflictingOptions = function conflictingOptions(str) {
  throw new Error(str);
};

// verify that the current option set corresponds to the previous option set
// (for multichoices)
Scene.prototype.verifyOptionsMatch = function verifyOptionsMatch(prev, current) {
    // find matching option by name
    function findMatch(name, options) {
        for (var i = 0; i < options.length; i++) {
            var option = options[i];
            if (option && name == option.name) {
                return option;
            }
        }
        return null;
    }

    var prevOpt, curOpt;
    for (var i = 0; i < prev.length; i++) {
        prevOpt = prev[i];
        curOpt = findMatch(prevOpt.name, current);
        if (!curOpt) throw new Error(this.lineMsg()+"Missing expected suboption '"+prevOpt.name+"'; all suboptions must have same option list");
    }

    if (prev.length == current.length) return;

    for (i = 0; i < current.length; i++) {
        curOpt = current[i];
        prevOpt = findMatch(curOpt.name, prev);
        if (!prevOpt) throw new Error(this.lineMsg()+"Added unexpected suboption '"+curOpt.name+"'; all suboptions must have same option list");
    }

    throw new Error(this.lineMsg()+"Bug? previous options and current options mismatch, but no particular missing element");
};

// render the prompt and the radio buttons
Scene.prototype.renderOptions = function renderOptions(groups, options, callback) {
    for (var i = 0; i < options.length; i++) {
      var option = options[i];
      option.name = this.replaceVariables(option.name);
    }
    this.paragraph();
    printOptions(groups, options, callback);

    if (this.debugMode) {
    	println(toJson(this.stats));
    	//alert(toJson(this.stats));
    }

    if (this.finished) printFooter();
};

// *page_break
// pause and prompt the user to press "Next"
Scene.prototype.page_break = function page_break(buttonName) {
    if (this.screenEmpty) return;
    if (!buttonName) buttonName = "Next";
    buttonName = this.replaceVariables(buttonName);
    this.paragraph();
    this.finished = true;

    var self = this;
    printButton(buttonName, main, false,
      function() {
        self.finished = false;
        self.resetPage();
      }
    );
    if (this.debugMode) println(toJson(this.stats));
};

// *line_break
// single line break in the middle of a paragraph
Scene.prototype.line_break = function line_break() {
    println("", this.target);
};

// *image
// display named image
Scene.prototype.image = function image(data) {
    data = data || "";
    var args = data.split(" ");
    if (args > 2) throw new Error(this.lineMsg()+"Too many words; expected filename and alignment: " + data);
    var source = args[0];
    var alignment = args[1];
    alignment = alignment || "center";
    if (!/(right|left|center|none)/.test(alignment)) throw new Error(this.lineMsg()+"Invalid alignment, expected right, left, center, or none: " + data);
    printImage(source, alignment);
    if (this.verifyImage) this.verifyImage(source);
};

// *sound
// play named sound file
Scene.prototype.sound = function sound(source) {
    if (typeof playSound == "function") playSound(source);
    if (this.verifyImage) this.verifyImage(source);
};

// *link
// Display URL with anchor text
Scene.prototype.link = function link(data) {
    var result = /^(\S+)\s*(.*)/.exec(data);
    if (!result) throw new Error(this.lineMsg() + "invalid line; this line should have an URL: " + data);
    var href = result[1];
    var anchorText = trim(result[2]) || href;
    printLink(this.target, href, anchorText);
    this.prevLine = "text";
    this.screenEmpty = false;
};

// *link_button
// Display button that takes you to an URL
Scene.prototype.link_button = function linkButton(data) {
    if (typeof window == "undefined") return;
    var result = /^(\S+)\s*(.*)/.exec(data);
    if (!result) throw new Error(this.lineMsg() + "invalid line; this line should have an URL: " + data);
    var href = result[1];
    var anchorText = trim(result[2]) || href;
    var target = this.target;
    if (!target) target = document.getElementById('text');
    printButton(anchorText, target, false, function() {
      window.location.href = href;
    });
    this.prevLine = "empty";
    this.screenEmpty = false;
};

// how many spaces is this line indented?
Scene.prototype.getIndent = function getIndent(line) {
    if (line === null || line === undefined) return 0;
    var spaces = line.match(/^([ \t]*)/);
    if (spaces === null || spaces === undefined) return 0;
    var whitespace = spaces[0];
    var len = whitespace.length;
    if (0 === len) return 0;
    var tab = /\t/.test(whitespace);
    var space = / /.test(whitespace);
    if (tab && space) {
        throw new Error(this.lineMsg()+"Tabs and spaces appear on the same line");
    }
    if (tab) {
        this.firstTab = this.lineNum+1;
        if (this.firstSpace) {
            throw new Error(this.lineMsg()+"Illegal mixing of spaces and tabs; this line has a tab, but there were spaces on line " + this.firstSpace);
        }
    } else {
        this.firstSpace = this.lineNum + 1;
        if (this.firstTab) {
            throw new Error(this.lineMsg()+"Illegal mixing of spaces and tabs; this line has a space, but there were tabs on line " + this.firstTab);
        }
    }
    return len;
};

// *comment ignorable text
Scene.prototype.comment = function comment(line) {
    if (this.debugMode) println("*comment " + line);
};

Scene.prototype.advertisement = function advertisement() {
  if (typeof isFullScreenAdvertisingSupported != "undefined" && isFullScreenAdvertisingSupported()) {
    this.finished = true;
    this.skipFooter = true;

    var self = this;
    showFullScreenAdvertisement(function() {
      self.finished = false;
      self.skipFooter = false;
      self.resetPage();
    });
  }

};

// *looplimit 5
// The number of times a given line is allowed to be accessed
Scene.prototype.looplimit = function looplimit() {}; // TODO looplimit

Scene.prototype.hide_reuse = function hide_reuse() {
  this.temps.choice_reuse = "hide";
};

Scene.prototype.disable_reuse = function disable_reuse() {
  this.temps.choice_reuse = "disable";
};

Scene.prototype.allow_reuse = function allow_reuse() {
  this.temps.choice_reuse = "allow";
};

// *label labelName
// Labels a line for use later in *goto
// Do nothing here; these labels are parsed in this.parseLabel
Scene.prototype.label = function label() {};

// *print expr
// print the value of the specified expression
Scene.prototype.print = function scene_print(expr) {
    var value = this.evaluateExpr(this.tokenizeExpr(expr));
    this.prevLine = "text";
    this.screenEmpty = false;
    this.printLine(value);
    printx(' ', this.target);
};

// *input_text var
// record text typed by the user and store it in the specified variable
Scene.prototype.input_text = function input_text(variable) {
    var inputType = "text";
    var longMatch = /^\S+(\s+long)/.exec(variable);
    if (longMatch) {
      variable = variable.substring(0, variable.length-longMatch[1].length);
      inputType = "textarea";
    }
    this.validateVariable(variable);
    this.finished = true;
    this.paragraph();
    var self = this;
    printInput(this.target, inputType, function(value) {
      safeCall(self, function() {
        value = ""+value || "";
        value = value.replace(/\n/g, "[n/]");
        if (self.nav) self.nav.bugLog.push("*input_text " + variable + " " + value);
        self.finished = false;
        self.save(function() {
          self.setVar(variable, value);
          self.resetPage();
        }, "");
      });
    });
    if (this.debugMode) println(toJson(this.stats));
};

// *input_number var min max
// record number typed by the user and store it in the specified variable
Scene.prototype.input_number = function input_number(data) {
    var args = data.split(/ /);
    if (args.length != 3) {
        throw new Error(this.lineMsg() + "Invalid input_number statement, expected three args: varname min max");
    }
    var variable, minimum, maximum;
    variable = args[0];
    this.validateVariable(variable);
    minimum = this.evaluateValueExpr(args[1]);
    if (isNaN(minimum*1)) throw new Error(this.lineMsg() + "Invalid minimum, not numeric: " + minimum);
    maximum = this.evaluateValueExpr(args[2]);
    if (isNaN(maximum*1)) throw new Error(this.lineMsg() + "Invalid maximum, not numeric: " + maximum);

    if (parseFloat(minimum) > parseFloat(maximum)) throw new Error(this.lineMsg() + "Minimum " + minimum+ " should not be greater than maximum " + maximum);

    function isInt(x) {
       var y=parseInt(x,10);
       if (isNaN(y)) return false;
       return x==y && x.toString()==y.toString();
    }
    var intRequired;
    if (isInt(minimum) && isInt(maximum)) {
      intRequired = 1;
    }
    this.finished = true;
    this.paragraph();
    var self = this;
    printInput(this.target, "number", function(value) {
      safeCall(self, function() {
        var numValue = parseFloat(""+value);
        if (isNaN(numValue)) {
          asyncAlert("Please type in a number.");
          return;
        }
        if (intRequired && !isInt(value)) {
          asyncAlert("Please type in an integer number.");
          return;
        }
        if (numValue < minimum * 1) {
          asyncAlert("Please use a number greater than or equal to " + minimum);
          return;
        }
        if (numValue > maximum * 1) {
          asyncAlert("Please use a number less than or equal to " + maximum);
          return;
        }
        if (self.nav) self.nav.bugLog.push("*input_number " + variable + " " + value);
        self.finished = false;
        self.save(function() {
          self.setVar(variable, numValue);
          self.resetPage();
        }, "");
      });
    }, minimum, maximum, intRequired);
    if (this.debugMode) println(toJson(this.stats));
};

// *script code
// evaluate the specified ECMAScript
Scene.prototype.script = function script(code) {
    var stats = this.stats;
    var temps = this.temps;
    if (typeof window == "undefined") {
      (function() {
        var window = _global;
        eval(code);
      }).call(this);
    } else {
      eval(code);
    }
};

// is this a valid variable name?
Scene.prototype.validateVariable = function validateVariable(variable) {
    if (!variable || !/^[a-zA-Z]/.test(variable)) {
        throw new Error(this.lineMsg()+"Invalid variable name, must start with a letter: " + variable);
    }
    if (!/^\w+$/.test(variable)) {
        throw new Error(this.lineMsg()+"Invalid variable name: '" + variable + "'");
    }
    if (/^(and|or|true|false)$/.test(variable)) throw new Error(this.lineMsg()+"Invalid variable name, '" + variable + "' is a reserved word");
    if (/^choice_/.test(variable)) throw new Error(this.lineMsg()+"Invalid variable name, variables may not start with 'choice_'; this is a reserved prefix");
};

// *rand varname min max
// Set varname to a random number from min to max
//
// Example:
// *rand foo 1 6
//   roll a cube die
// *rand foo 1.0 6.0
//   compute a decimal from [1.0,6.0)
Scene.prototype.rand = function rand(data) {
    // TODO make this parser more general
    var args = data.split(/ /);
    if (args.length != 3) {
        throw new Error(this.lineMsg() + "Invalid rand statement, expected three args: varname min max");
    }
    var variable, minimum, maximum, diff;
    variable = args[0];
    this.validateVariable(variable);
    minimum = this.evaluateValueExpr(args[1]);
    maximum = this.evaluateValueExpr(args[2]);
    diff = maximum - minimum;
    if (isNaN(diff)) {
        throw new Error(this.lineMsg() + "Invalid rand statement, min and max must be numbers");
    }
    if (diff < 0) {
        throw new Error(this.lineMsg() + "Invalid rand statement, min must be less than max: " + minimum + " > " + maximum);
    }
    if (diff === 0) {
      this.setVar(variable, minimum);
      return;
    }
    function isInt(x) {
       var y=parseInt(x,10);
       if (isNaN(y)) return false;
       return x==y && x.toString()==y.toString();
    }
    var result;
    var random = Math.random();
    if (isInt(minimum) && isInt(maximum)) {
        // int random
        result = 1*minimum + Math.floor(random*(diff+1));
    } else {
        result = 1*minimum + random*diff;
    }
    this.setVar(variable, result);
    if (this.randomLog) {
      this.randomLog("*rand " + variable + " " + result);
    }
    if (this.nav) this.nav.bugLog.push("*rand " + variable + " " + result);
};

// *set varname expr
// sets the specified varname to the value of the expr
//
// Examples:
//
// literal
//     literal int: 2
//     literal decimal: 2.3
//     boolean value: true
//     quoted string: "fie"
//         with backslash escaping "she said it was \"ironic\"!"  "c:\\foo"
//     variable name: foo
//
// math
//     +: 2+2
//     -: foo-3
//     *: 2*3
//     /: 8/2
//     if one operand is a string, we'll try to parse it as a number, fail if that doesn't work
//
// fairmath
//     %+: foo%+30
//     %-: foo%-20
//
// concatenate
//     &: "foo"&bar
//
// may omit leading operand
//     *set foo +2
//     *set foo %+30
//     *set foo &"blah blah"
//
// spaces optional
//     *set foo+2
//     *set foo bar + 2
//     *set bar% +30
//
// multiple operators in one line, parentheses mandatory
//     *set foo (foo+2)/4
//     *set foo 2+(foo/2)
//     *set foo (foo/2)+(bar/3)
//     *set foo +(bar/3)
//
Scene.prototype.set = function set(line) {
    var result = /^(\w*)(.*)/.exec(line);
    if (!result) throw new Error(this.lineMsg()+"Invalid set instruction, no variable specified: " + line);
    var variable = result[1];
    this.validateVariable(variable);
    var expr = result[2];
    var stack = this.tokenizeExpr(expr);
    if (stack.length === 0) throw new Error(this.lineMsg()+"Invalid set instruction, no expression specified: " + line);
    // if the first token is an operator, then it's implicitly based on the variable
    if (/OPERATOR|FAIRMATH/.test(stack[0].name)) stack.unshift({name:"VAR", value:variable, pos:"(implicit)"});
    var value = this.evaluateExpr(stack);
    this.setVar(variable, value);
};

// *setref variableExpr expr
// just like *set, but variableExpr is a string expression naming a variable reference
//
// Example:
// *set foo "bar"
// *setref foo 3
// *comment now bar=3
Scene.prototype.setref = function setref(line) {
    var stack = this.tokenizeExpr(line);
    var reference = this.evaluateValueToken(stack.shift(), stack);
    var referenceExpressionString;
    try {
        referenceExpressionString = trim(line.substring(0, stack[0].pos - stack[0].value.length));
    } catch (e) {}

    try {
      this.validateVariable(reference);
    } catch (e) {
      if (typeof referenceExpressionString !== undefined) {
        throw new Error(this.lineMsg()+
          "The expression ("+referenceExpressionString+") was \""+reference+"\", which is invalid:\n" + e.message);
      }
    }
    // if the first token is an operator, then it's implicitly based on the variable
    if (/OPERATOR|FAIRMATH/.test(stack[0].name)) stack.unshift({name:"VAR", value:reference, pos:"(implicit)"});
    var value = this.evaluateExpr(stack);
    this.setVar(reference, value);
};

Scene.prototype.share_this_game = function share_links(now) {
  now = !!trim(now);
  this.paragraph();
  printShareLinks(this.target, now);
  this.prevLine = "empty"; // printShareLinks provides its own paragraph break
};

Scene.prototype.more_games = function more_games(now) {
  if (typeof window == "undefined" || typeof moreGames == "undefined") return;
  if (!!trim(now)) {
    moreGames();
    return;
  }
  var self = this;
  var target = this.target;
  if (!target) target = document.getElementById('text');
  var button = printButton("Play More Games Like This", target, false,
    function() {
      safeCall(self, moreGames);
    }
  );

  setClass(button, "");
  this.prevLine = "block";
};

Scene.prototype.ending = function ending() {
    if (typeof window == "undefined") return;
    this.paragraph();
    var groups = [""];
    options = [];
    options.push({name:"Play again.", group:"choice", restart:true});
    options.push({name:"Play more games like this.", group:"choice", moreGames:true});
    options.push({name:"Share this game with friends.", group:"choice", share:true});
    options.push({name:"Email me when new games are available.", group:"choice", subscribe:true});

    var self = this;
    function endingMenu() {
      printFollowButtons();
      self.renderOptions([""], options, function(option) {
        if (option.restart) {
          self.restart();
          return;
        } else if (option.moreGames) {
          self.more_games("now");
          if (typeof curl != "undefined") curl();
        } else if (option.share) {
          clearScreen(function() {
            self.share_this_game("now");
            endingMenu();
          });
        } else if (option.subscribe) {
          subscribeLink();
        }
      });
    }
    endingMenu();
    this.finished = true;
};

Scene.prototype.restart = function restart() {
  if (this.secondaryMode) throw new Error(this.lineMsg() + "Cannot *restart in " + this.secondaryMode + " mode");
  this.finished = true;
  this.reset();
  delayBreakEnd();
  var startupScene = this.nav.getStartupScene();
  var scene = new Scene(startupScene, this.stats, this.nav, {debugMode:this.debugMode, secondaryMode:false});
  scene.resetPage();
};

Scene.prototype.subscribe = function scene_subscribe(now) {
  // "now" means we should immediately display the signup form
  // otherwise, we should display a Subscribe button which displays the form
  // On some platforms, "now" is impossible, so we ignore it.
  now = ("now" == now);
  this.prevLine = "block";
  this.finished = true;
  this.skipFooter = true;
  var self = this;
  subscribe(this.target, now, function(now) {
    self.finished = false;
    // if "now" actually worked, then continue the scene
    // otherwise, reset the page before continuing
    if (now) {
      self.skipFooter = false;
      self.execute();
    } else {
      self.resetPage();
    }
  });
};

Scene.prototype.restore_game = function restore_game() {
  this.finished = true;
  this.skipFooter = true;
  var self = this;
  var unrestorableScenes = this.parseRestoreGame(false/*alreadyFinished*/);
  function renderRestoreMenu(saveList, dirtySaveList) {
    self.paragraph();
    var options = [];
    for (var i = 0; i < saveList.length; i++) {
      var save = saveList[i];
      var date = new Date(save.timestamp*1);
      if (!save) continue;
      var name = "";
      if (save.temps && save.temps.choice_restore_name) name = save.temps.choice_restore_name;
      options.push({name:name + " ("+simpleDateTimeFormat(date)+")", group:"choice", state:save});
    }
    if (false) options.push({name:"Restore using a password.", group:"choice", password:true});
    options.push({name:"Retrieve saved games online from choiceofgames.com.", group:"choice", fetch:true});
    if (dirtySaveList.length) options.push({name:"Upload saved games to choiceofgames.com.", group:"choice", upload:true});
    options.push({name:"Cancel.", group:"choice", cancel:true});
    var groups = [""];
    self.renderOptions(groups, options, function(option) {
      if (option.upload) {
        clearScreen(function() {
          fetchEmail(function(defaultEmail){
            self.printLine("Please type your email address to identify yourself.");
            promptEmailAddress(this.target, defaultEmail, function(cancel, email) {
              if (cancel) {
                self.finished = false;
                self.resetPage();
                return;
              }
              clearScreen(function() {
                startLoading();
                submitDirtySaves(dirtySaveList, email, function(ok) {
                  doneLoading();
                  self.prevLine = "text"; // Put some space between the message and the option list
                  if (!ok) {
                    self.printLine("Error uploading saves. Please try again later.");
                    renderRestoreMenu(saveList, dirtySaveList);
                  } else {
                    var count = dirtySaveList.length + (dirtySaveList.length == 1 ? " save" : " saves");
                    self.printLine("Uploaded " + count + ".");
                    renderRestoreMenu(saveList, []);
                  }
                });
              });
            });
          });
        });
      } else if (option.fetch) {
        clearScreen(function() {
          fetchEmail(function(defaultEmail){
            self.printLine("Please type your email address to identify yourself.");
            promptEmailAddress(this.target, defaultEmail, function(cancel, email) {
              if (cancel) {
                self.finished = false;
                self.resetPage();
                return;
              }
              clearScreen(function() {
                startLoading();
                getRemoteSaves(email, function (remoteSaveList) {
                  doneLoading();
                  self.prevLine = "text";
                  if (!remoteSaveList) {
                    self.printLine("Error downloading saves. Please try again later.");
                    renderRestoreMenu(saveList, dirtySaveList);
                  } else {
                    mergeRemoteSaves(remoteSaveList, "recordDirty", function(saveList, newRemoteSaves, dirtySaveList) {
                      if (!remoteSaveList.length) {
                        self.printLine("No saves downloaded for email address \""+email+"\". (Is that the correct email address?) If you're having trouble, please contact support at "+getSupportEmail()+".");
                        renderRestoreMenu(saveList, dirtySaveList);
                      } else {
                        var downloadCount = remoteSaveList.length + " saved " + (remoteSaveList.length == 1 ? "game" : "games");
                        var newCount = newRemoteSaves + " new saved " + (newRemoteSaves == 1 ? "game" : "games");
                        self.printLine("Synchronized " + downloadCount + ". Downloaded " + newCount + ".");
                        renderRestoreMenu(saveList, dirtySaveList);
                      }
                    });
                  }
                });
              });
            });
          });
        });
      } else if (option.password) {
        clearScreen(function() {
          self.restore_password();
        });
      } else {
        if (option.cancel) {
          self.finished = false;
          self.resetPage();
        } else {
          var state = option.state;
          var sceneName = null;
          if (state.stats && state.stats.sceneName) sceneName = (""+state.stats.sceneName).toLowerCase();
          var unrestorable = unrestorableScenes[sceneName];

          if (unrestorable) {
            asyncAlert(unrestorable);
            self.finished = false;
            self.resetPage();
            return;
          }

          saveCookie(function() {
            clearScreen(function() {
              restoreGame(state, null, /*userRestored*/true);
            });
          }, "", state.stats, state.temps, state.lineNum, state.indent, this.debugMode, this.nav);
        }
      }
    });
  }
  getDirtySaveList(function(dirtySaveList) {
    getSaves(function(saveList) {
      renderRestoreMenu(saveList, dirtySaveList);
    });
  });
};

Scene.prototype.restore_password = function restore_password() {
  var alreadyFinished = this.finished;
  this.finished = true;
  this.paragraph();
  this.printLine('Please paste your password here, then press "Next" below to continue.');
  this.prevLine = "text";
  this.paragraph();
  var self = this;
  var unrestorableScenes = this.parseRestoreGame(alreadyFinished);
  getPassword(this.target, function (cancel, password) {
    if (cancel) {
      self.finished = false;
      self.resetPage();
      return;
    }
    password = password.replace(/\s/g, "");
    password = password.replace(/^.*BEGINPASSWORD-----/, "");
    var token = self.deobfuscatePassword(password);
    token = token.replace(/^[^\{]*/, "");
    token = token.replace(/[^\}]*$/, "");
    var state;
    try {
      state = jsonParse(token);
    } catch (e) {
      asyncAlert("Sorry, that password was invalid. Please contact " + getSupportEmail() + " for assistance. Be sure to include your password in the email.");
      return;
    }

    var sceneName = null;
    if (state.stats && state.stats.sceneName) sceneName = (""+state.stats.sceneName).toLowerCase();

    var unrestorable = unrestorableScenes[sceneName];
    if (unrestorable) {
      asyncAlert(unrestorable);
      self.finished = false;
      self.resetPage();
      return;
    }

    saveCookie(function() {
      clearScreen(function() {
        // we're going to pretend not to be user restored, so we get reprompted to save
        restoreGame(state, null, /*userRestored*/false);
      });
    }, "", state.stats, state.temps, state.lineNum, state.indent, this.debugMode, this.nav);
  });
  if (alreadyFinished) printFooter();
};

Scene.prototype.parseRestoreGame = function parseRestoreGame(alreadyFinished) {
    if (alreadyFinished) {
      // if we're already finished, the printLoop bumped us an extra line ahead
      this.lineNum--;
      this.rollbackLineCoverage();
    }
    // nextIndent: the level of indentation after the current line
    var nextIndent = null;
    var unrestorableScenes = {};
    var line;
    var startIndent = this.indent;
    while(isDefined(line = this.lines[++this.lineNum])) {
        if (!trim(line)) {
            this.rollbackLineCoverage();
            continue;
        }
        var indent = this.getIndent(line);
        if (nextIndent === null || nextIndent === undefined) {
            // initialize nextIndent with whatever indentation the line turns out to be
            // ...unless it's not indented at all
            if (indent > startIndent) {
                this.indent = nextIndent = indent;
            }
        }
        if (indent <= startIndent) {
            // it's over!
            if (!alreadyFinished) {
              this.lineNum--;
              this.rollbackLineCoverage();
            }
            return unrestorableScenes;
        }
        if (indent != this.indent) {
            // all chart rows are supposed to be at the same indentation level
            // anything at the wrong indentation level might be a mis-indented title/definition
            // or just a typo
            throw new Error(this.lineMsg() + "invalid indent, expected "+this.indent+", was " + indent);
        }

        //
        // *restore_game
        //   ending You can't restore to the ending.

        line = trim(line);
        var result = /^(\w+)\s+(.*)/.exec(line);
        if (!result) throw new Error(this.lineMsg() + "invalid line; this line should have a scene name followed by an error message: " + line);
        var sceneName = result[1].toLowerCase();
        var error = trim(result[2]);
        unrestorableScenes[sceneName] = error;
    }
    if (!alreadyFinished) {
      this.lineNum--;
      this.rollbackLineCoverage();
    }
    return unrestorableScenes;
};

Scene.prototype.check_registration = function scene_checkRegistration() {
  if (typeof window == "undefined" || typeof isRegistered == "undefined") return;
  this.finished = true;
  this.skipFooter = true;
  var self = this;
  isRegistered(function() {
    self.finished = false;
    self.skipFooter = false;
    self.execute();
  });
};

Scene.prototype.login = function scene_login(optional) {
  if (typeof window == "undefined" || typeof loginForm == "undefined") return;
  optional = trim(optional);
  if (optional) {
    if (optional != "optional") throw new Error(this.lineMsg() + "invalid *login option: " + optional);
    optional = 1;
  }
  var self = this;
  this.finished = true;
  this.skipFooter = true;
  this.paragraph();
  var target = this.target;
  if (!target) target = document.getElementById('text');
  loginForm(target, optional, null, function() {
    clearScreen(function() {
      self.finished = false;
      self.prevLine = "empty";
      self.screenEmpty = true;
      self.execute();
    });
  });
};

Scene.prototype.save_game = function save_game(destinationSceneName) {
  if (!destinationSceneName) throw new Error(this.lineMsg()+"*save_game requires a destination file name, e.g. *save_game Episode2");
  if (this.temps.choice_user_restored) return;
  var self = this;
  this.finished = true;
  this.skipFooter = true;
  fetchEmail(function(defaultEmail){
    self.paragraph();
    var form = document.createElement("form");
    setClass(form, "saveGame");

    form.action="#";

    var message = document.createElement("div");
    message.style.color = "red";
    message.style.fontWeight = "bold";
    form.appendChild(message);

    var saveName = document.createElement("input");
    saveName.type="text";
    saveName.name="saveName";
    saveName.setAttribute("placeholder", "Type a name for your saved game");
    saveName.setAttribute("style", "font-size: 25px; width: 90%;");
    form.appendChild(saveName);

    if (_global.automaticCloudStorage) {
      println("", form);
    } else {
      println("", form);
      println("", form);
      println("Please login to the choiceofgames.com save system with your email address below.", form);

      var emailInput = document.createElement("input");
      // This can fail on IE
      try { emailInput.type="email"; } catch (e) {}
      emailInput.name="email";
      emailInput.value=defaultEmail;
      emailInput.setAttribute("placeholder", "you@example.com");
      emailInput.setAttribute("style", "font-size: 25px; width: 90%;");
      form.appendChild(emailInput);

      println("", form);
      println("", form);

      var subscribeLabel = document.createElement("label");
      subscribeLabel.setAttribute("for", "subscribeBox");
      var subscribeBox = document.createElement("input");
      subscribeBox.type = "checkbox";
      subscribeBox.name = "subscribe";
      subscribeBox.setAttribute("id", "subscribeBox");
      subscribeBox.setAttribute("checked", true);
      subscribeLabel.appendChild(subscribeBox);
      subscribeLabel.appendChild(document.createTextNode("Email me when new games are available."));
      form.appendChild(subscribeLabel);
    }

    println("", form);
    var target = this.target;
    if (!target) target = document.getElementById('text');
    target.appendChild(form);
    printButton("Next", form, true);

    printButton("Cancel", target, false, function() {
      clearScreen(function() {
        self.finished = false;
        self.prevLine = "empty";
        self.screenEmpty = true;
        self.execute();
      });
    });

    form.onsubmit = function(e) {
      preventDefault(e);
      safeCall(this, function() {
        var messageText;
        if (!trim(saveName.value)) {
          messageText = document.createTextNode("Please type a name for your saved game.");
          message.innerHTML = "";
          message.appendChild(messageText);
          return;
        }

        var slot = "save" + new Date().getTime();
        // create a clone stats object whose scene name is the destination scene
        var saveStats = {};
        for (var stat in self.stats) {
          if ("scene" == stat) continue;
          saveStats[stat] = self.stats[stat];
        }
        saveStats.scene = {name:destinationSceneName};

        if (_global.automaticCloudStorage) {
          clearScreen(function() {
            saveCookie(function() {
              recordSave(slot, function() {
                self.finished = false;
                self.prevLine = "empty";
                self.screenEmpty = true;
                self.execute();
              });
            }, slot, saveStats, {choice_reuse:"allow", choice_user_restored:true, choice_restore_name:saveName.value}, 0, 0, false, self.nav);
          });
          return;
        }

        var shouldSubscribe = subscribeBox.checked;
        var email = trim(emailInput.value);
        if (!/^\S+@\S+\.\S+$/.test(email)) {
          messageText = document.createTextNode("Sorry, \""+email+"\" is not an email address.  Please type your email address again.");
          message.innerHTML = "";
          message.appendChild(messageText);
          return;
        }
        
        recordEmail(email, function() {
          clearScreen(function() {
            saveCookie(function() {
              recordSave(slot, function() {
                startLoading();
                submitRemoteSave(slot, email, shouldSubscribe, function(ok) {
                  doneLoading();
                  if (!ok) {
                    asyncAlert("Couldn't upload your saved game to choiceofgames.com. You can try again later from the Restore menu.", function() {
                      self.finished = false;
                      self.prevLine = "empty";
                      self.screenEmpty = true;
                      self.execute();
                    });
                  } else {
                    self.finished = false;
                    self.prevLine = "empty";
                    self.screenEmpty = true;
                    self.execute();
                  }
                });
              });
            }, slot, saveStats, {choice_reuse:"allow", choice_user_restored:true, choice_restore_name:saveName.value}, 0, 0, false, self.nav);
          });
        });
      });
    };

    printFooter();
  });
};

Scene.prototype.show_password = function show_password() {
  if (this.temps.choice_user_restored) return;
  this.paragraph();
  if (typeof(window) != "undefined" && !window.isMobile) {
    this.printLine('Please copy and paste the password in a safe place, then press "Next" below to continue.');
    println("", this.target);
    println("", this.target);
  }
  var password = computeCookie(this.stats, this.temps, this.lineNum, this.indent);
  password = this.obfuscate(password);
  showPassword(this.target, password);
  this.prevLine = "block";
};

Scene.prototype.obfuscate = function obfuscate(password) {
  var self = this;
  return password.replace(/./g,
    function(x) {
      var y = self.obfuscator[x];
      return y;
    }
  );
};

// The obfuscator must take US-ASCII and obfuscate it
// for use in a password.  This password will be sent via
// HTML email and its whitespace handling will be unpredictable,
// So we can't output any of these characters: [ <>&]
// Since we're losing four characters of output, we JSON-escape
// four characters of input [^`|~].
Scene.prototype.obfuscator = {
  " ": "k",
  "!": "E",
  "\"": "`",
  "#": "\\",
  "$": "r",
  "%": "J",
  "&": "o",
  "'": "0",
  "(": "Z",
  ")": "M",
  "*": "G",
  "+": "t",
  ",": "Y",
  "-": "f",
  ".": "2",
  "/": "!",
  "0": "i",
  "1": "*",
  "2": "1",
  "3": "3",
  "4": "[",
  "5": "6",
  "6": "v",
  "7": "\"",
  "8": "F",
  "9": "9",
  ":": "{",
  ";": "Q",
  "<": "?",
  "=": "5",
  ">": "#",
  "?": "K",
  "@": "/",
  "A": "=",
  "B": "N",
  "C": "z",
  "D": "$",
  "E": "W",
  "F": "(",
  "G": ")",
  "H": "q",
  "I": "C",
  "J": "+",
  "K": "U",
  "L": ".",
  "M": "H",
  "N": "B",
  "O": "S",
  "P": "X",
  "Q": "I",
  "R": "-",
  "S": "m",
  "T": "D",
  "U": "^",
  "V": "A",
  "W": "a",
  "X": "y",
  "Y": ",",
  "Z": "d",
  "[": "O",
  "\\": "s",
  "]": "8",
  "^": "sVii6h",
  "_": "]",
  "`": "sViivi",
  "a": "4",
  "b": "g",
  "c": "%",
  "d": "w",
  "e": "h",
  "f": "n",
  "g": "b",
  "h": "7",
  "i": "x",
  "j": "~",
  "k": "_",
  "l": "l",
  "m": ":",
  "n": "c",
  "o": "L",
  "p": "j",
  "q": "u",
  "r": "R",
  "s": "}",
  "t": "p",
  "u": "V",
  "v": "P",
  "w": "'",
  "x": "T",
  "y": "|",
  "z": "@",
  "{": "e",
  "|": "sVii\"%",
  "}": ";",
  "~": "sVii\"h"
};
Scene.prototype.deobfuscator = {
  "k": " ",
  "E": "!",
  "`": "\"",
  "\\": "#",
  "r": "$",
  "J": "%",
  "o": "&",
  "0": "'",
  "Z": "(",
  "M": ")",
  "G": "*",
  "t": "+",
  "Y": ",",
  "f": "-",
  "2": ".",
  "!": "/",
  "i": "0",
  "*": "1",
  "1": "2",
  "3": "3",
  "[": "4",
  "6": "5",
  "v": "6",
  "\"": "7",
  "F": "8",
  "9": "9",
  "{": ":",
  "Q": ";",
  "?": "<",
  "5": "=",
  "#": ">",
  "K": "?",
  "/": "@",
  "=": "A",
  "N": "B",
  "z": "C",
  "$": "D",
  "W": "E",
  "(": "F",
  ")": "G",
  "q": "H",
  "C": "I",
  "+": "J",
  "U": "K",
  ".": "L",
  "H": "M",
  "B": "N",
  "S": "O",
  "X": "P",
  "I": "Q",
  "-": "R",
  "m": "S",
  "D": "T",
  "^": "U",
  "A": "V",
  "a": "W",
  "y": "X",
  ",": "Y",
  "d": "Z",
  "O": "[",
  "s": "\\",
  "8": "]",
  "]": "_",
  "4": "a",
  "g": "b",
  "%": "c",
  "w": "d",
  "h": "e",
  "n": "f",
  "b": "g",
  "7": "h",
  "x": "i",
  "~": "j",
  "_": "k",
  "l": "l",
  ":": "m",
  "c": "n",
  "L": "o",
  "j": "p",
  "u": "q",
  "R": "r",
  "}": "s",
  "p": "t",
  "V": "u",
  "P": "v",
  "'": "w",
  "T": "x",
  "|": "y",
  "@": "z",
  "e": "{",
  ";": "}"
};

Scene.prototype.deobfuscatePassword = function deobfuscatePassword(password) {
  var self = this;
  password = password.replace(/./g,
    function(x) {
      var y = self.deobfuscator[x];
      return y;
    }
  );
  return password;
};

Scene.prototype.stat_chart = function stat_chart() {
  var rows = this.parseStatChart();
  var target = this.target;
  if (!target) target = document.getElementById('text');

  if (this.prevLine == "text") println("", target);

  var barWidth = 0;
  var standardFontSize = 0;

  function fixFontSize(span1, span2) {
    if (!standardFontSize) {
      if (window.getComputedStyle) {
        standardFontSize = parseInt(getComputedStyle(document.body).fontSize, 10);
      } else if (document.body.currentStyle) {
        standardFontSize = parseInt(document.body.currentStyle.fontSize, 10);
      } else {
        standardFontSize = 16;
      }
    }
    if (!barWidth) barWidth = span1.parentNode.offsetWidth;
    var spanMaxWidth, biggestSpanWidth;
    if (span2) {
      spanMaxWidth = barWidth / 2 - 1; /* minus one as a fudge factor; why is this needed? */
      biggestSpanWidth = Math.max(span1.offsetWidth, span2.offsetWidth);
    } else {
      spanMaxWidth = barWidth;
      biggestSpanWidth = span1.offsetWidth;
    }

    if (biggestSpanWidth > spanMaxWidth) {
      span1.parentNode.style.fontSize = Math.floor(standardFontSize * spanMaxWidth / biggestSpanWidth) + "px";
    }

  }

  for (i = 0; i < rows.length; i++) {
    var row = rows[i];
    var type = row.type;
    var variable = row.variable;
    var value = this.getVar(variable);
    var label = this.replaceVariables(row.label);
    var definition = this.replaceVariables(row.definition || "");

    var statWidth, div, span, statValue;
    if (type == "text") {
      div = document.createElement("div");
      setClass(div, "statLine");
      span = document.createElement("span");
      if (trim(label) || trim(value)) {
        printx("\u00a0\u00a0"+label + ": " + value, span);
      } else {
        // unofficial line_break
        printx(" ", span);
      }
      div.appendChild(span);
      target.appendChild(div);
    } else if (type == "percent") {
      div = document.createElement("div");
      setClass(div, "statBar statLine");
      span = document.createElement("span");
      printx("\u00a0\u00a0"+label+": "+value+"%", span);
      div.appendChild(span);
      statValue = document.createElement("div");
      setClass(statValue, "statValue");
      statValue.style.width = value+"%";
      statValue.innerHTML = "&nbsp;";
      div.appendChild(statValue);
      target.appendChild(div);
      fixFontSize(span);
    } else if (type == "opposed_pair") {
      div = document.createElement("div");
      setClass(div, "statBar statLine opposed");
      span0 = document.createElement("span");
      printx("\u00a0\u00a0"+label+": "+value+"% ", span0);
      div.appendChild(span0);
      span = document.createElement("span");
      span.setAttribute("style", "float: right");
      printx(row.opposed_label+": "+(100-value)+"%\u00a0\u00a0", span);
      div.appendChild(span);
      statValue = document.createElement("div");
      setClass(statValue, "statValue");
      statValue.style.width = value+"%";
      statValue.innerHTML = "&nbsp;";
      div.appendChild(statValue);
      target.appendChild(div);
      fixFontSize(span0, span);
    } else {
      throw new Error("Bug! Parser accepted an unknown row type: " + type);
    }
  }
  this.prevLine = "block";
  this.screenEmpty = false;
};

Scene.prototype.parseStatChart = function parseStatChart() {
    // nextIndent: the level of indentation after the current line
    var nextIndent = null;
    var rows = [];
    var line, line1, line2, line2indent;
    var startIndent = this.indent;
    while(isDefined(line = this.lines[++this.lineNum])) {
        if (!trim(line)) {
            this.rollbackLineCoverage();
            continue;
        }
        var indent = this.getIndent(line);
        if (nextIndent === null || nextIndent === undefined) {
            // initialize nextIndent with whatever indentation the line turns out to be
            // ...unless it's not indented at all
            if (indent <= startIndent) {
                throw new Error(this.lineMsg() + "invalid indent, expected at least one row");
            }
            this.indent = nextIndent = indent;
        }
        if (indent <= startIndent) {
            // it's over!
            this.rollbackLineCoverage();
            this.lineNum--;
            this.rollbackLineCoverage();
            return rows;
        }
        if (indent != this.indent) {
            // all chart rows are supposed to be at the same indentation level
            // anything at the wrong indentation level might be a mis-indented title/definition
            // or just a typo
            throw new Error(this.lineMsg() + "invalid indent, expected "+this.indent+", was " + indent);
        }

        //
        // *stat_chart
        //   text wounds Wounds
        //     Definition
        //   percent Infamy Infamy
        //     Definition
        //   opposed_pair brutality
        //     Brutality
        //       Strength and cruelty
        //     Finesse
        //       Precision and aerial maneuverability
        //

        // TODO opposed_pair
        // TODO definitions
        // TODO variable substitutions
        // TODO *if/*else
        // TODO *line_break
        line = trim(line);
        var result = /^(text|percent|opposed_pair)\s+(.*)/.exec(line);
        if (!result) throw new Error(this.lineMsg() + "invalid line; this line should start with 'percent', 'text', or 'opposed_pair'");
        var type = result[1].toLowerCase();
        var data = trim(result[2]);
        if ("opposed_pair" == type) {
          this.getVar(data);
          line1 = this.lines[++this.lineNum];
          this.replaceVariables(line1);
          line1indent = this.getIndent(line1);
          if (line1indent <= this.indent) throw new Error(this.lineMsg() + "invalid indent; expected at least one indented line to indicate opposed pair name. indent: " + line1indent + ", expected greater than " + this.indent);
          line2 = this.lines[this.lineNum + 1];
          line2indent = this.getIndent(line2);
          if (line2indent <= this.indent) {
            // line1 was the only line
            rows.push({type: type, variable: data, label: data, opposed_label: trim(line1)});
          } else {
            this.lineNum++;
            this.replaceVariables(line2);
            if (line2indent == line1indent) {
              // two lines: first label, second label
              rows.push({type: type, variable: data, label: trim(line1), opposed_label: trim(line2)});
            } else if (line2indent > line1indent) {
              // line 2 is a definition; therefore the opposed_label and its definition must be on lines 3 and 4
              var line1definition = line2;
              var line3 = this.lines[++this.lineNum];
              this.replaceVariables(line3);
              var line3indent = this.getIndent(line3);
              if (line3indent != line1indent) throw new Error(this.lineMsg() + "invalid indent; this line should be the opposing label name. expected " + line1indent + " was " + line3indent);
              var line4 = this.lines[++this.lineNum];
              this.replaceVariables(line4);
              var line4indent = this.getIndent(line4);
              if (line4indent != line2indent) throw new Error(this.lineMsg() + "invalid indent; this line should be the opposing label definition. expected " + line2indent + " was " + line4indent);
              rows.push({type: type, variable: data, label: trim(line1), definition:trim(line2), opposed_label: trim(line3), opposed_definition: trim(line4)});
            } else {
              throw new Error(this.lineMsg() + "invalid indent; expected a second line with indent " + line1indent + " to match line " + this.lineNum + ", or else no more opposed_pair lines");
            }
          }
        } else {
          var variable, label;
          if (!/ /.test(data)) {
            variable = data;
            label = data;
          } else {
            result = /^(\S+) (.*)/.exec(data);
            if (!result) throw new Error(this.lineMsg() + "Bug! can't find a space when a space was found");
            variable = result[1];
            label = result[2];
          }
          this.getVar(variable);
          this.replaceVariables(label);
          line2 = this.lines[this.lineNum + 1];
          line2indent = this.getIndent(line2);
          if (line2indent <= this.indent) {
            // No definition line
            rows.push({type: type, variable: variable, label: label});
          } else {
            this.lineNum++;
            this.replaceVariables(line2);
            rows.push({type: type, variable: variable, label: label, definition: trim(line2)});
          }
        }
    }
    return rows;
};

Scene.prototype.delay_break = function(durationInSeconds) {
  if (isNaN(durationInSeconds * 1)) throw new Error(this.lineMsg() + "invalid duration");
  this.finished = true;
  this.skipFooter = true;
  var target = this.target;
  if (!target) {
    target = document.createElement("p");
    document.getElementById('text').appendChild(target);
  }
  var self = this;
  delayBreakStart(function(delayStart) {
    var endTimeInSeconds = durationInSeconds * 1 + delayStart * 1;
    showTicker(target, endTimeInSeconds, function() {
      printButton("Next", target, false, function() {
        delayBreakEnd();
        self.finished = false;
        self.resetPage();
      });
    });
    printFooter();
  });
};

Scene.prototype.delay_ending = function(data) {
  var args = data.split(/ /);
  var durationInSeconds = args[0];
  var fullPriceGuess = args[1];
  var singleUsePriceGuess = args[2];
  if (isNaN(durationInSeconds * 1)) throw new Error(this.lineMsg() + "invalid duration");
  if (!/^\$/.test(fullPriceGuess)) throw new Error(this.lineMsg() + "invalid fullPriceGuess: \""+fullPriceGuess+"\"");
  if (singleUsePriceGuess && !/^\$/.test(singleUsePriceGuess)) throw new Error(this.lineMsg() + "invalid singleUsePriceGuess: \""+singleUsePriceGuess+"\"");
  this.finished = true;
  this.skipFooter = true;
  var self = this;
  checkPurchase("adfree", function(ok, result) {
    if (result.adfree || !result.billingSupported || (typeof window != "undefined" && window.isWeb)) {
      self.ending();
      return;
    }
    getPrice("adfree", function (fullPrice) {
      if (fullPrice == "guess") fullPrice = fullPriceGuess;
      getPrice("skiponce", function (singleUsePrice) {
        if (singleUsePrice == "guess") singleUsePrice = singleUsePriceGuess;

        options = [];
        var finishedWaiting = {name: "Play again after a short wait. ", unselectable: true};
        options.push(finishedWaiting);
        var upgradeSkip = {name: "Upgrade to the unlimited version for " + fullPrice + " to skip the wait forever."};
        options.push(upgradeSkip);
        var skipOnce = {name: "Skip the wait one time for " + singleUsePrice + "."};
        if (singleUsePriceGuess) options.push(skipOnce);
        var restorePurchasesOption = {name: "Restore purchases from another device."};
        if (isRestorePurchasesSupported()) options.push(restorePurchasesOption);
        var playMoreGames = {name: "Play more games like this."};
        options.push(playMoreGames);
        var emailMe = {name: "Email me when new games are available."};
        options.push(emailMe);
        
        self.paragraph();
        printOptions([""], options, function(option) {
          if (option == playMoreGames) {
            self.more_games("now");
            if (typeof curl != "undefined") curl();
          } else if (option == emailMe) {
            subscribeLink();
          } else if (option == upgradeSkip) {
            purchase("adfree", function() {
              safeCall(self, function() {
                self.restart();
              });
            });
          } else if (option == skipOnce) {
            purchase("skiponce", function() {
              safeCall(self, function() {
                self.restart();
              });
            });
          } else if (option == restorePurchasesOption) {
            restorePurchases(function() {
              clearScreen(loadAndRestoreGame);
            });
          } else {
            self.restart();
          }
        });

        var target = document.getElementById("0").parentElement;

        delayBreakStart(function(delayStart) {
          var endTimeInSeconds = durationInSeconds * 1 + delayStart * 1;
          showTicker(target, endTimeInSeconds, function() {
            clearScreen(function() {
              self.ending();
            });
          });
          printFooter();
        });
      });
    });
  });

};

// *if booleanExpr
// execute different code depending on whether the booleanExpr is true or false
//
// Examples:
// *if bool-expression
//     blah
//     blah
// *elseif bool-expression
//     blah
//     blah
// *else
//     blah
//     blah
// bool-expression
//     by reference
//         *set foo true
//         *if foo ...
//     equality
//         foo=2
//         foo="blah"
//         2="2"
//             true
//     inequality
//         foo>2
//         foo<2
//         foo<=2
//         foo>=2
//     and/or logic, parentheses mandatory
//         (foo=2) or (foo=3)
//         ((foo>4) and (foo<8)) or (bar=0)
//
// NOTE: *if commands may be used inside *choices, to make some choices conditionally available
Scene.prototype["if"] = function scene_if(line) {
    var stack = this.tokenizeExpr(line);
    var result = this.evaluateExpr(stack);
    if (this.debugMode) println(line + " :: " + result);
    result = bool(result, this.lineNum+1);
    if (result) {
        // "true" branch, just go on to the next line
        this.indent = this.getIndent(this.nextNonBlankLine());
    } else {
        // "false" branch; skip over the true branch
        this.skipTrueBranch(false);
    }
};

// TODO Rename this function to just skipBranch
Scene.prototype.skipTrueBranch = function skipTrueBranch(inElse) {
  var startIndent = this.indent;
  var nextIndent = null;
  while (isDefined(line = this.lines[++this.lineNum])) {
      this.rollbackLineCoverage();
      if (!trim(line)) continue;
      var indent = this.getIndent(line);
      if (nextIndent === null || nextIndent === undefined) {
          if (indent <= startIndent) throw new Error(this.lineMsg() + "invalid indent, expected at least one line in 'if' true block");
          nextIndent = indent;
      }
      if (indent <= startIndent) {
          // true block is over
          var parsed;
          // check to see if this is an *else or *elseif
          if (indent == startIndent) parsed = /^\s*\*(\w+)(.*)/.exec(line);
          if (!parsed || inElse) {
              this.lineNum--;
              this.rollbackLineCoverage();
              this.indent = indent;
              return;
          }
          var command = parsed[1].toLowerCase();
          var data = trim(parsed[2]);
          if ("else" == command) {
              if (data) {
                if (/^if\b/.test(data)) {
                  throw new Error(this.lineMsg() + "'else if' is invalid, use 'elseif'");
                }
                throw new Error(this.lineMsg() + "nothing should appear on a line after 'else': " + data);
              }
              this.lineNum = this.lineNum; // code coverage
              // go on to the next line
              this.indent = this.getIndent(this.nextNonBlankLine());
          } else if (/^else?if$/.test(command)) {
              this.lineNum = this.lineNum; // code coverage
              this["if"](data);
          } else {
              this.lineNum--;
              this.rollbackLineCoverage();
              this.indent = this.getIndent(this.nextNonBlankLine());
          }
          return;
      }
      if (indent < nextIndent) {
          // *if foo
          //      foo
          //    bar
          throw new Error(this.lineMsg() + "invalid indent, expected "+nextIndent+", was " + indent);
      }
  }
};

Scene.prototype["else"] = Scene.prototype.elsif = Scene.prototype.elseif = function scene_else(data, inChoice) {
    if (inChoice) {
      this.skipTrueBranch(true);
      return;
    }
    throw new Error(this.lineMsg() + "It is illegal to fall in to an *else statement; you must *goto or *finish before the end of the indented block.");
};

// break the string up into a stack of tokens, defined in Scene.tokens below
Scene.prototype.tokenizeExpr = function tokenizeExpr(str) {
    var stack = [];
    var tokenTypes = Scene.tokens;
    var tokenTypesLength = tokenTypes.length;
    var pos = 0;
    while (str) {
        var matched = false;
        for (var i = 0; i < tokenTypesLength; i++) {
            var tokenType = tokenTypes[i];
            var token = tokenType.test(str, this.lineNum+1);
            if (token) {
                matched = true;
                str = str.substr(token.length);
                pos += token.length;
                if ("WHITESPACE" == tokenType.name) {
                    break;
                }
                stack.push({name:tokenType.name, value:token, pos:pos});
                break;
            }
        }
        if (!matched) throw new Error(this.lineMsg()+"Invalid expression, couldn't extract another token: " + str);
    }
    return stack;
};

// evaluate the stack of tokens
// parenthetical == true if we're evaluating a parenthetical expression
// all expressions consist of either a "singleton" value (2) or two values and one operator (2+2)
Scene.prototype.evaluateExpr = function evaluateExpr(stack, parenthetical) {
    if (!stack.length) {
        throw new Error(this.lineMsg() + "no expression specified");
    }
    var self = this;
    function getToken() {
        var token = stack.shift();
        if (!token) throw new Error(self.lineMsg() + "null token");
        return token;
    }

    var token, value1, value2, operator, result;

    value1 = this.evaluateValueToken(getToken(), stack);

    if (!stack.length) {
        if (parenthetical) {
            throw new Error(this.lineMsg() + "Invalid expression, expected final closing parenthesis");
        }
        return value1;
    }

    token = getToken();

    if (parenthetical && parenthetical == token.name) {
        return value1;
    }

    // Since this isn't a singleton, it must be an operator
    operator = Scene.operators[token.value];
    if (!operator) throw new Error(this.lineMsg() + "Invalid expression at char "+token.pos+", expected OPERATOR, was: " + token.name + " [" + token.value + "]");

    // fetch the final value
    value2 = this.evaluateValueToken(getToken(), stack);

    // and do the operator
    result = operator(value1, value2, this.lineNum+1);

    if (parenthetical) {
        // expect close parenthesis
        if (stack.length) {
            token = getToken();
            if (parenthetical == token.name) {
                return result;
            } else {
                throw new Error(this.lineMsg() + "Invalid expression at char "+token.pos+", expected closing parenthesis, was: " + token.name + " [" + token.value + "]");
            }
        } else {
            throw new Error(this.lineMsg() + "Invalid expression, expected final closing parenthesis");
        }
    } else {
        // if not parenthetical, expect no more tokens
        if (stack.length) {
            token = getToken();
            throw new Error(this.lineMsg() + "Invalid expression at char "+token.pos+", expected no more tokens, found: " + token.name + " [" + token.value + "]");
        } else {
            return result;
        }
    }
    throw new Error(this.lineMsg() + "bug, how did I get here?");
};

// turn a number, string, or var token into its value
// or, if this is an open parenthesis, evaluate the parenthetical expression
Scene.prototype.evaluateValueToken = function evaluateValueToken(token, stack) {
    var name = token.name;
    var value;
    if ("OPEN_PARENTHESIS" == name) {
        return this.evaluateExpr(stack, "CLOSE_PARENTHESIS");
    } else if ("OPEN_CURLY" == name) {
        value = this.evaluateExpr(stack, "CLOSE_CURLY");
        return this.getVar(value);
    } else if ("FUNCTION" == name) {
        var functionName = /^\w+/.exec(token.value)[0];
        if (!this.functions[functionName]) throw new Error(this.lineMsg + "Unknown function " + functionName);
        value = this.evaluateExpr(stack, "CLOSE_PARENTHESIS");
        return this.functions[functionName].call(this, value);
    } else if ("NUMBER" == name) {
        return token.value;
    } else if ("STRING" == name) {
        // strip off the quotes and unescape backslashes
        return this.replaceVariables(token.value.slice(1,-1).replace(/\\(.)/g, "$1"));
    } else if ("VAR" == name) {
        return this.getVar(token.value);
    } else {
        throw new Error(this.lineMsg() + "Invalid expression at char "+token.pos+", expected NUMBER, STRING, VAR or PARENTHETICAL, was: " + name + " [" + token.value + "]");
    }
};

Scene.prototype.functions = {
  not: function(value) {
    return !bool(value, this.lineNum+1);
  },
  round: function(value) {
    if (isNaN(value*1)) throw new Error(this.lineMsg()+"round() value is not a number: " + value);
    return Math.round(value);
  },
  timestamp: function(value) {
    return Date.parse(value)/1000;
  },
  log: function(value) {
    if (isNaN(value*1)) throw new Error(this.lineMsg()+"log() value is not a number: " + value);
    return Math.log(value)/Math.log(10);
  }
};

Scene.prototype.evaluateValueExpr = function evaluateValueExpr(expr) {
    var stack = this.tokenizeExpr(expr);
    var token = stack.shift();
    if (!token) throw new Error(this.lineMsg() + "null token");
    var value = this.evaluateValueToken(token, stack);
    if (stack.length) {
        token = stack.shift();
        if (!token) throw new Error(this.lineMsg() + "null token");
        throw new Error(this.lineMsg() + "Invalid expression at char "+token.pos+", expected no more tokens, found: " + token.name + " [" + token.value + "]");
    }
    return value;
};

Scene.prototype.goto_random_scene = function gotoRandomScene(data) {
  var parsed = this.parseGotoRandomScene(data);
  var allowReuseGlobally = /\ballow_reuse\b/.test(data);
  var allowNoSelection = /\ballow_no_selection\b/.test(data);
  var option = this.computeRandomSelection(Math.random(), parsed, allowReuseGlobally);

  if (option) {
    this.goto_scene(option.name);
  } else {
    if (allowNoSelection) {
      return;
    } else {
      throw new Error(this.lineMsg() + "No selectable scenes");
    }
  }

};

Scene.prototype.parseGotoRandomScene = function parseGotoRandomScene(data) {
    data = data || "";
    var directives = data.split(" ");
    var allowReuseGlobally = false;
    var allowNoSelection = false;
    for (var i = 0; i < directives; i++) {
      var directive = trim(directives[i]);
      if (!directive) continue;
      if (directive == "allow_reuse") {
        allowReuseGlobally = true;
      } else if (directive == "allow_no_selection") {
        allowNoSelection = true;
      } else {
        throw new Error(this.lineMsg() + "invalid command: '" + directive + "'");
      }
    }

    // nextIndent: the level of indentation after the current line
    var nextIndent = null;
    var options = [];
    var line;
    var startIndent = this.indent;
    while(isDefined(line = this.lines[++this.lineNum])) {
        if (!trim(line)) {
            this.rollbackLineCoverage();
            continue;
        }
        var indent = this.getIndent(line);
        if (nextIndent === null || nextIndent === undefined) {
            // initialize nextIndent with whatever indentation the line turns out to be
            // ...unless it's not indented at all
            if (indent <= startIndent) {
                throw new Error(this.lineMsg() + "invalid indent, expected at least one line in *goto_random_scene");
            }
            this.indent = nextIndent = indent;
        }
        if (indent <= startIndent) {
            // it's over!
            this.rollbackLineCoverage();
            this.lineNum--;
            this.rollbackLineCoverage();
            break;
        }
        if (indent != this.indent) {
            // all chart rows are supposed to be at the same indentation level
            // anything at the wrong indentation level might be a mis-indented title/definition
            // or just a typo
            throw new Error(this.lineMsg() + "invalid indent, expected "+this.indent+", was " + indent);
        }
        line = trim(line);

        var option = {allowReuse:allowReuseGlobally};
        var command;
        while(!!(command = /^\*(\S+)/.exec(line))) {
          command = command[1];
          if ("allow_reuse" == command) {
            option.allowReuse = true;
            line = trim(line.substring("*allow_reuse".length));
            command = /^\*(\S+)/.exec(line);
            continue;
          } else if ("if" == command) {
            var conditional = /^\*if\s+\((.+)\)\s+([^\)]+)/.exec(line);
            if (!conditional) throw new Error(this.lineMsg() + " invalid *if, expected () followed by scene name: " + line);
            line = conditional[2];
            var stack = this.tokenizeExpr(conditional[1]);
            this.evaluateExpr(stack);
            option.conditional = conditional[1];
          } else {
            throw new Error(this.lineMsg() + " invalid command: " + line);
          }
        }
        // TODO weights
        option.name = trim(line);
        options.push(option);
    }
    return options;
};

Scene.prototype.computeRandomSelection = function computeRandomSelection(randomFloat, options, allowReuseGlobally) {
  var filtered = [];
  var finished = {};
  if (!allowReuseGlobally) {
    if (!this.stats.choice_grs) this.stats.choice_grs = [];
  }
  var grs = this.stats.choice_grs;
  for (var i = 0; i < grs.length; i++) {
    finished[grs[i]] = 1;
  }
  var option;
  for (i = 0; i < options.length; i++) {
    option = options[i];
    if (!option.allowReuse) {
      if (finished[option.name]) continue;
    }
    if (option.conditional) {
      var stack = this.tokenizeExpr(option.conditional);
      var pass = this.evaluateExpr(stack);
      if (!pass) continue;
    }
    filtered.push(option);
  }
  if (!filtered.length) return null;
  // TODO weights
  var randomSelection = Math.floor(randomFloat*filtered.length);
  option = filtered[randomSelection];
  if (!option.allowReuse) {
    this.stats.choice_grs.push(option.name);
  }
  return option;
};

Scene.prototype.end_trial = function endTrial() {
  this.paragraph();
  printLink(this.target, "#", "Start Over from the Beginning", function(e) {
    preventDefault(e);
    return restartGame("prompt");
  });
  this.prevLine = "block";
  this.screenEmpty = false;
  this.finished = true;
};

Scene.prototype.achieve = function scene_achieve(name) {
  name = name.toLowerCase();
  if (!this.nav.achievements.hasOwnProperty(name)) {
    throw new Error(this.lineMsg() + "the achievement name "+name+" was not declared as an *achievement in startup");
  }
  var achievement = this.nav.achievements[name];
  this.nav.achieved[name] = true;
  if (typeof window != "undefined" && typeof achieve != "undefined") {
    achieve(name, achievement.title, achievement.earnedDescription);
  }
};

Scene.prototype.check_achievements = function scene_checkAchievements() {
  var self = this;
  function callback(immediately) {
    for (var achievement in nav.achievements) {

      self.temps["choice_achieved_"+achievement] = nav.achieved.hasOwnProperty(achievement);
    }
    if (!immediately) {
      self.finished = false;
      self.skipFooter = false;
      self.execute();
    }
  }
  if (typeof checkAchievements == "undefined") {
    callback("immediately");
  } else {
    this.finished = true;
    this.skipFooter = true;
    checkAchievements(callback);
  }
};

Scene.prototype.scene_list = function scene_list() {
  var scenes = this.parseSceneList();
  this.nav.setSceneList(scenes);
};

Scene.prototype.parseSceneList = function parseSceneList() {
  var nextIndent = null;
  var scenes = [];
  var line;
  var startIndent = this.indent;
  while(isDefined(line = this.lines[++this.lineNum])) {
      if (!trim(line)) {
          this.rollbackLineCoverage();
          continue;
      }
      var indent = this.getIndent(line);
      if (nextIndent === null || nextIndent === undefined) {
          // initialize nextIndent with whatever indentation the line turns out to be
          // ...unless it's not indented at all
          if (indent <= startIndent) {
              throw new Error(this.lineMsg() + "invalid indent, expected at least one row");
          }
          this.indent = nextIndent = indent;
      }
      if (indent <= startIndent) {
          // it's over!
          this.rollbackLineCoverage();
          this.lineNum--;
          this.rollbackLineCoverage();
          return scenes;
      }
      if (indent != this.indent) {
          // all scenes are supposed to be at the same indentation level
          throw new Error(this.lineMsg() + "invalid indent, expected "+this.indent+", was " + indent);
      }

      line = trim(line);
      var purchaseMatch = /^\$(\w*)\s+(.*)/.exec(line);
      if (purchaseMatch) {
        line = purchaseMatch[2];
      }
      if (!scenes.length && "startup" != line) scenes.push("startup");
      scenes.push(line);
  }
  return scenes;
};

Scene.prototype.title = function scene_title(title) {
  if (typeof changeTitle != "undefined") {
    changeTitle(title);
  }
};

Scene.prototype.author = function scene_author(author) {
  if (typeof changeAuthor != "undefined") {
    changeAuthor(author);
  }
};

// *achievement name hidden|visible 100 Achievement Title
//     Earned description
//     Pre-earned description
Scene.prototype.achievement = function scene_achievement(data) {
  var parsed = /(\S+)\s+(\S+)\s+(\S+)\s+(.*)/.exec(data);
  if (!parsed) throw new Error(this.lineMsg() + "Invalid *achievement, requires short name, visibility, points, and display title: " + data);
  var achievementName = parsed[1].toLowerCase();
  if (!/[a-z]+/.test(achievementName)) throw new Error(this.lineMsg()+"Invalid achievement name: " +achievementName);

  
  if (this.nav.achievements.hasOwnProperty(achievementName)) {
    // this achievement already exists...
    if (!this.nav.achievements[achievementName].lineNumber) {
      // blow away pre-existing mygame.js achievements
      this.nav.achievements = {};
      this.nav.achievementList = [];
    } else if (this.nav.achievements[achievementName].lineNumber != (this.lineNum+1)) {
      // don't allow redefining achievements
      // restarting/randomtest will naturally re-run *achievements; ignore those
      throw new Error(this.lineMsg()+"Achievement "+achievementName+" already defined on line " + this.nav.achievements[achievementName].lineNumber);
    }
  }

  var lineNumber = this.lineNum+1;
  var visibility = parsed[2];
  if (visibility != "hidden" && visibility != "visible") {
    throw new Error(this.lineMsg()+"Invalid *achievement, the second word should be either 'hidden' or 'visible': " +visibility);
  }
  var visible = (visibility != "hidden");
  var pointString = parsed[3];
  if (!/[1-9][0-9]*/.test(pointString)) {
    throw new Error(this.lineMsg()+"Invalid *achievement, the third word should be an integer number of points: " + pointString);
  }
  var points = parseInt(pointString, 10);
  if (points > 100) throw new Error(this.lineMsg()+"Invalid *achievement, no achievement may be worth more than 100 points: " + points);
  if (!this.achievementTotal) this.achievementTotal = 0;
  this.achievementTotal += points;
  if (this.achievementTotal > 1000) {
    throw new Error(this.lineMsg()+"Invalid achievements. Adding " + points + " would add up to more than 1,000 points: " + this.achievementTotal);
  }
  var title = parsed[4];
  if (/(\$\{)/.test(title)) throw new Error(this.lineMsg()+"Invalid *achievement. ${} not permitted in achievement title: " + title);
  if (/(\[)/.test(title)) throw new Error(this.lineMsg()+"Invalid *achievement. [] not permitted in achievement title: " + title);

  // Get the description from the next indented line
  var line = this.lines[++this.lineNum];
  var indent = this.getIndent(line);
  if (!indent) {
    throw new Error(this.lineMsg()+"Invalid *achievement. An indented description is required.");
  }
  var preEarnedDescription = trim(line);
  if (/(\$\{)/.test(preEarnedDescription)) throw new Error(this.lineMsg()+"Invalid *achievement. ${} not permitted in achievement description: " + preEarnedDescription);
  if (/(\[)/.test(preEarnedDescription)) throw new Error(this.lineMsg()+"Invalid *achievement. [] not permitted in achievement description: " + preEarnedDescription);

  if (!visible) {
    if (preEarnedDescription.toLowerCase() != "hidden") throw new Error(this.lineMsg()+"Invalid *achievement. Hidden achievements must set their pre-earned description to 'hidden'.");
  }

  // Optionally get a post-earned description from the next line
  var postEarnedDescription = null;
  while(isDefined(line = this.lines[++this.lineNum])) {
    if (trim(line)) break;
    this.rollbackLineCoverage();
  }
  indent = this.getIndent(line);
  if (indent) {
    postEarnedDescription = trim(line);
    if (/(\$\{)/.test(postEarnedDescription)) throw new Error(this.lineMsg()+"Invalid *achievement. ${} not permitted in achievement description: " + postEarnedDescription);
    if (/(\[)/.test(postEarnedDescription)) throw new Error(this.lineMsg()+"Invalid *achievement. [] not permitted in achievement description: " + postEarnedDescription);
  } else {
    // No indent means the next line is not a post-earned description
    this.rollbackLineCoverage();
    this.lineNum--;
    this.rollbackLineCoverage();
  }

  if (!postEarnedDescription) {
    if (!visible) throw new Error(this.lineMsg()+"Invalid *achievement. Hidden achievements must set a post-earned description.");
    postEarnedDescription = preEarnedDescription;
  }

  if (!this.nav.achievements.hasOwnProperty(achievementName)) {
    this.nav.achievementList.push(achievementName);
    if (this.nav.achievementList.length > 100) {
      throw new Error(this.lineMsg()+"Too many *achievements. Each game can have up to 100 achievements.");
    }
  }
  this.nav.achievements[achievementName] = {
    visible: visible,
    points: points,
    title: title,
    earnedDescription: postEarnedDescription,
    preEarnedDescription: preEarnedDescription,
    lineNumber: lineNumber
  };

  if (typeof setButtonTitles != "undefined") setButtonTitles();
};


Scene.prototype.bug = function scene_bug(message) {
  if (message) {
    message = "Bug: " + this.replaceVariables(message);
  } else {
    message = "Bug";
  }
  throw new Error(this.lineMsg() + message);
};

Scene.prototype.lineMsg = function lineMsg() {
    return this.name + " line " + (this.lineNum+1) + ": ";
};

Scene.prototype.rollbackLineCoverage = function() {};

Scene.baseUrl = "scenes";
Scene.regexpMatch = function regexpMatch(str, re) {
    var result = re.exec(str);
    if (!result) return null;
    return result[0];
};
// Each token has a name and a test, which returns the matching string
Scene.tokens = [
    {name:"OPEN_PARENTHESIS", test:function(str){ return Scene.regexpMatch(str,/^\(/); } },
    {name:"CLOSE_PARENTHESIS", test:function(str){ return Scene.regexpMatch(str,/^\)/); } },
    {name:"OPEN_CURLY", test:function(str){ return Scene.regexpMatch(str,/^\{/); } },
    {name:"CLOSE_CURLY", test:function(str){ return Scene.regexpMatch(str,/^\}/); } },
    {name:"FUNCTION", test:function(str){ return Scene.regexpMatch(str,/^(not|round|timestamp|log)\s*\(/); } },
    {name:"NUMBER", test:function(str){ return Scene.regexpMatch(str,/^\d+(\.\d+)?/); } },
    {name:"STRING", test:function(str, line) {
            var i;
            if (!/^\"/.test(str)) return null;
            for (i = 1; i < str.length; i++) {
                var x = str.charAt(i);
                if ("\\" == x) {
                    i++;
                } else if ('"' == x) {
                    return str.substring(0,i+1);
                }
            }
            throw new Error("line "+line+": Invalid string, open quote with no close quote: " + str);
        }
    },
    {name:"WHITESPACE", test:function(str){ return Scene.regexpMatch(str,/^\s+/); } },
    {name:"BOOLEAN_OPERATOR", test:function(str){ return Scene.regexpMatch(str,/^(and|or)\b/); } },
    {name:"VAR", test:function(str){ return Scene.regexpMatch(str,/^[a-zA-Z]\w*/); } },
    {name:"FAIRMATH", test:function(str){ return Scene.regexpMatch(str,/^%[\+\-]/); } },
    {name:"OPERATOR", test:function(str){ return Scene.regexpMatch(str,/^[\+\-\*\/\&\%\^]/); } },
    {name:"INEQUALITY", test:function(str){ return Scene.regexpMatch(str,/^[\!<>]\=?/); } },
    {name:"EQUALITY", test:function(str){ return Scene.regexpMatch(str,/^=/); } }
    //
];
Scene.operators = {
    "+": function add(v1,v2,line) { return num(v1,line) + num(v2,line); },
    "-": function subtract(v1,v2,line) { return num(v1,line) - num(v2,line); },
    "*": function multiply(v1,v2,line) { return num(v1,line) * num(v2,line); },
    "/": function divide(v1,v2,line) { return num(v1,line) / num(v2,line); },
    "%": function modulo(v1,v2,line) { return num(v1,line) % num(v2,line); },
    "^": function exponent(v1,v2,line) { return Math.pow(num(v1,line), num(v2,line)); },
    "&": function concatenate(v1,v2) { return [v1,v2].join(""); },
    "%+": function fairAdd(v1, v2, line) {
        v1 = num(v1,line);
        v2 = num(v2,line);
        var validValue = (v1 >= 0 && v1 <= 100);
        if (!validValue) {
            throw new Error("line "+line+": Can't fairAdd to non-percentile value: " + v1);
        }
        var multiplier = (100 - v1) / 100;
        var actualModifier = v2 * multiplier;
        var value = 1 * v1 + actualModifier;
        value = Math.floor(value);
        if (value > 99) value = 99;
        return value;
    },
    "%-": function fairSubtract(v1, v2, line) {
        v1 = num(v1,line);
        v2 = num(v2,line);
        var validValue = (v1 >= 0 && v1 <= 100);
        if (!validValue) {
            throw new Error("line "+line+": Can't fairAdd to non-percentile value: " + v1);
        }
        var multiplier = v1 / 100;
        var actualModifier = v2 * multiplier;
        var value = v1 - actualModifier;
        value = Math.ceil(value);
        if (value < 1) value = 1;
        return value;
    },
    "=": function equals(v1,v2) { return v1 == v2; },
    "<": function lessThan(v1,v2,line) {
        return num(v1,line) < num(v2,line); },
    ">": function greaterThan(v1,v2,line) { return num(v1,line) > num(v2,line); },
    "<=": function lessThanOrEquals(v1,v2,line) { return num(v1,line) <= num(v2,line); },
    ">=": function greaterThanOrEquals(v1,v2,line) { return num(v1,line) >= num(v2,line); },
    "!=": function notEquals(v1,v2) { return v1 != v2; },
    "and": function and(v1, v2, line) {
        return bool(v1,line) && bool(v2,line);
    },
    "or": function or(v1, v2, line) {
        return bool(v1,line) || bool(v2,line);
    }
};

Scene.initialCommands = {"create":1,"scene_list":1,"title":1,"author":1,"comment":1,"achievement":1};

Scene.validCommands = {"comment":1, "goto":1, "gotoref":1, "label":1, "looplimit":1, "finish":1, "abort":1,
    "choice":1, "create":1, "temp":1, "delete":1, "set":1, "setref":1, "print":1, "if":1, "rand":1,
    "page_break":1, "line_break":1, "script":1, "else":1, "elseif":1, "elsif":1, "reset":1,
    "goto_scene":1, "fake_choice":1, "input_text":1, "ending":1, "share_this_game":1, "stat_chart":1,
    "subscribe":1, "show_password":1, "gosub":1, "return":1, "hide_reuse":1, "disable_reuse":1, "allow_reuse":1,
    "check_purchase":1,"restore_purchases":1,"purchase":1,"restore_game":1,"advertisement":1,
    "save_game":1,"delay_break":1,"image":1,"link":1,"input_number":1,"goto_random_scene":1,
    "restart":1,"more_games":1,"delay_ending":1,"end_trial":1,"login":1,"achieve":1,"scene_list":1,"title":1,
    "bug":1,"link_button":1,"check_registration":1,"sound":1,"author":1,"gosub_scene":1,"achievement":1,
    "check_achievements":1,"redirect_scene":1
    };
</script><script>/*
 * Copyright 2010 by Dan Fabulich.
 * 
 * Dan Fabulich licenses this file to you under the
 * ChoiceScript License, Version 1.0 (the "License"); you may
 * not use this file except in compliance with the License. 
 * You may obtain a copy of the License at
 * 
 *  http://www.choiceofgames.com/LICENSE-1.0.txt
 * 
 * See the License for the specific language governing
 * permissions and limitations under the License.
 * 
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied.
 */
function SceneNavigator(sceneList) {
    this.setSceneList(sceneList);
    this.startingStats = {};
}

SceneNavigator.prototype.setSceneList = function setSceneList(sceneList) {
    this._sceneList = sceneList;
    this._sceneMap = {};
    for (var i = 0; i < sceneList.length-1; i++) {
        var scene1 = sceneList[i];
        var scene2 = sceneList[i+1];
        this._sceneMap[scene1] = scene2;
    }
    this._startupScene = sceneList[0];
};

SceneNavigator.prototype.nextSceneName = function nextSceneName(currentSceneName) {
    var nextScene = this._sceneMap[currentSceneName];
    //if (!nextScene) throw new Error("No scene follows " + currentSceneName);
    return nextScene;
};

SceneNavigator.prototype.getStartupScene = function getStartupScene() {
    return this._startupScene;
};

SceneNavigator.prototype.setStartingStatsClone = function setStartingStatsClone(stats) {
  this.startingStats = {};
  for (var i in stats) {
    this.startingStats[i] = stats[i];
  }
};

SceneNavigator.prototype.resetStats = function resetStats(stats) {
  for (var i in stats) {
    delete stats[i];
  }
  for (i in this.startingStats) {
    stats[i] = this.startingStats[i];
  }
  this.bugLog = [];
};

SceneNavigator.prototype.repairStats = function repairStats(stats) {
  for (var i in this.startingStats) {
    var startingStat = this.startingStats[i];
    if (startingStat === null || startingStat === undefined) continue;
    if (typeof(stats[i]) === "undefined" || stats[i] === null) {
      stats[i] = this.startingStats[i];
    }
  }
};

SceneNavigator.prototype.bugLog = [];
SceneNavigator.prototype.achievements = {};
SceneNavigator.prototype.achievementList = [];
SceneNavigator.prototype.achieved = {};

SceneNavigator.prototype.loadAchievements = function(achievementArray) {
  if (!achievementArray) return;
  for (var i = 0; i < achievementArray.length; i++) {
    var achievement = achievementArray[i];
    var achievementName = achievement[0];
    var visible = achievement[1];
    var points = achievement[2];
    var title = achievement[3];
    var earnedDescription = achievement[4];
    var preEarnedDescription = achievement[5];
    this.achievements[achievementName] = {
      visible: visible,
      points: points,
      title: title,
      earnedDescription: earnedDescription,
      preEarnedDescription: preEarnedDescription
    };
    this.achievementList.push(achievementName);
  }
};</script><script>nav = new SceneNavigator(["startup"]);
stats = {};

</script><style>.alertify-show,
.alertify-log {
	-webkit-transition: all 500ms cubic-bezier(0.175, 0.885, 0.320, 1); /* older webkit */
	-webkit-transition: all 500ms cubic-bezier(0.175, 0.885, 0.320, 1.275);
	   -moz-transition: all 500ms cubic-bezier(0.175, 0.885, 0.320, 1.275);
	    -ms-transition: all 500ms cubic-bezier(0.175, 0.885, 0.320, 1.275);
	     -o-transition: all 500ms cubic-bezier(0.175, 0.885, 0.320, 1.275);
	        transition: all 500ms cubic-bezier(0.175, 0.885, 0.320, 1.275); /* easeOutBack */
}
.alertify-hide {
	-webkit-transition: all 250ms cubic-bezier(0.600, 0, 0.735, 0.045); /* older webkit */
	-webkit-transition: all 250ms cubic-bezier(0.600, -0.280, 0.735, 0.045);
	   -moz-transition: all 250ms cubic-bezier(0.600, -0.280, 0.735, 0.045);
	    -ms-transition: all 250ms cubic-bezier(0.600, -0.280, 0.735, 0.045);
	     -o-transition: all 250ms cubic-bezier(0.600, -0.280, 0.735, 0.045);
	        transition: all 250ms cubic-bezier(0.600, -0.280, 0.735, 0.045); /* easeInBack */
}
.alertify-cover {
	position: fixed; z-index: 99999;
	top: 0; right: 0; bottom: 0; left: 0;
}
.alertify {
	position: fixed; z-index: 99999;
	top: 50px; left: 50%;
	width: 550px;
	margin-left: -275px;
}
	.alertify-hidden {
		top: -50px;
		visibility: hidden;
	}
.alertify-logs {
	position: fixed;
	z-index: 5000;
	bottom: 10px;
	right: 10px;
	width: 300px;
}
	.alertify-log {
		display: block;
		margin-top: 10px;
		position: relative;
		right: -300px;
	}
	.alertify-log-show {
		right: 0;
	}
	.alertify-dialog {
		padding: 25px;
	}
		.alertify-resetFocus {
			border: 0;
			clip: rect(0 0 0 0);
			height: 1px;
			margin: -1px;
			overflow: hidden;
			padding: 0;
			position: absolute;
			width: 1px;
		}
		.alertify-inner {
			text-align: center;
		}
		.alertify-text {
			margin-bottom: 15px;
			width: 100%;
			-webkit-box-sizing: border-box;
			   -moz-box-sizing: border-box;
			        box-sizing: border-box;
			font-size: 100%;
		}
		.alertify-buttons {
		}
			.alertify-button {
				/* line-height and font-size for input button */
				line-height: 1.5;
				font-size: 100%;
				display: inline-block;
				cursor: pointer;
				margin-left: 5px;
			}

@media only screen and (max-width: 680px) {
	.alertify,
	.alertify-logs {
		width: 90%;
		-webkit-box-sizing: border-box;
		   -moz-box-sizing: border-box;
		        box-sizing: border-box;
	}
	.alertify {
		left: 5%;
		margin: 0;
	}
}
/**
 * Default Look and Feel
 */
.alertify,
.alertify-log {
	font-family: sans-serif;
}
.alertify {
	background: #FFF;
	border: 10px solid #333; /* browsers that don't support rgba */
	border: 10px solid rgba(0,0,0,.7);
	border-radius: 8px;
	box-shadow: 0 3px 3px rgba(0,0,0,.3);
	-webkit-background-clip: padding;     /* Safari 4? Chrome 6? */
	   -moz-background-clip: padding;     /* Firefox 3.6 */
	        background-clip: padding-box; /* Firefox 4, Safari 5, Opera 10, IE 9 */
}
	.alertify-text {
		border: 1px solid #CCC;
		padding: 10px;
		border-radius: 4px;
	}
	.alertify-button {
		border-radius: 4px;
		color: #FFF;
		font-weight: bold;
		padding: 6px 15px;
		text-decoration: none;
		text-shadow: 1px 1px 0 rgba(0,0,0,.5);
		box-shadow: inset 0 1px 0 0 rgba(255,255,255,.5);
		background-image: -webkit-linear-gradient(top, rgba(255,255,255,.3), rgba(255,255,255,0));
		background-image:    -moz-linear-gradient(top, rgba(255,255,255,.3), rgba(255,255,255,0));
		background-image:     -ms-linear-gradient(top, rgba(255,255,255,.3), rgba(255,255,255,0));
		background-image:      -o-linear-gradient(top, rgba(255,255,255,.3), rgba(255,255,255,0));
		background-image:         linear-gradient(top, rgba(255,255,255,.3), rgba(255,255,255,0));
	}
	.alertify-button:hover,
	.alertify-button:focus {
		outline: none;
		box-shadow: 0 0 15px #2B72D5;
		background-image: -webkit-linear-gradient(top, rgba(0,0,0,.1), rgba(0,0,0,0));
		background-image:    -moz-linear-gradient(top, rgba(0,0,0,.1), rgba(0,0,0,0));
		background-image:     -ms-linear-gradient(top, rgba(0,0,0,.1), rgba(0,0,0,0));
		background-image:      -o-linear-gradient(top, rgba(0,0,0,.1), rgba(0,0,0,0));
		background-image:         linear-gradient(top, rgba(0,0,0,.1), rgba(0,0,0,0));
	}
	.alertify-button:active {
		position: relative;
		top: 1px;
	}
		.alertify-button-cancel {
			background-color: #FE1A00;
			border: 1px solid #D83526;
		}
		.alertify-button-ok {
			background-color: #5CB811;
			border: 1px solid #3B7808;
		}
		
.alertify-log {
	background: #1F1F1F;
	background: rgba(0,0,0,.9);
	padding: 15px;
	border-radius: 4px;
	color: #FFF;
	text-shadow: -1px -1px 0 rgba(0,0,0,.5);
}
	.alertify-log-error {
		background: #FE1A00;
		background: rgba(254,26,0,.9);
	}
	.alertify-log-success {
		background: #5CB811;
		background: rgba(92,184,17,.9);
	}body {
  max-width: 680px;
  _width:expression(this.scrollWidth > 680 ? "680px" : "auto");
  background-image: url("images/28-faded-parchment-background-sml.jpg");  
  font-family: "DejaVu Sans", Georgia,"Times New Roman",serif;
  font-size: 16px; /* reset, specified in px so IE currentStyle works */
  background-color: #F7F4F1;
  color: rgba(0, 0, 0, 0.85);
  margin: 8px auto; 
  padding: 0 8px;
  -webkit-user-select: text; /* selectable text for Chrome app support */
}

a {
  /* colored underlined links for XULRunner support */
  color: blue;
  text-decoration: underline;
  cursor: pointer;
}

  
#quickstats {
  	color: white;
  	background-color: black;
  	padding: 2px 3px 0px 3px;
}

#main {
	color: black;
  background-color: white;
  background-color: rgba(255, 255, 255, 0.4);
  border-width:1px 1px 1px 1px; 
  border-color:black; 
  border-style:solid; 
  padding: 10px;
}

.censored {
	color: transparent;
   text-shadow: 0 0 8px black, 1px 1px 7px black, -1px -1px 6px black;
}

#text {
	line-height: 1.5;
}

#text img {
  max-width: 100%;
}

.statBar {
  background-color: #949291;
  height: 2em;
  line-height: 2em;
  margin: 4px 0;
  width: 300px;
  color: #f7f4f1;
  position: relative; /* to allow absolute positioned value */
  z-index: 0;
}
.opposed {
  background-color: #6D6DFC;
}

table {
  margin-bottom: 1.5em;
}

.statBar > span, .statLine > span {
  position: relative;
  z-index: 1; /* visible over stat value */
  white-space: nowrap; /* remain on single line so we can resize font based on width */
}
.statValue {
  background-color: #ff5955;
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  z-index: -1;
  /* width will be determined at runtime, 0-100% */
}

.choice label{
    line-height:20px;
    padding: 11px 8px 12px;
    display:block;
    border-color:#a9acaf;
    border-style:solid;
    border-width: 1px 1px 0px 1px
}

.choice .firstChild{
    border-top-width:1px;
    -webkit-border-top-right-radius:8px;
    -webkit-border-top-left-radius:8px;
    border-top-right-radius:8px;
    border-top-left-radius:8px;
}
/* IE doesn't support label:last-child */
.choice .lastChild{
    border-bottom-width:1px;
    -webkit-border-bottom-right-radius:8px;
    -webkit-border-bottom-left-radius:8px;
    -moz-border-radius:0px 0px 8px 8px;
    border-bottom-right-radius:8px;
    border-bottom-left-radius:8px;
}
.choice .onlyChild{
    border-width:1px;
    -webkit-border-radius:8px;
    -moz-border-radius:8px;
    border-radius:8px;
}

.choice .noBorder {
  border-width: 0;
}

input[type="radio"], input[type="checkbox"] {
  margin-right: 8px;
}

.saveGame>label {
  display:block;
}

.choice .disabled {
  color: gray;
}

input[type=password]:disabled {
  background-color: lightgray;
}

/* Reset for Firefox vs. Chrome */
input[type=email],input[type=password] {
  padding: 1px;
  margin: 2px 0;
}

.next {
    clear: both;
    display:block;
    width:100%;
    font-size:25px;
    font-weight:bolder;
    font-family: sans-serif; /* reset, for Android */
    margin-bottom: 16px; /* reset button margin */
    -webkit-appearance: none; /* Safari, don't override my CSS styles */
    //color: #f7f4f1; /* Match background color */ 
    //background-color: #626160;
    color: white;
    background-color: olivedrab;
    border: none;
    -webkit-border-radius: 0.5em;
    -moz-border-radius: 0.5em;
    border-radius: 0.5em;
    padding: 6px;
}

.next:hover {
  color: #E4DED8;
}

h1 {
  font-size: x-large;
  font-weight: normal;
}

h2 {
  font-size: large;
  font-weight: normal;
}

#identity {
  float: right;
  display: none;
}

#identity > a {
  display: block;
  text-align: end;
}

#footer {
  margin:10px 0px 75px 0px;
}

#mobileLinks a img {
  border: 0;
}

.mobileBadges {
  margin: 0;
}

.spacedLink {
  margin-right:0.5em;
}

.spacedLink:last-child {
  margin-right:0;
}

#sharelist {
  margin: 0; /* Eliminate leading space before share links */
}

#sharelist li {
  line-height: 1cm; /* Don't let the links bunch up */
}

.alertify-cover {
  background-color: black;
  filter:alpha(opacity=50);
  opacity: 0.5;
}

#greybackground {
    position: fixed;
    width:100%;
    height:100%;
    background-color: black;
    filter:alpha(opacity=50);
    opacity: 0.5;
    top:0;
    left:0;
}

.savePassword {
  font-family: monospace;
  display: block;
}

.webOnly { /* We'll override this in JavaScript */
  display: none;
}

.alignleft {
  display: inline;
  float: left;
  margin-right: 1.625em;
  margin-bottom: 1em;
}
.alignright {
  display: inline;
  float: right;
  margin-left: 1.625em;
  margin-bottom: 1em;
}
.aligncenter {
  clear: both;
  display: block;
  margin-left: auto;
  margin-right: auto;
  margin-bottom: 1em;
}

#main form {
  clear: both;
}

@media only screen and (max-width: 480px) {
  .definition{
    display: none;
  }
  
  #headerLinks {
    line-height: 2; /* For tapability */
  }

  .gameTitle {
    display: none;
  }

  #advertisement {
    margin: -8px;
  }
  
  .mobileBadges {
    float: none;
  }
  
  #header {
    margin-top: 30px;
  }

  /** Floating images should leave enough room for text */
  #text .alignleft, #text .alignright {
    max-width: 45%;
  }

}
</style></head>
<body>
<div id="advertisement">
</div>
<div id="header">
  <div id="identity"><a href="#" id="email">you@example.com</a><a href="#" id="logout">Sign Out</a></div>

  <h1 class='gameTitle'>SeductQuest: The Dragon and the Princess</h1>
<h2 id="author" class="gameTitle"><!--by INSERTINSERTINSERT --></h2>

  <p id="headerLinks">
      <!-- <a href="credits.html" id="aboutLink" class="spacedLink">About</a> -->
    </p>
  <p id="buttons"><button id="statsButton" class="spacedLink" onclick="showStats()">Show Stats</button> <button id="restartButton" class="spacedLink" onclick="restartGame('prompt')">Restart</button> <button id="achievementsButton" onclick="showAchievements()" class="spacedLink" style="display: none">Achievements</button></p>
</div>
<div id="quickstats">Gold: 22</div>
<div id="main">
<div id="text">
</div>
<script>
startLoading();
</script>
</div>
<div id="mobileLinks" class="webOnly">
  <!-- INSERT fixed links
  <p class="mobileBadges">
    <a class='spacedLink' id='iphoneLink' href='http://itunes.apple.com/us/app/choice-of-broadsides/id365660770'><img src='../icons/appstore.png' style='height: 3em;'></a>
    <a class='spacedLink' id='androidLink' href='https://play.google.com/store/apps/details?id=com.choiceofgames.broadsides'><img src='../icons/droid.png' style='height: 3em;'></a>
    <a class='spacedLink' id='kindleLink' href='http://www.amazon.com/Choice-of-Broadsides/dp/B004FRH3PO'><img src='../icons/kindle.png' style='height: 3em;'></a>
    <a class='spacedLink' id='chromeLink' href='https://chrome.google.com/webstore/detail/donhlnjhcdnocioldondhgngncepnpch'><img src='../icons/chrome.png' style='height: 3em;'></a>
  </p>
  -->
</div>
<p id="emailUs">Love it?  Hate it?  Write us at <a id="supportEmail" href='mailto:support-external@choiceofgames.com'>support@choiceofgames.com</a></p>
<noscript>
<p>This game requires JavaScript; please enable JavaScript and refresh this page.</p>
<p>If you can't get the game to work, please write to us at
<a href="mailto:support-external@choiceofgames.com">support-external@choiceofgames.com</a> for assistance.</p>
</noscript>
</body>
</html>
